"use strict";(self.webpackChunkada_lang_io=self.webpackChunkada_lang_io||[]).push([[9735],{4373:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>g,contentTitle:()=>m,default:()=>y,frontMatter:()=>p,metadata:()=>h,toc:()=>f});var a=t(91716),i=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,u=(e,n,t)=>n in e?i(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,c=(e,n)=>{for(var t in n||(n={}))s.call(n,t)&&u(e,t,n[t]);if(r)for(var t of r(n))d.call(n,t)&&u(e,t,n[t]);return e};const p={title:"2. Source Code Presentation",sidebar_position:2},m=void 0,h={unversionedId:"style-guide/Source_Code_Presentation",id:"style-guide/Source_Code_Presentation",title:"2. Source Code Presentation",description:"The physical layout of source text on the page or screen has a strong",source:"@site/docs/style-guide/Source_Code_Presentation.mdx",sourceDirName:"style-guide",slug:"/style-guide/Source_Code_Presentation",permalink:"/docs/style-guide/Source_Code_Presentation",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"2. Source Code Presentation",sidebar_position:2},sidebar:"styleGuideSidebar",previous:{title:"1. Introduction",permalink:"/docs/style-guide/Introduction"},next:{title:"3. Readability",permalink:"/docs/style-guide/s3/"}},g={},f=[{value:"Code Formatting",id:"code-formatting",level:2},{value:"Horizontal Spacing",id:"horizontal-spacing",level:3},{value:"guideline",id:"guideline",level:4},{value:"instantiation",id:"instantiation",level:4},{value:"example",id:"example",level:4},{value:"rationale",id:"rationale",level:4},{value:"exceptions",id:"exceptions",level:4},{value:"automation notes",id:"automation-notes",level:4},{value:"Indentation",id:"indentation",level:3},{value:"guideline",id:"guideline-1",level:4},{value:"instantiation",id:"instantiation-1",level:4},{value:"example",id:"example-1",level:4},{value:"rationale",id:"rationale-1",level:4},{value:"exceptions",id:"exceptions-1",level:4},{value:"automation notes",id:"automation-notes-1",level:4},{value:"Alignment of Operators",id:"alignment-of-operators",level:3},{value:"guideline",id:"guideline-2",level:4},{value:"example",id:"example-2",level:4},{value:"rationale",id:"rationale-2",level:4},{value:"exceptions",id:"exceptions-2",level:4},{value:"automation notes",id:"automation-notes-2",level:4},{value:"Alignment of Declarations",id:"alignment-of-declarations",level:3},{value:"guideline",id:"guideline-3",level:4},{value:"instantiation",id:"instantiation-2",level:4},{value:"example",id:"example-3",level:4},{value:"rationale",id:"rationale-3",level:4},{value:"automation notes",id:"automation-notes-3",level:4},{value:"More on Alignment",id:"more-on-alignment",level:3},{value:"guideline",id:"guideline-4",level:4},{value:"instantiation",id:"instantiation-3",level:4},{value:"example",id:"example-4",level:4},{value:"rationale",id:"rationale-4",level:4},{value:"notes",id:"notes",level:4},{value:"exceptions",id:"exceptions-3",level:4},{value:"automation notes",id:"automation-notes-4",level:4},{value:"Blank Lines",id:"blank-lines",level:3},{value:"guideline",id:"guideline-5",level:4},{value:"example",id:"example-5",level:4},{value:"rationale",id:"rationale-5",level:4},{value:"automation notes",id:"automation-notes-5",level:4},{value:"Pagination",id:"pagination",level:3},{value:"guideline",id:"guideline-6",level:4},{value:"instantiation",id:"instantiation-4",level:4},{value:"example",id:"example-6",level:4},{value:"rationale",id:"rationale-6",level:4},{value:"exceptions",id:"exceptions-4",level:4},{value:"automation notes",id:"automation-notes-6",level:4},{value:"Number of Statements Per Line",id:"number-of-statements-per-line",level:3},{value:"guideline",id:"guideline-7",level:4},{value:"example",id:"example-7",level:4},{value:"rationale",id:"rationale-7",level:4},{value:"exceptions",id:"exceptions-5",level:4},{value:"automation notes",id:"automation-notes-7",level:4},{value:"exceptions",id:"exceptions-6",level:4},{value:"Source Code Line Length",id:"source-code-line-length",level:3},{value:"guideline",id:"guideline-8",level:4},{value:"instantiation",id:"instantiation-5",level:4},{value:"rationale",id:"rationale-8",level:4},{value:"exceptions",id:"exceptions-7",level:4},{value:"automation notes",id:"automation-notes-8",level:4},{value:"Summary",id:"summary",level:2},{value:"code formatting",id:"code-formatting-1",level:3}],k={toc:f};function y(e){var n,t=e,{components:i}=t,u=((e,n)=>{var t={};for(var a in e)s.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&r)for(var a of r(e))n.indexOf(a)<0&&d.call(e,a)&&(t[a]=e[a]);return t})(t,["components"]);return(0,a.kt)("wrapper",(n=c(c({},k),u),o(n,l({components:i,mdxType:"MDXLayout"}))),(0,a.kt)("p",null,"The physical layout of source text on the page or screen has a strong\neffect on its readability. This chapter contains source code\npresentation guidelines intended to make the code more readable."),(0,a.kt)("p",null,'In addition to the general purpose guidelines, specific recommendations\nare made in the "instantiation" sections. If you disagree with the\nspecific recommendations, you may want to adopt your own set of\nconventions that still follow the general purpose guidelines. Above all,\nbe consistent across your entire project.'),(0,a.kt)("p",null,'An entirely consistent layout is hard to achieve or check manually.\nTherefore, you may prefer to automate layout with a tool for\nparameterized code formatting or incorporate the guidelines into an\nautomatic coding template. Some of the guidelines and specific\nrecommendations presented in this chapter cannot be enforced by a\nformatting tool because they are based on the semantics, not the syntax,\nof the Ada code. More details are given in the "automation notes"\nsections.'),(0,a.kt)("h2",c({},{id:"code-formatting"}),"Code Formatting"),(0,a.kt)("p",null,'The "code formatting" of Ada source code affects how the code looks, not\nwhat the code does. Topics included here are horizontal spacing,\nindentation, alignment, pagination, and line length. The most important\nguideline is to be consistent throughout the compilation unit as well as\nthe project.'),(0,a.kt)("h3",c({},{id:"horizontal-spacing"}),"Horizontal Spacing"),(0,a.kt)("h4",c({},{id:"guideline"}),"guideline"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Use consistent spacing around delimiters."),(0,a.kt)("li",{parentName:"ul"},"Use the same spacing as you would in regular prose.")),(0,a.kt)("h4",c({},{id:"instantiation"}),"instantiation"),(0,a.kt)("p",null,"Specifically, leave at least one blank space in the following places, as\nshown in the examples throughout this book. More spaces may be required\nfor the vertical alignment recommended in subsequent guidelines."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Before and after the following delimiters and binary operators:")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-text"}),"  + - * / &\n  < = > /= <= >=\n  := => | ..\n  :\n  <>\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Outside of the quotes for string (\") and character (' ) literals,\nexcept where prohibited."),(0,a.kt)("li",{parentName:"ul"},"Outside, but not inside, parentheses."),(0,a.kt)("li",{parentName:"ul"},"After commas (,) and semicolons (;).")),(0,a.kt)("p",null,"Do not leave any blank spaces in the following places, even if this\nconflicts with the above recommendations."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"After the plus (+) and minus (-) signs when used as unary operators."),(0,a.kt)("li",{parentName:"ul"},"After a function call."),(0,a.kt)("li",{parentName:"ul"},"Inside of label delimiters (\\<\\< ",">",">",")."),(0,a.kt)("li",{parentName:"ul"},"Before and after the exponentiation operator (","*","*","), apostrophe ('),\nand period (.)"),(0,a.kt)("li",{parentName:"ul"},"Between multiple consecutive opening or closing parentheses."),(0,a.kt)("li",{parentName:"ul"},"Before commas (,) and semicolons (;).")),(0,a.kt)("p",null,"When superfluous parentheses are omitted because of operator precedence\nrules, spaces may optionally be removed around the highest precedence\noperators in that expression."),(0,a.kt)("h4",c({},{id:"example"}),"example"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),'Default_String : constant String :=\n      "This is the long string returned by" &\n      " default. It is broken into multiple" &\n      " Ada source lines for convenience.";\n\ntype Signed_Whole_16 is range -2**15 .. 2**15 - 1;\ntype Address_Area  is array (Natural range <>) of Signed_Whole_16;\n\nRegister : Address_Area (16#7FF0# .. 16#7FFF#);\nMemory   : Address_Area (       0 .. 16#7FEC#);\n\nRegister (Pc) := Register (A);\n\nX := Signed_Whole_16 (Radius * Sin (Angle));\n\nRegister (Index) := Memory (Base_Address + Index * Element_Length);\n\nGet (Value => Sensor);\n\nError_Term := 1.0 - (Cos (Theta)**2 + Sin (Theta)**2);\n\nZ      := X**3;\nY      := C * X + B;\nVolume := Length * Width * Height;\n')),(0,a.kt)("h4",c({},{id:"rationale"}),"rationale"),(0,a.kt)("p",null,"It is a good idea to use white space around delimiters and operators\nbecause they are typically short sequences (one or two characters) that\ncan easily get lost among the longer keywords and identifiers. Putting\nwhite space around them makes them stand out. Consistency in spacing\nalso helps make the source code easier to scan visually."),(0,a.kt)("p",null,"However, many of the delimiters (commas, semicolons, parentheses, etc.)\nare familiar as normal punctuation marks. It is distracting to see them\nspaced differently in a computer program than in normal text. Therefore,\nuse the same spacing as in text (no spaces before commas and semicolons,\nno spaces inside parentheses, etc.)."),(0,a.kt)("h4",c({},{id:"exceptions"}),"exceptions"),(0,a.kt)("p",null,"The one notable exception is the colon (:). In Ada, it is useful to use\nthe colon as a tabulator or a column separator (see Guideline 2.1.4). In\nthis context, it makes sense to put spaces before and after the colon\nrather than only after it as in normal text."),(0,a.kt)("h4",c({},{id:"automation-notes"}),"automation notes"),(0,a.kt)("p",null,"The guidelines in this section are easily enforced with an automatic\ncode formatter."),(0,a.kt)("h3",c({},{id:"indentation"}),"Indentation"),(0,a.kt)("h4",c({},{id:"guideline-1"}),"guideline"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Indent and align nested control structures, continuation lines, and\nembedded units consistently."),(0,a.kt)("li",{parentName:"ul"},"Distinguish between indentation for nested control structures and\nfor continuation lines."),(0,a.kt)("li",{parentName:"ul"},"Use spaces for indentation, not the tab character (Nissen and Wallis\n1984, \xa72.2).")),(0,a.kt)("h4",c({},{id:"instantiation-1"}),"instantiation"),(0,a.kt)("p",null,"Specifically, the following indentation conventions are recommended, as\nshown in the examples throughout this book. Note that the minimum\nindentation is described. More spaces may be required for the vertical\nalignment recommended in subsequent guidelines."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Use the recommended paragraphing shown in the Ada Reference Manual\n(1995)."),(0,a.kt)("li",{parentName:"ul"},"Use three spaces as the basic unit of indentation for nesting."),(0,a.kt)("li",{parentName:"ul"},"Use two spaces as the basic unit of indentation for continuation\nlines.")),(0,a.kt)("p",null,"A label is outdented three spaces:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"begin\n<<label>>\n   <statement>\nend;\n")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"<long statement with line break>\n  <trailing part of same statement>\n")),(0,a.kt)("p",null,"The if statement and the plain loop:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"if <condition> then\n   <statements>\nelsif <condition> then\n   <statements>\nelse\n   <statements>\nend if;\n")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"<name>:\nloop\n   <statements>\n   exit when <condition>;\n   <statements>\nend loop <name>;\n")),(0,a.kt)("p",null,"Loops with the for and while iteration schemes:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"<name>:\n   for <scheme> loop\n      <statements>\n   end loop <name>;\n")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"<name>:\n   while <condition> loop\n      <statements>\n   end loop <name>;\n")),(0,a.kt)("p",null,"The block and the case statement as recommended in the Ada Reference\nManual (1995):"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"<name>:\n   declare\n      <declarations>\n   begin\n      <statements>\n   exception\n      when <choice> =>\n         <statements>\n      when others =>\n         <statements>\n   end <name>;\n")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"case <expression> is\n   when <choice> =>\n      <statements>\n   when <choice> =>\n      <statements>\n   when others =>\n      <statements>\nend case;  --<comment>\n")),(0,a.kt)("p",null,"These case statements save space over the Ada Reference Manual (1995)\nrecommendation and depend on very short statement lists, respectively.\nWhichever you choose, be consistent:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"case <expression> is\nwhen <choice> =>\n     <statements>\nwhen <choice> =>\n     <statements>\nwhen others =>\n     <statements>\nend case;\n")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"case <expression> is\n   when <choice> => <statements>\n                    <statements>\n   when <choice> => <statements>\n   when others   => <statements>\nend case;\n")),(0,a.kt)("p",null,"The various forms of selective accept and the timed and conditional\nentry calls:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"select\n   when <guard> =>\n      <accept statement>\n      <statements>\nor\n   <accept statement>\n   <statements>\nor\n   when <guard> =>\n      delay <interval>;\n      <statements>\nor\n   when <guard> =>\n      terminate;\nelse\n   <statements>\nend select;\n")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"select\n   <entry call>;\n   <statements>\nor\n   delay <interval>;\n   <statements>\nend select;\n\nselect\n   <entry call>;\n   <statements>\nelse\n   <statements>\nend select;\n\nselect\n   <triggering alternative>\nthen abort\n   <abortable part>\nend select;\n")),(0,a.kt)("p",null,"The accept statement:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"accept <specification> do\n   <statements>\nend <name>;\n")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"separate (<parent unit>)\n<proper body>\n")),(0,a.kt)("p",null,"A subunit:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"separate (<parent unit>)\n<proper body>\nend <name>;\n")),(0,a.kt)("p",null,"Proper bodies of program units:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"procedure <specification> is\n   <declarations>\nbegin\n   <statements>\nexception\n   when <choice> =>\n      <statements>\nend <name>;\n\nfunction <specification>\n  return <type name> is\n   <declarations>\nbegin\n   <statements>\nexception\n   when <choice> =>\n      <statements>\nend <name>;\n")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"package body <name> is\n   <declarations>\nbegin\n   <statements>\nexception\n   when <choice>=>\n      <statements>\nend <name>;\n\ntask body <name> is\n   <declarations>\nbegin\n   <statements>\nexception\n   when <choice>=>\n      <statements>\nend <name>;\n")),(0,a.kt)("p",null,"Context clauses on compilation units are arranged as a table. Generic\nformal parameters do not obscure the unit itself. Function, package, and\ntask specifications use standard indentation:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"with <name>; use <name>;\nwith <name>;\nwith <name>;\n\n<compilation unit>\n\ngeneric\n   <formal parameters>\n<compilation unit>\n")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"function <specification>\n  return <type>;\n\npackage <name> is\n   <declarations>\nprivate\n   <declarations>\nend <name>;\n\ntask type <name> is\n   <entry declarations>\nend <name>;\n")),(0,a.kt)("p",null,"Instantiations of generic units and record indentation:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"procedure <name> is\n   new <generic name> <actuals>\n\nfunction <name> is\n   new <generic name> <actuals>\n\npackage <name> is\n   new <generic name> <actuals>\n")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"type ... is\n   record\n      <component list>\n      case <discriminant name> is\n         when <choice> =>\n            <component list>\n         when <choice> =>\n            <component list>\n      end case;\n   end record;\n")),(0,a.kt)("p",null,"Indentation for record alignment:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"for <name> use\n   record <mod clause>\n      <component clause>\n   end record;\n")),(0,a.kt)("p",null,"Tagged types and type extension:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"type ... is tagged\n   record\n      <component list>\n   end record;\n\ntype ... is new ... with\n   record\n      <component list>\n   end record;\n")),(0,a.kt)("h4",c({},{id:"example-1"}),"example"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),'Default_String : constant String :=\n      "This is the long string returned by" &\n      " default.  It is broken into multiple" &\n      " Ada source lines for convenience.";\n\n...\n\n   if Input_Found then\n      Count_Characters;\n\n   else  --not Input_Found\n      Reset_State;\n      Character_Total :=\n        First_Part_Total  * First_Part_Scale_Factor  +\n        Second_Part_Total * Second_Part_Scale_Factor +\n        Default_String\'Length + Delimiter_Size;\n   end if;\n\nend loop;\n')),(0,a.kt)("h4",c({},{id:"rationale-1"}),"rationale"),(0,a.kt)("p",null,"Indentation improves the readability of the code because it gives you a\nvisual indicator of the program structure. The levels of nesting are\nclearly identified by indentation, and the first and last keywords in a\nconstruct can be matched visually."),(0,a.kt)("p",null,"While there is much discussion on the number of spaces to indent, the\nreason for indentation is code clarity. The fact that the code is\nindented consistently is more important than the number of spaces used\nfor indentation."),(0,a.kt)("p",null,'Additionally, the Ada Reference Manual (1995, \xa71.1.4) states that the\nlayout shown in the examples and syntax rules in the manual is the\nrecommended code layout to be used for Ada programs: "The syntax rules\ndescribing structured constructs are presented in a form that\ncorresponds to the recommended paragraphing . . . . Different lines are\nused for parts of a syntax rule if the corresponding parts of the\nconstruct described by the rule are intended to be on different lines .\n. . . It is recommended that all indentation be by multiples of a basic\nstep of indentation (the number of spaces for the basic step is not\ndefined)."'),(0,a.kt)("p",null,"It is important to indent continuation lines differently from nested\ncontrol structures to make them visually distinct. This prevents them\nfrom obscuring the structure of the code as you scan it."),(0,a.kt)("p",null,"Listing context clauses on individual lines allows easier maintenance;\nchanging a context clause is less error-prone."),(0,a.kt)("p",null,"Indenting with spaces is more portable than indenting with tabs because\ntab characters are displayed differently by different terminals and\nprinters."),(0,a.kt)("h4",c({},{id:"exceptions-1"}),"exceptions"),(0,a.kt)("p",null,"If you are using a variable width font, tabs will align better than\nspaces. However, depending on your tab setting, lines of successive\nindentation may leave you with a very short line length."),(0,a.kt)("h4",c({},{id:"automation-notes-1"}),"automation notes"),(0,a.kt)("p",null,"The guidelines in this section are easily enforced with an automatic\ncode formatter."),(0,a.kt)("h3",c({},{id:"alignment-of-operators"}),"Alignment of Operators"),(0,a.kt)("h4",c({},{id:"guideline-2"}),"guideline"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Align operators vertically to emphasize local program structure and\nsemantics.")),(0,a.kt)("h4",c({},{id:"example-2"}),"example"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"    if Slot_A >= Slot_B then\n       Temporary := Slot_A;\n       Slot_A    := Slot_B;\n       Slot_B    := Temporary;\n    end if;\n\n    ----------------------------------------------------------------\n    Numerator   := B**2 - 4.0 * A * C;\n    Denominator := 2.0 * A;\n    Solution_1 := (B + Square_Root(Numerator)) / Denominator;\n    Solution_2 := (B - Square_Root(Numerator)) / Denominator;\n    ----------------------------------------------------------------\n\n    X := A * B +\n         C * D +\n         E * F;\n\n    Y := (A * B + C) +  (2.0 * D - E) -  -- basic equation\n         3.5;                            -- account for error factor\n")),(0,a.kt)("h4",c({},{id:"rationale-2"}),"rationale"),(0,a.kt)("p",null,"Alignment makes it easier to see the position of the operators and,\ntherefore, puts visual emphasis on what the code is doing."),(0,a.kt)("p",null,"The use of lines and spacing on long expressions can emphasize terms,\nprecedence of operators, and other semantics. It can also leave room for\nhighlighting comments within an expression."),(0,a.kt)("h4",c({},{id:"exceptions-2"}),"exceptions"),(0,a.kt)("p",null,"If vertical alignment of operators forces a statement to be broken over\ntwo lines, especially if the break is at an inappropriate spot, it may\nbe preferable to relax the alignment guideline."),(0,a.kt)("h4",c({},{id:"automation-notes-2"}),"automation notes"),(0,a.kt)("p",null,'The last example above shows a kind of "semantic alignment" that is not\ntypically enforced or even preserved by automatic code formatters. If\nyou break expressions into semantic parts and put each on a separate\nline, beware of using a code formatter later. It is likely to move the\nentire expression to a single line and accumulate all the comments at\nthe end. However, there are some formatters that are intelligent enough\nto leave a line break intact when the line contains a comment. A good\nformatter will recognize that the last example above does not violate\nthe guidelines and would, therefore, preserve it as written.'),(0,a.kt)("h3",c({},{id:"alignment-of-declarations"}),"Alignment of Declarations"),(0,a.kt)("h4",c({},{id:"guideline-3"}),"guideline"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Use vertical alignment to enhance the readability of declarations."),(0,a.kt)("li",{parentName:"ul"},"Provide, at most, one declaration per line."),(0,a.kt)("li",{parentName:"ul"},"Indent all declarations in a single declarative part at the same\nlevel.")),(0,a.kt)("h4",c({},{id:"instantiation-2"}),"instantiation"),(0,a.kt)("p",null,"For declarations not separated by blank lines, follow these alignment\nrules:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Align the colon delimiters."),(0,a.kt)("li",{parentName:"ul"},"Align the := initialization delimiter."),(0,a.kt)("li",{parentName:"ul"},"When trailing comments are used, align the comment delimiter."),(0,a.kt)("li",{parentName:"ul"},"When the declaration overflows a line, break the line and add an\nindentation level for those lines that wrap. The preferred places to\nbreak, in order, are: (1) the comment delimiter; (2) the\ninitialization delimiter; (3) the colon delimiter."),(0,a.kt)("li",{parentName:"ul"},"For enumeration type declarations that do not fit on a single line,\nput each literal on a separate line, using the next level of\nindentation. When appropriate, semantically related literals can be\narranged by row or column to form a table.")),(0,a.kt)("h4",c({},{id:"example-3"}),"example"),(0,a.kt)("p",null,"Variable and constant declarations can be laid out in a tabular format\nwith columns separated by the symbols :, :=, and --"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),'    Prompt_Column : constant        := 40;\n    Question_Mark : constant String := " ? "; -- prompt on error input\n    Prompt_String : constant String := " ==> ";\n')),(0,a.kt)("p",null,"If this results in lines that are too long, they can be laid out with\neach part on a separate line with its unique indentation level:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"    subtype User_Response_Text_Frame is String (1 .. 72);\n    -- If the declaration needed a comment, it would fit here.\n    Input_Line_Buffer : User_Response_Text_Frame\n           := Prompt_String &\n              String'(1 .. User_Response_Text_Frame'Length -\n                           Prompt_String'Length => ' ');\n")),(0,a.kt)("p",null,"Declarations of enumeration literals can be listed in one or more\ncolumns as:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"  type Op_Codes_In_Column is\n        (Push,\n         Pop,\n         Add,\n         Subtract,\n         Multiply,\n         Divide,\n         Subroutine_Call,\n         Subroutine_Return,\n         Branch,\n         Branch_On_Zero,\n         Branch_On_Negative);\n")),(0,a.kt)("p",null,"or, to save space:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"    type Op_Codes_Multiple_Columns is\n          (Push,            Pop,                Add,\n           Subtract,        Multiply,           Divide,\n           Subroutine_Call, Subroutine_Return,  Branch,\n           Branch_On_Zero,  Branch_On_Negative);\n")),(0,a.kt)("p",null,"or, to emphasize related groups of values:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"    type Op_Codes_In_Table is\n          (Push,            Pop,\n           Add,             Subtract,          Multiply,    Divide,\n           Subroutine_Call, Subroutine_Return,\n           Branch,          Branch_On_Zero,    Branch_On_Negative);\n")),(0,a.kt)("h4",c({},{id:"rationale-3"}),"rationale"),(0,a.kt)("p",null,'Many programming standards documents require tabular repetition of\nnames, types, initial values, and meaning in unit header comments. These\ncomments are redundant and can become inconsistent with the code.\nAligning the declarations themselves in tabular fashion (see the\nexamples above) provides identical information to both compiler and\nreader; enforces, at most, one declaration per line; and eases\nmaintenance by providing space for initializations and necessary\ncomments. A tabular layout enhances readability, thus preventing names\nfrom "hiding" in a mass of declarations. This applies to all\ndeclarations: types, subtypes, objects, exceptions, named numbers, and\nso forth.'),(0,a.kt)("h4",c({},{id:"automation-notes-3"}),"automation notes"),(0,a.kt)("p",null,"Most of the guidelines in this section are easily enforced with an\nautomatic code formatter. The one exception is the last enumerated type\nexample, which is laid out in rows based on the semantics of the\nenumeration literals. An automatic code formatter will not be able to do\nthis and will likely move the enumeration literals to different lines.\nHowever, tools that are checking only for violations of the guidelines\nshould accept the tabular form of an enumeration type declaration."),(0,a.kt)("h3",c({},{id:"more-on-alignment"}),"More on Alignment"),(0,a.kt)("h4",c({},{id:"guideline-4"}),"guideline"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Align parameter modes and parentheses vertically.")),(0,a.kt)("h4",c({},{id:"instantiation-3"}),"instantiation"),(0,a.kt)("p",null,"Specifically, it is recommended that you:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Place one formal parameter specification per line."),(0,a.kt)("li",{parentName:"ul"},"Vertically align parameter names, colons, the reserved word in, the\nreserved word out, and parameter subtypes."),(0,a.kt)("li",{parentName:"ul"},"Place the first parameter specification on the same line as the\nsubprogram or entry name. If any parameter subtypes are forced\nbeyond the line length limit, place the first parameter\nspecification on a new line indented the same as a continuation\nline.")),(0,a.kt)("h4",c({},{id:"example-4"}),"example"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"    procedure Display_Menu (Title   : in     String;\n                            Options : in     Menus;\n                            Choice  :    out Alpha_Numerics);\n")),(0,a.kt)("p",null,"The following two examples show alternate instantiations of this\nguideline:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"    procedure Display_Menu_On_Primary_Window\n          (Title   : in     String;\n           Options : in     Menus;\n           Choice  :    out Alpha_Numerics);\n")),(0,a.kt)("p",null,"or:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"    procedure Display_Menu_On_Screen (\n          Title   : in     String;\n          Options : in     Menus;\n          Choice  :    out Alpha_Numerics\n        );\n")),(0,a.kt)("p",null,"Aligning parentheses makes complicated relational expressions more\nclear:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"    if not (First_Character in Alpha_Numerics and then\n            Valid_Option(First_Character))        then\n")),(0,a.kt)("h4",c({},{id:"rationale-4"}),"rationale"),(0,a.kt)("p",null,"This alignment facilitates readability and understandability, and it is\neasy to achieve given automated support. Aligning parameter modes\nprovides the effect of a table with columns for parameter name, mode,\nsubtype, and, if necessary, parameter-specific comments. Vertical\nalignment of parameters across subprograms within a compilation unit\nincreases the readability even more."),(0,a.kt)("h4",c({},{id:"notes"}),"notes"),(0,a.kt)("p",null,"Various options are available for subprogram layout. The second example\nabove aligns all of the subprogram names and parameter names in a\nprogram. This has the disadvantage of occupying an unnecessary line\nwhere subprogram names are short and looking awkward if there is only\none parameter."),(0,a.kt)("p",null,"The third example is a format commonly used to reduce the amount of\nediting required when parameter lines are added, deleted, or reordered.\nThe parentheses do not have to be moved from line to line. However, the\nlast parameter line is the only one without a semicolon."),(0,a.kt)("h4",c({},{id:"exceptions-3"}),"exceptions"),(0,a.kt)("p",null,"When an operator function has two or more formal parameters of the same\ntype, it is more readable to declare the parameters in a single one-line\nlist rather than to separate the formal parameter list into multiple\nformal parameter specifications."),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),'    type Color_Scheme is (Red, Purple, Blue, Green, Yellow, White, Black, Brown, Gray, Pink);\n\n    function "&" (Left, Right : Color_Scheme) return Color_Scheme;\n')),(0,a.kt)("h4",c({},{id:"automation-notes-4"}),"automation notes"),(0,a.kt)("p",null,"Most of the guidelines in this section are easily enforced with an\nautomatic code formatter. The one exception is the last example, which\nshows vertical alignment of parentheses to emphasize terms of an\nexpression. This is difficult to achieve with an automatic code\nformatter unless the relevant terms of the expression can be determined\nstrictly through operator precedence."),(0,a.kt)("h3",c({},{id:"blank-lines"}),"Blank Lines"),(0,a.kt)("h4",c({},{id:"guideline-5"}),"guideline"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Use blank lines to group logically related lines of text (NASA\n1987).")),(0,a.kt)("h4",c({},{id:"example-5"}),"example"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"    if ... then\n\n       for ... loop\n          ...\n       end loop;\n\n    end if;\n")),(0,a.kt)("p",null,"This example separates different kinds of declarations with blank lines:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"    type Employee_Record is\n       record\n          Legal_Name    : Name;\n          Date_Of_Birth : Date;\n          Date_Of_Hire  : Date;\n          Salary        : Money;\n       end record;\n\n    type Day is\n          (Monday,    Tuesday,   Wednesday, Thursday,  Friday,\n           Saturday,  Sunday);\n\n    subtype Weekday is Day range Monday   .. Friday;\n    subtype Weekend is Day range Saturday .. Sunday;\n")),(0,a.kt)("h4",c({},{id:"rationale-5"}),"rationale"),(0,a.kt)("p",null,"When blank lines are used in a thoughtful and consistent manner,\nsections of related code are more visible to readers."),(0,a.kt)("h4",c({},{id:"automation-notes-5"}),"automation notes"),(0,a.kt)("p",null,"Automatic formatters do not enforce this guideline well because the\ndecision on where to insert blank lines is a semantic one. However, many\nformatters have the ability to leave existing blank lines intact. Thus,\nyou can manually insert the lines and not lose the effect when you run\nsuch a formatter."),(0,a.kt)("h3",c({},{id:"pagination"}),"Pagination"),(0,a.kt)("h4",c({},{id:"guideline-6"}),"guideline"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Highlight the top of each package or task specification, the top of\neach program unit body, and the end statement of each program unit.")),(0,a.kt)("h4",c({},{id:"instantiation-4"}),"instantiation"),(0,a.kt)("p",null,"Specifically, it is recommended that you:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Use file prologues, specification headers, and body headers to\nhighlight those structures as recommended in Guideline 3.3."),(0,a.kt)("li",{parentName:"ul"},"Use a line of dashes, beginning at the same column as the current\nindentation to highlight the definition of nested units embedded in\na declarative part. Insert the line of dashes immediately before and\nimmediately after the definition."),(0,a.kt)("li",{parentName:"ul"},"If two dashed lines are adjacent, omit the longer of the two.")),(0,a.kt)("h4",c({},{id:"example-6"}),"example"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"    with Basic_Types;\n    package body SPC_Numeric_Types is\n       ---------------------------------------------------------------------\n       function Max\n             (Left  : in     Basic_Types.Tiny_Integer;\n              Right : in     Basic_Types.Tiny_Integer)\n             return Basic_Types.Tiny_Integer is\n       begin\n          if Right < Left then\n             return Left;\n          else\n             return Right;\n          end if;\n       end Max;\n       ---------------------------------------------------------------------\n       function Min\n             (Left  : in     Basic_Types.Tiny_Integer;\n              Right : in     Basic_Types.Tiny_Integer)\n             return Basic_Types.Tiny_Integer is\n       begin\n          if Left < Right then\n             return Left;\n          else\n             return Right;\n          end if;\n       end Min;\n       ---------------------------------------------------------------------\n       use Basic_Types;\n    begin  -- SPC_Numeric_Types\n       Max_Tiny_Integer := Min(System_Max, Local_Max);\n       Min_Tiny_Integer := Max(System_Min, Local_Min);\n       -- ...\n    end SPC_Numeric_Types;\n")),(0,a.kt)("h4",c({},{id:"rationale-6"}),"rationale"),(0,a.kt)("p",null,"It is easy to overlook parts of program units that are not visible on\nthe current page or screen. The page lengths of presentation hardware\nand software vary widely. By clearly marking the program's logical page\nboundaries (e.g., with a dashed line), you enable a reader to quickly\ncheck whether all of a program unit is visible. Such pagination also\nmakes it easier to scan a large file quickly, looking for a particular\nprogram unit."),(0,a.kt)("h4",c({},{id:"exceptions-4"}),"exceptions"),(0,a.kt)("p",null,'This guideline does not address code layout on the physical "page"\nbecause the dimensions of such pages vary widely and no single guideline\nis appropriate.'),(0,a.kt)("h4",c({},{id:"automation-notes-6"}),"automation notes"),(0,a.kt)("p",null,"The guidelines in this section are easily enforced with an automatic\ncode formatter."),(0,a.kt)("h3",c({},{id:"number-of-statements-per-line"}),"Number of Statements Per Line"),(0,a.kt)("h4",c({},{id:"guideline-7"}),"guideline"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Start each statement on a new line."),(0,a.kt)("li",{parentName:"ul"},"Write no more than one simple statement per line."),(0,a.kt)("li",{parentName:"ul"},"Break compound statements over multiple lines.")),(0,a.kt)("h4",c({},{id:"example-7"}),"example"),(0,a.kt)("p",null,"Use:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"    if End_Of_File then\n       Close_File;\n    else\n       Get_Next_Record;\n    end if;\n")),(0,a.kt)("p",null,"rather than:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),"    if End_Of_File then Close_File; else Get_Next_Record; end if;\n")),(0,a.kt)("p",null,"exceptional case:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-ada"}),'    Put("A=");    Natural_IO.Put(A);    New_Line;\n    Put("B=");    Natural_IO.Put(B);    New_Line;\n    Put("C=");    Natural_IO.Put(C);    New_Line;\n')),(0,a.kt)("h4",c({},{id:"rationale-7"}),"rationale"),(0,a.kt)("p",null,"A single statement on each line enhances the reader's ability to find\nstatements and helps prevent statements being missed. Similarly, the\nstructure of a compound statement is clearer when its parts are on\nseparate lines."),(0,a.kt)("h4",c({},{id:"exceptions-5"}),"exceptions"),(0,a.kt)("p",null,"If a statement is longer than the remaining space on the line, continue\nit on the next line. This guideline includes declarations, context\nclauses, and subprogram parameters."),(0,a.kt)("p",null,'According to the Ada Reference Manual (1995, \xa71.1.4), "The preferred\nplaces for other line breaks are after semicolons."'),(0,a.kt)("h4",c({},{id:"automation-notes-7"}),"automation notes"),(0,a.kt)("p",null,"The guidelines in this section are easily enforced with an automatic\ncode formatter, with the single exception of the last example, which\nshows a semantic grouping of multiple statements onto a single line."),(0,a.kt)("h4",c({},{id:"exceptions-6"}),"exceptions"),(0,a.kt)("p",null,"The example of Put and New_Line statements shows a legitimate\nexception. This grouping of closely related statements on the same line\nmakes the structural relationship between the groups clear."),(0,a.kt)("h3",c({},{id:"source-code-line-length"}),"Source Code Line Length"),(0,a.kt)("h4",c({},{id:"guideline-8"}),"guideline"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Adhere to a maximum line length limit for source code (Nissen and\nWallis 1984, \xa72.3).")),(0,a.kt)("h4",c({},{id:"instantiation-5"}),"instantiation"),(0,a.kt)("p",null,"Specifically, it is recommended that you:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Limit source code line lengths to a maximum of 72 characters.")),(0,a.kt)("h4",c({},{id:"rationale-8"}),"rationale"),(0,a.kt)("p",null,"When Ada code is ported from one system to another, there may be\nrestrictions on the record size of source line statements, possibly for\none of the following reasons: some operating systems may not support\nvariable length records for tape I/O, or some printers and terminals\nsupport an 80-character line width with no line-wrap. See further\nrationale in the note for Guideline 7.1.2."),(0,a.kt)("p",null,"Source code must sometimes be published for various reasons, and\nletter-size paper is not as forgiving as a computer listing in terms of\nthe number of usable columns."),(0,a.kt)("p",null,"In addition, there are human limitations in the width of the field of\nview for understanding at the level required for reading source code.\nThese limitations correspond roughly to the 70- to 80-column range."),(0,a.kt)("h4",c({},{id:"exceptions-7"}),"exceptions"),(0,a.kt)("p",null,"An alternate instantiation is to limit source code length to 79\ncharacters. The 79-character limit differentiates the code from the\nFORTRAN 72-character limit. It also avoids problems with 80-character\nwidth terminals where the character in the last column may not print\ncorrectly."),(0,a.kt)("h4",c({},{id:"automation-notes-8"}),"automation notes"),(0,a.kt)("p",null,"The guidelines in this section are easily enforced with an automatic\ncode formatter."),(0,a.kt)("h2",c({},{id:"summary"}),"Summary"),(0,a.kt)("h3",c({},{id:"code-formatting-1"}),"code formatting"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Use consistent spacing around delimiters."),(0,a.kt)("li",{parentName:"ul"},"Use the same spacing as you would in regular prose."),(0,a.kt)("li",{parentName:"ul"},"Indent and align nested control structures, continuation lines, and\nembedded units consistently."),(0,a.kt)("li",{parentName:"ul"},"Distinguish between indentation for nested control structures and\nfor continuation lines."),(0,a.kt)("li",{parentName:"ul"},"Use spaces for indentation, not the tab character (Nissen and Wallis\n1984, \xa72.2)."),(0,a.kt)("li",{parentName:"ul"},"Align operators vertically to emphasize local program structure and\nsemantics."),(0,a.kt)("li",{parentName:"ul"},"Use vertical alignment to enhance the readability of declarations."),(0,a.kt)("li",{parentName:"ul"},"Provide, at most, one declaration per line."),(0,a.kt)("li",{parentName:"ul"},"Indent all declarations in a single declarative part at the same\nlevel."),(0,a.kt)("li",{parentName:"ul"},"Align parameter modes and parentheses vertically."),(0,a.kt)("li",{parentName:"ul"},"Use blank lines to group logically related lines of text (NASA\n1987)."),(0,a.kt)("li",{parentName:"ul"},"Highlight the top of each package or task specification, the top of\neach program unit body, and the end statement of each program unit."),(0,a.kt)("li",{parentName:"ul"},"Start each statement on a new line."),(0,a.kt)("li",{parentName:"ul"},"Write no more than one simple statement per line."),(0,a.kt)("li",{parentName:"ul"},"Break compound statements over multiple lines."),(0,a.kt)("li",{parentName:"ul"},"Adhere to a maximum line length limit for source code (Nissen and\nWallis 1984, \xa72.3).")),(0,a.kt)("admonition",c({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},'This page of the "Ada Quality and Style Guide" has been adapted from the\noriginal work at ',(0,a.kt)("a",c({parentName:"p"},{href:"https://en.wikibooks.org/wiki/Ada_Style_Guide"}),"https://en.wikibooks.org/wiki/Ada_Style_Guide"),", which is\nlicensed under the\n",(0,a.kt)("a",c({parentName:"p"},{href:"https://creativecommons.org/licenses/by-sa/3.0/"}),"Creative Commons Attribution-ShareAlike License"),";\nadditional terms may apply. Page not endorsed by Wikibooks or the Ada\nStyle Guide Wikibook authors. This page is licensed under the same license\nas the original work.")))}y.isMDXComponent=!0}}]);