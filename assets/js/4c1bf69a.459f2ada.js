"use strict";(self.webpackChunkada_lang_io=self.webpackChunkada_lang_io||[]).push([[7300],{9735:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>A,contentTitle:()=>g,default:()=>b,frontMatter:()=>k,metadata:()=>y,toc:()=>x});var n=a(1716),i=a(1256),r=a(4895),s=a(8424),o=a(2262),d=Object.defineProperty,m=Object.defineProperties,l=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,h=(e,t,a)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,f=(e,t)=>{for(var a in t||(t={}))c.call(t,a)&&h(e,a,t[a]);if(p)for(var a of p(t))u.call(t,a)&&h(e,a,t[a]);return e};const k={sidebar_position:151},g="C.5 Aspect Discard_Names",y={unversionedId:"arm/AA-C/AA-C.5",id:"arm/AA-C/AA-C.5",title:"C.5 Aspect Discard_Names",description:"This Reference Manual output has not been verified,",source:"@site/docs/arm/AA-C/AA-C.5.mdx",sourceDirName:"arm/AA-C",slug:"/arm/AA-C/AA-C.5",permalink:"/docs/arm/AA-C/AA-C.5",draft:!1,tags:[],version:"current",sidebarPosition:151,frontMatter:{sidebar_position:151},sidebar:"referenceManualSidebar",previous:{title:"C.4 Preelaboration Requirements",permalink:"/docs/arm/AA-C/AA-C.4"},next:{title:"C.6 Shared Variable Control",permalink:"/docs/arm/AA-C/AA-C.6"}},A={},x=[{value:"Static Semantics",id:"static-semantics",level:4},{value:"Syntax",id:"syntax",level:4},{value:"Legality Rules",id:"legality-rules",level:4},{value:"Static Semantics",id:"static-semantics-1",level:4},{value:"Implementation Advice",id:"implementation-advice",level:4},{value:"Wording Changes from Ada 95",id:"wording-changes-from-ada-95",level:4},{value:"Wording Changes from Ada 2012",id:"wording-changes-from-ada-2012",level:4}],T={toc:x};function b(e){var t,a=e,{components:d}=a,h=((e,t)=>{var a={};for(var n in e)c.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&p)for(var n of p(e))t.indexOf(n)<0&&u.call(e,n)&&(a[n]=e[n]);return a})(a,["components"]);return(0,n.kt)("wrapper",(t=f(f({},T),h),m(t,l({components:d,mdxType:"MDXLayout"}))),(0,n.kt)("h1",f({},{id:"c5-aspect-discard_names"}),"C.5 Aspect Discard_Names"),(0,n.kt)("admonition",f({},{type:"warning"}),(0,n.kt)("p",{parentName:"admonition"},"This Reference Manual output has not been verified,\nand may contain omissions or errors.\nReport any problems on the ",(0,n.kt)("a",f({parentName:"p"},{href:"https://github.com/ada-lang-io/ada-lang-io/issues/20"}),"tracking issue"))),(0,n.kt)(s.Z,{mdxType:"MarginText"},"1/4"),(0,n.kt)(o.Z,{items:["AI12-0072-1"],mdxType:"MarginInfo"}),(0,n.kt)("p",null,"[Specifying the aspect Discard_Names can be used to request a reduction in storage used for the names of entities with runtime name text.] ",(0,n.kt)("br",null)),(0,n.kt)("h4",f({},{id:"static-semantics"}),"Static Semantics"),(0,n.kt)(s.Z,{mdxType:"MarginText"},"1.1/4"),(0,n.kt)(o.Z,{items:["AI12-0072-1"],mdxType:"MarginInfo"}),(0,n.kt)("p",null,"An entity with ",(0,n.kt)("em",null,"runtime name text")," is a nonderived enumeration first subtype, a tagged first subtype, or an exception.",(0,n.kt)("br",null)),(0,n.kt)(s.Z,{mdxType:"MarginText"},"1.2/4"),(0,n.kt)(o.Z,{items:["AI12-0072-1"],mdxType:"MarginInfo"}),(0,n.kt)("p",null,"For an entity with runtime name text, the following language-defined representation aspect may be specified:",(0,n.kt)("br",null)),(0,n.kt)(s.Z,{mdxType:"MarginText"},"1.3/4"),(0,n.kt)("dt",null,(0,n.kt)("br",null),"Discard_Names"),(0,n.kt)("dl",null,(0,n.kt)("dd",null,"The type of aspect Discard_Names is Boolean. If directly specified, the ",(0,n.kt)("code",null,(0,n.kt)("a",{href:"../AA-13/AA-13.1#S0348"},"aspect_definition"))," shall be a static expression. If not specified (including by inheritance), the aspect is False.",(0,n.kt)("br",null))),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)(s.Z,{mdxType:"MarginText"},"1.a.1/4"),(0,n.kt)(i.Z,{type:"aarm",aarm:"note",mdxType:"Admonition"},(0,n.kt)("strong",null,"Aspect Description for "),(0,n.kt)("strong",null,"Discard_Names: "),"Requests a reduction in storage for names associated with an entity.",(0,n.kt)("br",null))),(0,n.kt)("h4",f({},{id:"syntax"}),"Syntax"),(0,n.kt)(s.Z,{mdxType:"MarginText"},"2"),(0,n.kt)("p",null,"The form of a ",(0,n.kt)("code",null,(0,n.kt)("a",{href:"../AA-2/AA-2.8#S0019"},"pragma"))," Discard_Names is as follows: ",(0,n.kt)("br",null)),(0,n.kt)(s.Z,{mdxType:"MarginText"},"3"),(0,n.kt)("p",null,"  ",(0,n.kt)("strong",null,"pragma")," Discard_Names[([On =",">"," ] ",(0,n.kt)("code",null,(0,n.kt)("a",{href:"../AA-13/AA-13.1#S0345"},"local_name")),")];",(0,n.kt)("br",null)),(0,n.kt)(s.Z,{mdxType:"MarginText"},"4"),(0,n.kt)("p",null,"A ",(0,n.kt)("code",null,(0,n.kt)("a",{href:"../AA-2/AA-2.8#S0019"},"pragma"))," Discard_Names is allowed only immediately within a ",(0,n.kt)("code",null,(0,n.kt)("a",{href:"../AA-3/AA-3.11#S0086"},"declarative_part")),", immediately within a ",(0,n.kt)("code",null,(0,n.kt)("a",{href:"../AA-7/AA-7.1#S0230"},"package_specification")),", or as a configuration pragma. ",(0,n.kt)("br",null)),(0,n.kt)("h4",f({},{id:"legality-rules"}),"Legality Rules"),(0,n.kt)(s.Z,{mdxType:"MarginText"},"5/4"),(0,n.kt)(o.Z,{items:["AI12-0072-1"],mdxType:"MarginInfo"}),(0,n.kt)("p",null,"The ",(0,n.kt)("code",null,(0,n.kt)("a",{href:"../AA-13/AA-13.1#S0345"},"local_name"))," (if present) shall denote an entity with runtime name text. The pragma specifies that the aspect Discard_Names for the type or exception has the value True. Without a ",(0,n.kt)("code",null,(0,n.kt)("a",{href:"../AA-13/AA-13.1#S0345"},"local_name")),", the pragma specifies that all entities with runtime name text declared after the pragma, within the same declarative region have the value True for aspect Discard_Names. Alternatively, the pragma can be used as a configuration pragma. If the configuration pragma Discard_Names applies to a compilation unit, all entities with runtime name text declared in the compilation unit have the value True for the aspect Discard_Names.",(0,n.kt)("br",null)),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)(s.Z,{mdxType:"MarginText"},"5.a/4"),(0,n.kt)(o.Z,{items:["AI12-0072-1"],mdxType:"MarginInfo"}),(0,n.kt)(i.Z,{type:"aarm",aarm:"ramification",mdxType:"Admonition"},(0,n.kt)("strong",null),"If the aspect is specified for a type, then it is inherited by all descendants of the type. The aspect cannot be specified as False on a derived type (because specifying the aspect is not allowed on derived enumeration types, and by rule applying to all aspects for other types (see ",(0,n.kt)("a",{href:"../AA-13/AA-13.1#Subclause_13.1.1"},"13.1.1"),")). ",(0,n.kt)("br",null))),(0,n.kt)("h4",f({},{id:"static-semantics-1"}),"Static Semantics"),(0,n.kt)(s.Z,{mdxType:"MarginText"},"6"),(0,n.kt)("p",null,"If a ",(0,n.kt)("code",null,(0,n.kt)("a",{href:"../AA-13/AA-13.1#S0345"},"local_name"))," is given, then a ",(0,n.kt)("code",null,(0,n.kt)("a",{href:"../AA-2/AA-2.8#S0019"},"pragma"))," Discard_Names is a representation pragma.",(0,n.kt)("br",null)),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)(s.Z,{mdxType:"MarginText"},"6.a/4"),(0,n.kt)(o.Z,{items:["AI05-0229-1","AI12-0072-1"],mdxType:"MarginInfo"}),(0,n.kt)(i.Z,{type:"aarm",aarm:"note",mdxType:"Admonition"},(0,n.kt)("em",null,"This paragraph was deleted."),(0,n.kt)("br",null))),(0,n.kt)(s.Z,{mdxType:"MarginText"},"7/4"),(0,n.kt)(o.Z,{items:["AI95-00285-01","AI95-00400-01","AI12-0072-1"],mdxType:"MarginInfo"}),(0,n.kt)("p",null,"If the aspect Discard_Names is True for an enumeration type, then the semantics of the Wide_Wide_Image and Wide_Wide_Value attributes are implementation defined for that type[; the semantics of Image, Wide_Image, Value, and Wide_Value are still defined in terms of Wide_Wide_Image and Wide_Wide_Value]. In addition, the semantics of Text_IO.Enumeration_IO are implementation defined. If the aspect Discard_Names is True for a tagged type, then the semantics of the Tags.Wide_Wide_Expanded_Name function are implementation defined for that type[; the semantics of Tags.Expanded_Name and Tags.Wide_Expanded_Name are still defined in terms of Tags.Wide_Wide_Expanded_Name]. If the aspect Discard_Names is True for an exception, then the semantics of the Exceptions.Wide_Wide_Exception_Name function are implementation defined for that exception[; the semantics of Exceptions.Exception_Name and Exceptions.Wide_Exception_Name are still defined in terms of Exceptions.Wide_Wide_Exception_Name].",(0,n.kt)("br",null)),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)(s.Z,{mdxType:"MarginText"},"7.a/4"),(0,n.kt)(i.Z,{type:"aarm",aarm:"implementation-defined",mdxType:"Admonition"},(0,n.kt)("strong",null),"The semantics of some attributes and functions of an entity for which aspect Discard_Names is True.",(0,n.kt)("br",null))),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)(s.Z,{mdxType:"MarginText"},"7.b"),(0,n.kt)(i.Z,{type:"aarm",aarm:"ramification",mdxType:"Admonition"},(0,n.kt)("strong",null),"The Width attribute is still defined in terms of Image.",(0,n.kt)("br",null))),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)(s.Z,{mdxType:"MarginText"},"7.c/4"),(0,n.kt)(o.Z,{items:["AI95-00285-01","AI12-0072-1"],mdxType:"MarginInfo"}),(0,n.kt)(i.Z,{type:"aarm",aarm:"note",mdxType:"Admonition"},"The semantics of S'Wide_Wide_Image and S'Wide_Wide_Value are implementation defined for any subtype of an enumeration type for which the aspect is True. (The pragma, if used, actually names the first subtype, of course.) ",(0,n.kt)("br",null))),(0,n.kt)("h4",f({},{id:"implementation-advice"}),"Implementation Advice"),(0,n.kt)(s.Z,{mdxType:"MarginText"},"8/4"),(0,n.kt)(o.Z,{items:["AI12-0072-1"],mdxType:"MarginInfo"}),(0,n.kt)("p",null,"If the aspect Discard_Names is True for an entity, then the implementation should reduce the amount of storage used for storing names associated with that entity. ",(0,n.kt)("br",null)),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)(s.Z,{mdxType:"MarginText"},"8.a/4"),(0,n.kt)(i.Z,{type:"aarm",aarm:"implementation-advice",mdxType:"Admonition"},(0,n.kt)("strong",null),"If aspect Discard_Names is True for an entity, then the amount of storage used for storing names associated with that entity should be reduced.",(0,n.kt)("br",null))),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)(s.Z,{mdxType:"MarginText"},"8.b"),(0,n.kt)(i.Z,{type:"aarm",aarm:"reason",mdxType:"Admonition"},(0,n.kt)("strong",null),"A typical implementation of the Image attribute for enumeration types is to store a table containing the names of all the enumeration literals. Aspect Discard_Names allows the implementation to avoid storing such a table without having to prove that the Image attribute is never used (which can be difficult in the presence of separate compilation).",(0,n.kt)("br",null))),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)(s.Z,{mdxType:"MarginText"},"8.c"),(0,n.kt)(i.Z,{type:"aarm",aarm:"note",mdxType:"Admonition"},"We did not specify the semantics of the Image attribute when aspect Discard_Names is True because different semantics might be desirable in different situations. In some cases, it might make sense to use the Image attribute to print out a useful value that can be used to identify the entity given information in compiler-generated listings. In other cases, it might make sense to get an error at compile time or at run time. In cases where memory is plentiful, the simplest implementation makes sense: ignore the aspect. Implementations that are capable of avoiding the extra storage in cases where the Image attribute is never used might also wish to ignore the aspect.",(0,n.kt)("br",null))),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)(s.Z,{mdxType:"MarginText"},"8.d"),(0,n.kt)(i.Z,{type:"aarm",aarm:"note",mdxType:"Admonition"},"The same applies to the Tags.Expanded_Name and Exceptions.Exception_Name functions. ",(0,n.kt)("br",null))),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)("h4",f({},{id:"wording-changes-from-ada-95"}),"Wording Changes from Ada 95")),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)(s.Z,{mdxType:"MarginText"},"8.e/2"),(0,n.kt)(o.Z,{items:["AI95-00285-01","AI95-00400-01"],mdxType:"MarginInfo"}),(0,n.kt)(i.Z,{type:"aarm",aarm:"note",mdxType:"Admonition"},"Updated the wording to reflect that the double wide image and value functions are now the master versions that the others are defined from. ",(0,n.kt)("br",null))),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)("h4",f({},{id:"wording-changes-from-ada-2012"}),"Wording Changes from Ada 2012")),(0,n.kt)(r.Z,{mdxType:"AnnotatedOnly"},(0,n.kt)(s.Z,{mdxType:"MarginText"},"8.f/4"),(0,n.kt)(o.Z,{items:["AI12-0072-1"],mdxType:"MarginInfo"}),(0,n.kt)(i.Z,{type:"aarm",aarm:"note",mdxType:"Admonition"},(0,n.kt)("strong",null,"Corrigendum:")," Defined the pragma in terms of the aspect Discard_Names, and added a missing definition of the meaning of the configuration pragma. This is not intended to make any semantic change (Ada 2012 has an aspect Discard_Names defined via blanket rules for representation pragmas in ",(0,n.kt)("a",{href:"../AA-13/AA-13.1"},"13.1")," and ",(0,n.kt)("a",{href:"../AA-13/AA-13.1#Subclause_13.1.1"},"13.1.1"),"), just to clarify the meaning. ",(0,n.kt)("br",null))))}b.isMDXComponent=!0}}]);