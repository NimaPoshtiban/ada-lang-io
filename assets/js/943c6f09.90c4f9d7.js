"use strict";(self.webpackChunkada_lang_io=self.webpackChunkada_lang_io||[]).push([[447],{8420:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>m,contentTitle:()=>l,default:()=>h,frontMatter:()=>y,metadata:()=>c,toc:()=>u});var t=a(58168),o=(a(96540),a(15680)),i=a(20793),r=a(91435),s=a(21432),d=a(79162),g=a(34421);const y={sidebar_position:139},l="A.19 The Package Locales",c={unversionedId:"arm/AA-A/AA-A.19",id:"arm/AA-A/AA-A.19",title:"A.19 The Package Locales",description:"This Reference Manual output has not been verified,",source:"@site/docs/arm/AA-A/AA-A.19.mdx",sourceDirName:"arm/AA-A",slug:"/arm/AA-A/AA-A.19",permalink:"/docs/arm/AA-A/AA-A.19",draft:!1,tags:[],version:"current",sidebarPosition:139,frontMatter:{sidebar_position:139},sidebar:"referenceManualSidebar",previous:{title:"A.18 Containers",permalink:"/docs/arm/AA-A/AA-A.18"},next:{title:"Annex B Interface to Other Languages",permalink:"/docs/arm/AA-B/"}},m={},u=[{value:"Static Semantics",id:"static-semantics",level:4},{value:"Extensions to Ada 2005",id:"extensions-to-ada-2005",level:4},{value:"Inconsistencies With Ada 2012",id:"inconsistencies-with-ada-2012",level:4}],A={toc:u},p="wrapper";function h(e){let{components:n,...a}=e;return(0,o.yg)(p,(0,t.A)({},A,a,{components:n,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"a19-the-package-locales"},"A.19 The Package Locales"),(0,o.yg)("admonition",{type:"warning"},(0,o.yg)("p",{parentName:"admonition"},"This Reference Manual output has not been verified,\nand may contain omissions or errors.\nReport any problems on the ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/ada-lang-io/ada-lang-io/issues/20"},"tracking issue"))),(0,o.yg)(d.A,{mdxType:"MarginText"},"1/3"),(0,o.yg)(g.A,{items:["AI05-0127-2","AI05-0248-1"],mdxType:"MarginInfo"}),(0,o.yg)("p",null,"A ",(0,o.yg)("em",null,"locale")," identifies a geopolitical place or region and its associated language, which can be used to determine other internationalization-related characteristics. ",(0,o.yg)("br",null)),(0,o.yg)("h4",{id:"static-semantics"},"Static Semantics"),(0,o.yg)(d.A,{mdxType:"MarginText"},"2/3"),(0,o.yg)(g.A,{items:["AI05-0127-2"],mdxType:"MarginInfo"}),(0,o.yg)("p",null,"The library package Locales has the following declaration: ",(0,o.yg)("br",null)),(0,o.yg)(d.A,{mdxType:"MarginText"},"3/5"),(0,o.yg)(g.A,{items:["AI12-0414-1"],mdxType:"MarginInfo"}),(0,o.yg)(s.A,{language:"ada",mdxType:"CodeBlock"},"package Ada.Locales","\n","   with Preelaborate, Remote_Types is","\n",(0,o.yg)(d.A,{mdxType:"MarginText"},"4/4"),(0,o.yg)(g.A,{items:["AI12-0037-1"],mdxType:"MarginInfo"}),"type Language_Code is new String (1 .. 3)","\n","      with Dynamic_Predicate =",">","\n","         (for all E of Language_Code =",">"," E in 'a' .. 'z');","\n","   type Country_Code is new String (1 .. 2)","\n","      with Dynamic_Predicate =",">","\n","         (for all E of Country_Code  =",">"," E in 'A' .. 'Z');","\n"),(0,o.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,o.yg)(d.A,{mdxType:"MarginText"},"4.a/4"),(0,o.yg)(g.A,{items:["AI12-0037-1"],mdxType:"MarginInfo"}),(0,o.yg)(i.A,{type:"aarm",aarm:"discussion",mdxType:"Admonition"},(0,o.yg)("strong",null),"These types are derived from type String so that they can easily be converted to or from type String. That's important if one of these values needs to be input or displayed (via Text_IO, perhaps). We use the predicate to ensure that only possible component values are used. Ada does not allow converting between unrelated types with components that don't statically match, so we cannot declare new types with constrained components if we want conversions to or from type String. ",(0,o.yg)("br",null))),(0,o.yg)(d.A,{mdxType:"MarginText"},"5/3"),(0,o.yg)(s.A,{language:"ada",mdxType:"CodeBlock"},'Language_Unknown : constant Language_Code := "und";',"\n",'   Country_Unknown : constant Country_Code := "ZZ";',"\n",(0,o.yg)(d.A,{mdxType:"MarginText"},"6/3"),"function Language return Language_Code;","\n","   function Country return Country_Code;","\n",(0,o.yg)(d.A,{mdxType:"MarginText"},"7/3"),"end Ada.Locales;","\n"),(0,o.yg)(d.A,{mdxType:"MarginText"},"8/3"),(0,o.yg)(g.A,{items:["AI05-0127-2","AI05-0233-1"],mdxType:"MarginInfo"}),(0,o.yg)("p",null,"The ",(0,o.yg)("em",null,"active locale")," is the locale associated with the partition of the current task.",(0,o.yg)("br",null)),(0,o.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,o.yg)(d.A,{mdxType:"MarginText"},"8.a/3"),(0,o.yg)(g.A,{items:["AI05-0233-1"],mdxType:"MarginInfo"}),(0,o.yg)(i.A,{type:"aarm",aarm:"implementation-note",mdxType:"Admonition"},(0,o.yg)("strong",null),"Some environments define both a system locale and the locale of the current user. For such environments, the active locale is that of current user if any; otherwise (as in a partition running on a server without a user), the system locale should be used. ",(0,o.yg)("br",null))),(0,o.yg)(d.A,{mdxType:"MarginText"},"9/5"),(0,o.yg)(g.A,{items:["AI05-0127-2","AI12-0446-1"],mdxType:"MarginInfo"}),(0,o.yg)("p",null,(0,o.yg)("em",null,"This paragraph was deleted."),(0,o.yg)("br",null)),(0,o.yg)(d.A,{mdxType:"MarginText"},"10/5"),(0,o.yg)(g.A,{items:["AI05-0127-2","AI12-0446-1"],mdxType:"MarginInfo"}),(0,o.yg)("p",null,(0,o.yg)("em",null,"This paragraph was deleted."),(0,o.yg)("br",null)),(0,o.yg)(d.A,{mdxType:"MarginText"},"11/5"),(0,o.yg)(g.A,{items:["AI05-0127-2","AI05-0248-1","AI12-0446-1"],mdxType:"MarginInfo"}),(0,o.yg)("p",null,"Function Language returns the code of the language associated with the active locale. If the Language_Code associated with the active locale cannot be determined from the environment, then Language returns Language_Unknown. Otherwise, the result is a lower-case string representation of an ISO 639-3:2007 alpha-3 code that identifies a language.",(0,o.yg)("br",null)),(0,o.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,o.yg)(d.A,{mdxType:"MarginText"},"11.a/3"),(0,o.yg)(i.A,{type:"aarm",aarm:"discussion",mdxType:"Admonition"},(0,o.yg)("strong",null),'Some common language codes are: "eng" \u2013 English; "fra" \u2013 French; "deu" \u2013 German; "zho" \u2013 Chinese. These are the same codes as used by POSIX systems. We considered including constants for the most common languages, but that was rejected as the likely source of continual arguments about the constant names and which languages are important enough to include. ',(0,o.yg)("br",null))),(0,o.yg)(d.A,{mdxType:"MarginText"},"12/5"),(0,o.yg)(g.A,{items:["AI05-0127-2","AI05-0248-1","AI12-0446-1","AI12-0450-1"],mdxType:"MarginInfo"}),(0,o.yg)("p",null,"Function Country returns the code of the country associated with the active locale. If the Country_Code associated with the active locale cannot be determined from the environment, then Country returns Country_Unknown. Otherwise, the result is an upper-case string representation of an ISO 3166-1:2020 alpha-2 code that identifies a country.",(0,o.yg)("br",null)),(0,o.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,o.yg)(d.A,{mdxType:"MarginText"},"12.a/3"),(0,o.yg)(i.A,{type:"aarm",aarm:"discussion",mdxType:"Admonition"},(0,o.yg)("strong",null),'Some common country codes are: "CA" \u2013 Canada; "FR" \u2013 France; "DE" \u2013 Germany; "IT" \u2013 Italy; "ES" \u2013 Spain; "GB" \u2013 United Kingdom; "US" \u2013 United States. These are the same codes as used by POSIX systems. We didn\'t include any country constants for the same reasons that we didn\'t include any language constants. ',(0,o.yg)("br",null))),(0,o.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,o.yg)("h4",{id:"extensions-to-ada-2005"},"Extensions to Ada 2005")),(0,o.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,o.yg)(d.A,{mdxType:"MarginText"},"12.b/3"),(0,o.yg)(g.A,{items:["AI05-0127-2","AI05-0233-1"],mdxType:"MarginInfo"}),(0,o.yg)(i.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"Package Locales is new. ",(0,o.yg)("br",null))),(0,o.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,o.yg)("h4",{id:"inconsistencies-with-ada-2012"},"Inconsistencies With Ada 2012")),(0,o.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,o.yg)(d.A,{mdxType:"MarginText"},"12.c/4"),(0,o.yg)(g.A,{items:["AI12-0037-1"],mdxType:"MarginInfo"}),(0,o.yg)(i.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},(0,o.yg)("strong",null,"Corrigendum:")," Types Language_Code and Country_Code are defined with predicates rather than constrained components so that they can be converted to/from type String. This changes the exception raised from Constraint_Error to Assertion_Error if an assignment is attempted with an incorrect value. This could only matter if there is a handler specifically for Constraint_Error surrounding this assignment; as this exception raise is certainly caused by a bug (why would anyone want to use invalid language or country codes?), such a handler seems very unlikely. (In addition, this is a new Ada 2012 package, so there is not likely to be a lot of code using it.) ",(0,o.yg)("br",null))))}h.isMDXComponent=!0}}]);