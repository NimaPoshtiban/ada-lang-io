"use strict";(self.webpackChunkada_lang_io=self.webpackChunkada_lang_io||[]).push([[9017],{9529:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>d,default:()=>f,frontMatter:()=>u,metadata:()=>k,toc:()=>A});var a=n(1716),o=Object.defineProperty,i=Object.defineProperties,l=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&p(e,n,t[n]);if(r)for(var n of r(t))c.call(t,n)&&p(e,n,t[n]);return e};const u={sidebar_position:187},d="H.5  Pragma Detect_Blocking",k={unversionedId:"arm/AA-H.5",id:"arm/AA-H.5",title:"H.5  Pragma Detect_Blocking",description:"We're still working on the Reference manual output.  Internal links are broken,",source:"@site/docs/arm/AA-H.5.mdx",sourceDirName:"arm",slug:"/arm/AA-H.5",permalink:"/docs/arm/AA-H.5",draft:!1,tags:[],version:"current",sidebarPosition:187,frontMatter:{sidebar_position:187},sidebar:"tutorialSidebar",previous:{title:"H.4  High Integrity Restrictions",permalink:"/docs/arm/AA-H.4"},next:{title:"H.6  Pragma Partition_Elaboration_Policy",permalink:"/docs/arm/AA-H.6"}},g={},A=[{value:"Syntax",id:"syntax",level:4},{value:"Post-Compilation Rules",id:"post-compilation-rules",level:4},{value:"Dynamic Semantics",id:"dynamic-semantics",level:4},{value:"Implementation Permissions",id:"implementation-permissions",level:4},{value:"Extensions to Ada 95",id:"extensions-to-ada-95",level:4},{value:"Extensions to Ada 2012",id:"extensions-to-ada-2012",level:4}],h={toc:A};function f(e){var t,n=e,{components:o}=n,p=((e,t)=>{var n={};for(var a in e)s.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&r)for(var a of r(e))t.indexOf(a)<0&&c.call(e,a)&&(n[a]=e[a]);return n})(n,["components"]);return(0,a.kt)("wrapper",(t=m(m({},h),p),i(t,l({components:o,mdxType:"MDXLayout"}))),(0,a.kt)("h1",m({},{id:"h5--pragma-detect_blocking"}),"H.5  Pragma Detect_Blocking"),(0,a.kt)("admonition",m({},{type:"warning"}),(0,a.kt)("p",{parentName:"admonition"},"We're still working on the Reference manual output.  Internal links are broken,\nas are a bunch of other things.\nSee the ",(0,a.kt)("a",m({parentName:"p"},{href:"https://github.com/ada-lang-io/ada-lang-io/issues/20"}),"tracking issue"))),(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," ","{",(0,a.kt)("em",null,"AI12-0267-1"),"}"," The following ",(0,a.kt)("code",null,(0,a.kt)("a",{href:"./AA-2.8#S0019"},"pragma"))," requires an implementation to detect potentially blocking operations during the execution of a protected operation or a parallel construct. "),(0,a.kt)("h4",m({},{id:"syntax"}),"Syntax"),(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," The form of a ",(0,a.kt)("code",null,(0,a.kt)("a",{href:"./AA-2.8#S0019"},"pragma"))," Detect_Blocking is as follows: "),(0,a.kt)("p",null,"  ",(0,a.kt)("strong",null,"pragma")," Detect_Blocking; "),(0,a.kt)("h4",m({},{id:"post-compilation-rules"}),"Post-Compilation Rules"),(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," A ",(0,a.kt)("code",null,(0,a.kt)("a",{href:"./AA-2.8#S0019"},"pragma"))," Detect_Blocking is a configuration pragma. "),(0,a.kt)("h4",m({},{id:"dynamic-semantics"}),"Dynamic Semantics"),(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," ","{",(0,a.kt)("em",null,"AI12-0247-1"),"}"," ","{",(0,a.kt)("em",null,"AI12-0267-1"),"}"," An implementation is required to detect a potentially blocking operation that occurs during the execution of a protected operation or a parallel construct defined within a compilation unit to which the pragma applies, and to raise Program_Error (see 9.5). "),(0,a.kt)("h4",m({},{id:"implementation-permissions"}),"Implementation Permissions"),(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," ","{",(0,a.kt)("em",null,"AI12-0267-1"),"}"," An implementation is allowed to reject a ",(0,a.kt)("code",null,(0,a.kt)("a",{href:"./AA-10.1#S0286"},"compilation_unit"))," to which a pragma Detect_Blocking applies if a potentially blocking operation is present directly within an ",(0,a.kt)("code",null,(0,a.kt)("a",{href:"./AA-9.5#S0260"},"entry_body")),", the body of a protected subprogram, or a parallel construct occurring within the compilation unit. "),(0,a.kt)("p",null,"NOTE 1   ","{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," ","{",(0,a.kt)("em",null,"AI12-0442-1"),"}"," An operation that causes a task to be blocked within a foreign language domain is not defined to be potentially blocking, and is unlikely to be detected. "),(0,a.kt)("h4",m({},{id:"extensions-to-ada-95"}),"Extensions to Ada 95"),(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," Pragma Detect_Blocking is new. "),(0,a.kt)("h4",m({},{id:"extensions-to-ada-2012"}),"Extensions to Ada 2012"),(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI12-0267-1"),"}"," Pragma Detect_Blocking now applies to parallel constructs as well as protected actions. "))}f.isMDXComponent=!0}}]);