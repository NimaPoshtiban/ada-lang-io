"use strict";(self.webpackChunkada_lang_io=self.webpackChunkada_lang_io||[]).push([[1092],{97870:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>k,contentTitle:()=>g,default:()=>_,frontMatter:()=>c,metadata:()=>m,toc:()=>h});var t=a(91716),r=Object.defineProperty,o=Object.defineProperties,s=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,p=(e,n,a)=>n in e?r(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,u=(e,n)=>{for(var a in n||(n={}))l.call(n,a)&&p(e,a,n[a]);if(i)for(var a of i(n))d.call(n,a)&&p(e,a,n[a]);return e};const c={sidebar_position:1},g="Being More Terse",m={unversionedId:"learn/tips/being-more-terse",id:"learn/tips/being-more-terse",title:"Being More Terse",description:"Ada is known for being more verbose than other languages because it prefers",source:"@site/docs/learn/tips/being-more-terse.md",sourceDirName:"learn/tips",slug:"/learn/tips/being-more-terse",permalink:"/docs/learn/tips/being-more-terse",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Advanced Techniques",permalink:"/docs/learn/tips/advanced-techniques"},next:{title:"How-Tos",permalink:"/docs/category/how-tos"}},k={},h=[{value:"Expression Functions",id:"expression-functions",level:2},{value:"Don&#39;t repeat parameter types",id:"dont-repeat-parameter-types",level:2},{value:"Locally use packages",id:"locally-use-packages",level:2},{value:"Abbreviate conversions functions",id:"abbreviate-conversions-functions",level:2},{value:"Use default parameters",id:"use-default-parameters",level:2},{value:"Rename subprograms with default parameters",id:"rename-subprograms-with-default-parameters",level:2},{value:"Locally define helper subprograms",id:"locally-define-helper-subprograms",level:2},{value:"Use package renames within <code>package body</code>",id:"use-package-renames-within-package-body",level:2},{value:"Use a package at file scope",id:"use-a-package-at-file-scope",level:2},{value:"Provide abstraction without introducing more code",id:"provide-abstraction-without-introducing-more-code",level:2},{value:"Rename complicated expressions",id:"rename-complicated-expressions",level:2}],b={toc:h};function _(e){var n,a=e,{components:r}=a,p=((e,n)=>{var a={};for(var t in e)l.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&i)for(var t of i(e))n.indexOf(t)<0&&d.call(e,t)&&(a[t]=e[t]);return a})(a,["components"]);return(0,t.kt)("wrapper",(n=u(u({},b),p),o(n,s({components:r,mdxType:"MDXLayout"}))),(0,t.kt)("h1",u({},{id:"being-more-terse"}),"Being More Terse"),(0,t.kt)("p",null,"Ada is known for being more verbose than other languages because it prefers\nkeywords over symbology. These techniques can help you compact your Ada text\nwhere you need it."),(0,t.kt)("h2",u({},{id:"expression-functions"}),"Expression Functions"),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'function "-"(V : Vec3) return Vec3 is\nbegin\n    return (-V.X, -V.Y, -V.Z);\nend "-";\n')),(0,t.kt)("p",null,"Functions can return expressions without using a full ",(0,t.kt)("inlineCode",{parentName:"p"},"begin")," ... ",(0,t.kt)("inlineCode",{parentName:"p"},"end"),"\nsection. Just wrap your expression in parentheses."),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'function "-"(V : Vec3) return Vec3 is (-V.X, -V.Y, -V.Z);\n')),(0,t.kt)("h2",u({},{id:"dont-repeat-parameter-types"}),"Don't repeat parameter types"),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),"function Add (Left : Integer; Right : Integer)\n    return Integer;\n")),(0,t.kt)("p",null,"If parameter types repeat, you can group them."),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),"function Add (Left, Right : Integer)\n    return Integer;\n")),(0,t.kt)("h2",u({},{id:"locally-use-packages"}),"Locally use packages"),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'procedure Test_Is_Quoted (Op : in out TT.Operation\'Class) is\nbegin\n    Op.Register;\n    Op.Assert (not Is_Quoted (Ada.Characters.Latin_1.Quotation & "some text"));\nend Test_Is_Quoted;\n')),(0,t.kt)("p",null,"Using packages locally doesn't pollute your global namespace."),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'procedure Test_Is_Quoted (Op : in out TT.Operation\'Class) is\n    use Ada.Characters.Latin_1;\nbegin\n    Op.Register;\n    Op.Assert (not Is_Quoted (Quotation & "some text"));\nend Test_Is_Quoted; -- Visibility of Latin_1 ends here.\n')),(0,t.kt)("h2",u({},{id:"abbreviate-conversions-functions"}),"Abbreviate conversions functions"),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'Toggles.Append(Ada.Strings.Unbounded.To_Unbounded_String("--verbose"));\nToggles.Append(Ada.Strings.Unbounded.To_Unbounded_String("--skip-errors"));\n')),(0,t.kt)("p",null,"The usage of ",(0,t.kt)("inlineCode",{parentName:"p"},'"+"')," as a function to convert from ",(0,t.kt)("inlineCode",{parentName:"p"},"String")," to\n",(0,t.kt)("inlineCode",{parentName:"p"},"Ada.Strings.Unbounded.Unbounded_String")," is common:"),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'function "+"(S : String) return String renames Ada.Strings.Unbounded.To_Unbounded_String;\nToggles.Append(+"--verbose");\nToggles.Append(+"--skip-errors");\n')),(0,t.kt)("h2",u({},{id:"use-default-parameters"}),"Use default parameters"),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),"S : Spinner := Make (In_Place, 1);\n")),(0,t.kt)("p",null,"Default parameters allow you to apply common parameter values."),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),"-- When this function signature is used...\nfunction Make (\n    Style          : Spinner_Style := In_Place;\n    Ticks_Per_Move : Positive := 1) return Spinner;\n\nS : Spinner := Make;\n")),(0,t.kt)("h2",u({},{id:"rename-subprograms-with-default-parameters"}),"Rename subprograms with default parameters"),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'S : String := Ada.Strings.Fixed.Trim ("  this is a string   ", Ada.Strings.Both);\n')),(0,t.kt)("p",null,"You can ",(0,t.kt)("inlineCode",{parentName:"p"},"rename")," a procedure with bound default parameters."),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'function Strip(Input : String; Sides : Ada.Strings.Trim_End:= Ada.Strings.Both)\n    renames Ada.Strings.Fixed.Trim;\n\nS : String := Strip ("  this is a string   ");\n')),(0,t.kt)("h2",u({},{id:"locally-define-helper-subprograms"}),"Locally define helper subprograms"),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'procedure Test_Is_Quoted (Op : in out TT.Operation\'Class) is\n    use Ada.Characters.Latin_1;\nbegin\n    Op.Register;\n\n    Op.Assert (not Is_Quoted(""));\n    Op.Assert (not Is_Quoted ("not quoted"));\nend Test_Is_Quoted;\n')),(0,t.kt)("p",null,"Using a locally defined helper subprogram to simplify repeated local logic. Note\nthat these local subprograms don't pollute the global namespace."),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'procedure Test_Is_Quoted (Op : in out TT.Operation\'Class) is\n    use Ada.Characters.Latin_1;\n    procedure Not_Quoted (S : String) is\n    begin\n        Op.Assert (not Is_Quoted(S));\n    end Not_Quoted;\nbegin\n    Op.Register;\n    Not_Quoted ("");\n    Not_Quoted ("not quoted");\nend Test_Is_Quoted;\n')),(0,t.kt)("h2",u({},{id:"use-package-renames-within-package-body"}),"Use package renames within ",(0,t.kt)("inlineCode",{parentName:"h2"},"package body")),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'with Ada.Text_IO;\npackage body Hello_World is\n    procedure Greet is\n    begin\n        Ada.Text_IO.New_Line;\n        Ada.Text_IO.Put_Line ("Hello, world!");\n        Ada.Text_IO.New_Line;\n    end Greet;\nend Hello_World;\n')),(0,t.kt)("p",null,"Show indication of where subprograms come from while shortening the names used\nfor them. Names inside package bodies won't be visible."),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'with Ada.Text_IO;\npackage body Hello_World is\n    package AIO renames Ada.Text_IO;\n\n    procedure Greet is\n    begin\n        AIO.New_Line;\n        AIO.Put_Line ("Hello, world!");\n        AIO.New_Line;\n    end Greet;\nend Hello_World;\n')),(0,t.kt)("h2",u({},{id:"use-a-package-at-file-scope"}),"Use a package at file scope"),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'with Ada.Text_IO;\npackage body Hello_World is\n    procedure Greet is\n    begin\n        Ada.Text_IO.New_Line;\n        Ada.Text_IO.Put_Line ("Hello, world!");\n        Ada.Text_IO.New_Line;\n    end Greet;\nend Hello_World;\n')),(0,t.kt)("p",null,"Some packages provide well-recognizable subprograms and hence cannot be confused\neasily. When these symbols are used often, using the package at the file scope\ncan cut down significantly on verboseness. You're polluting the namespace\nheavily so this should be used judiciously."),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),'with Ada.Text_IO;  use Ada.Text_IO;\npackage body Hello_World is\n    procedure Greet is\n    begin\n        New_Line;\n        Put_Line ("Hello, world!");\n        New_Line;\n    end Greet;\nend Hello_World;\n')),(0,t.kt)("h2",u({},{id:"provide-abstraction-without-introducing-more-code"}),"Provide abstraction without introducing more code"),(0,t.kt)("p",null,"You might not know how you want to use a subprogram, but still want to separate it\nfrom another one which could stand-in for it."),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),"package RT.Debug is\n    procedure Print (Str : String) renames Ada.Text_IO.Put_Line;\nend RT.Debug;\n")),(0,t.kt)("h2",u({},{id:"rename-complicated-expressions"}),"Rename complicated expressions"),(0,t.kt)("p",null,"Sometimes you might have long complicated expressions, which you can rename,\nwhich assigns their value when the renaming occurs. This is not text\nsubstitution, so the initial value cannot be modified."),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{className:"language-ada"}),"with Ada.Text_IO;\n\nprocedure Sample is\n    use Ada.Text_IO;\n\n    type Int_List is array (1 .. 10) of Integer;\n    Values : Int_List := (others => 0);\n    Index : Integer := 1;\n    First : Integer renames Values(Index);\n    Second : Integer renames Values(2);\nbegin\n    Put_Line (First'Image);\n    Put_Line (Second'Image);\n\n    New_Line;\n    First := 5;\n    Put_Line (\"First changed to 5\");\n    Put_Line (First'Image);\n    Put_Line (Second'Image);\n\n    New_Line;\n    Index := 2;\n    Put_Line (\"Index changed to 2\");\n    Put_Line (First'Image);\n    Put_Line (Second'Image);\n\n    New_Line;\n    First := 7;\n    Put_Line (\"First changed to 7\");\n    Put_Line (First'Image);\n    Put_Line (Second'Image);\nend Sample;\n")),(0,t.kt)("p",null,"Output:"),(0,t.kt)("pre",null,(0,t.kt)("code",u({parentName:"pre"},{}),"0\n0\n\nFirst changed to 5\n5\n0\n\nIndex changed to 2\n5\n0\n\nFirst changed to 7\n7\n0\n")))}_.isMDXComponent=!0}}]);