"use strict";(self.webpackChunkada_lang_io=self.webpackChunkada_lang_io||[]).push([[635],{3225:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>g,contentTitle:()=>k,default:()=>y,frontMatter:()=>d,metadata:()=>A,toc:()=>h});var a=n(1716),o=n(3183),i=Object.defineProperty,l=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(t,e,n)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u=(t,e)=>{for(var n in e||(e={}))c.call(e,n)&&m(t,n,e[n]);if(s)for(var n of s(e))p.call(e,n)&&m(t,n,e[n]);return t};const d={sidebar_position:187},k="H.5 Pragma Detect_Blocking",A={unversionedId:"arm/AA-H/AA-H.5",id:"arm/AA-H/AA-H.5",title:"H.5 Pragma Detect_Blocking",description:"We're still working on the Reference manual output.  Internal links are broken,",source:"@site/docs/arm/AA-H/AA-H.5.mdx",sourceDirName:"arm/AA-H",slug:"/arm/AA-H/AA-H.5",permalink:"/docs/arm/AA-H/AA-H.5",draft:!1,tags:[],version:"current",sidebarPosition:187,frontMatter:{sidebar_position:187},sidebar:"tutorialSidebar",previous:{title:"H.4 High Integrity Restrictions",permalink:"/docs/arm/AA-H/AA-H.4"},next:{title:"H.6 Pragma Partition_Elaboration_Policy",permalink:"/docs/arm/AA-H/AA-H.6"}},g={},h=[{value:"Syntax",id:"syntax",level:4},{value:"Post-Compilation Rules",id:"post-compilation-rules",level:4},{value:"Dynamic Semantics",id:"dynamic-semantics",level:4},{value:"Implementation Permissions",id:"implementation-permissions",level:4},{value:"Extensions to Ada 95",id:"extensions-to-ada-95",level:4},{value:"Extensions to Ada 2012",id:"extensions-to-ada-2012",level:4}],f={toc:h};function y(t){var e,n=t,{components:i}=n,m=((t,e)=>{var n={};for(var a in t)c.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&s)for(var a of s(t))e.indexOf(a)<0&&p.call(t,a)&&(n[a]=t[a]);return n})(n,["components"]);return(0,a.kt)("wrapper",(e=u(u({},f),m),l(e,r({components:i,mdxType:"MDXLayout"}))),(0,a.kt)("h1",u({},{id:"h5-pragma-detect_blocking"}),"H.5 Pragma Detect_Blocking"),(0,a.kt)("admonition",u({},{type:"warning"}),(0,a.kt)("p",{parentName:"admonition"},"We're still working on the Reference manual output.  Internal links are broken,\nas are a bunch of other things.\nSee the ",(0,a.kt)("a",u({parentName:"p"},{href:"https://github.com/ada-lang-io/ada-lang-io/issues/20"}),"tracking issue"))),(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," ","{",(0,a.kt)("em",null,"AI12-0267-1"),"}"," The following ",(0,a.kt)("code",null,(0,a.kt)("a",{href:"../AA-2/AA-2.8#S0019"},"pragma"))," requires an implementation to detect potentially blocking operations during the execution of a protected operation or a parallel construct. "),(0,a.kt)("h4",u({},{id:"syntax"}),"Syntax"),(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," The form of a ",(0,a.kt)("code",null,(0,a.kt)("a",{href:"../AA-2/AA-2.8#S0019"},"pragma"))," Detect_Blocking is as follows: "),(0,a.kt)("p",null,"  ",(0,a.kt)("strong",null,"pragma")," Detect_Blocking; "),(0,a.kt)("h4",u({},{id:"post-compilation-rules"}),"Post-Compilation Rules"),(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," A ",(0,a.kt)("code",null,(0,a.kt)("a",{href:"../AA-2/AA-2.8#S0019"},"pragma"))," Detect_Blocking is a configuration pragma. "),(0,a.kt)("h4",u({},{id:"dynamic-semantics"}),"Dynamic Semantics"),(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," ","{",(0,a.kt)("em",null,"AI12-0247-1"),"}"," ","{",(0,a.kt)("em",null,"AI12-0267-1"),"}"," An implementation is required to detect a potentially blocking operation that occurs during the execution of a protected operation or a parallel construct defined within a compilation unit to which the pragma applies, and to raise Program_Error (see 9.5). "),(0,a.kt)("h4",u({},{id:"implementation-permissions"}),"Implementation Permissions"),(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," ","{",(0,a.kt)("em",null,"AI12-0267-1"),"}"," An implementation is allowed to reject a ",(0,a.kt)("code",null,(0,a.kt)("a",{href:"../AA-10/AA-10.1#S0286"},"compilation_unit"))," to which a pragma Detect_Blocking applies if a potentially blocking operation is present directly within an ",(0,a.kt)("code",null,(0,a.kt)("a",{href:"../AA-9/AA-9.5#S0260"},"entry_body")),", the body of a protected subprogram, or a parallel construct occurring within the compilation unit. "),(0,a.kt)(o.Z,{type:"note",mdxType:"Admonition"},(0,a.kt)("p",null,"NOTE 1   ","{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," ","{",(0,a.kt)("em",null,"AI12-0442-1"),"}"," An operation that causes a task to be blocked within a foreign language domain is not defined to be potentially blocking, and is unlikely to be detected. ")),(0,a.kt)("h4",u({},{id:"extensions-to-ada-95"}),"Extensions to Ada 95"),(0,a.kt)(o.Z,{type:"note",mdxType:"Admonition"},(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI95-00305-01"),"}"," Pragma Detect_Blocking is new. ")),(0,a.kt)("h4",u({},{id:"extensions-to-ada-2012"}),"Extensions to Ada 2012"),(0,a.kt)(o.Z,{type:"note",mdxType:"Admonition"},(0,a.kt)("p",null,"{",(0,a.kt)("em",null,"AI12-0267-1"),"}"," Pragma Detect_Blocking now applies to parallel constructs as well as protected actions. ")))}y.isMDXComponent=!0}}]);