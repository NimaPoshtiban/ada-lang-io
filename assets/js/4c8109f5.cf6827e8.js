"use strict";(self.webpackChunkada_lang_io=self.webpackChunkada_lang_io||[]).push([[4039],{74017:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>g,default:()=>m,frontMatter:()=>A,metadata:()=>d,toc:()=>c});var a=t(58168),i=(t(96540),t(15680)),l=t(20793),y=t(91435),o=t(21432),r=t(79162),s=t(34421);const A={sidebar_position:196},g="J.3 Reduced Accuracy Subtypes",d={unversionedId:"arm/AA-J/AA-J.3",id:"arm/AA-J/AA-J.3",title:"J.3 Reduced Accuracy Subtypes",description:"This Reference Manual output has not been verified,",source:"@site/docs/arm/AA-J/AA-J.3.mdx",sourceDirName:"arm/AA-J",slug:"/arm/AA-J/AA-J.3",permalink:"/docs/arm/AA-J/AA-J.3",draft:!1,tags:[],version:"current",sidebarPosition:196,frontMatter:{sidebar_position:196},sidebar:"referenceManualSidebar",previous:{title:"J.2 Allowed Replacements of Characters",permalink:"/docs/arm/AA-J/AA-J.2"},next:{title:"J.4 The Constrained Attribute",permalink:"/docs/arm/AA-J/AA-J.4"}},u={},c=[{value:"Syntax",id:"syntax",level:4},{value:"Name Resolution Rules",id:"name-resolution-rules",level:4},{value:"Legality Rules",id:"legality-rules",level:4},{value:"Static Semantics",id:"static-semantics",level:4},{value:"Dynamic Semantics",id:"dynamic-semantics",level:4},{value:"Wording Changes from Ada 83",id:"wording-changes-from-ada-83",level:4},{value:"Wording Changes from Ada 2012",id:"wording-changes-from-ada-2012",level:4}],p={toc:c},h="wrapper";function m(e){let{components:n,...t}=e;return(0,i.yg)(h,(0,a.A)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"j3-reduced-accuracy-subtypes"},"J.3 Reduced Accuracy Subtypes"),(0,i.yg)("admonition",{type:"warning"},(0,i.yg)("p",{parentName:"admonition"},"This Reference Manual output has not been verified,\nand may contain omissions or errors.\nReport any problems on the ",(0,i.yg)("a",{parentName:"p",href:"https://github.com/ada-lang-io/ada-lang-io/issues/20"},"tracking issue"))),(0,i.yg)(r.A,{mdxType:"MarginText"},"1"),(0,i.yg)("p",null,"A ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0050"},"digits_constraint"))," may be used to define a floating point subtype with a new value for its requested decimal precision, as reflected by its Digits attribute. Similarly, a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-J/AA-J.3#S0367"},"delta_constraint"))," may be used to define an ordinary fixed point subtype with a new value for its ",(0,i.yg)("em",null,"delta"),", as reflected by its Delta attribute. ",(0,i.yg)("br",null)),(0,i.yg)(y.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(r.A,{mdxType:"MarginText"},"1.a"),(0,i.yg)(l.A,{type:"aarm",aarm:"discussion",mdxType:"Admonition"},(0,i.yg)("strong",null),"It might be more direct to make these attributes specifiable via an ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-13/AA-13.3#S0349"},"attribute_definition_clause")),", and eliminate the syntax for these ",(0,i.yg)("code",null,"_constraint"),"s. ",(0,i.yg)("br",null))),(0,i.yg)("h4",{id:"syntax"},"Syntax"),(0,i.yg)(r.A,{mdxType:"MarginText"},"2/4"),(0,i.yg)(s.A,{items:["AI12-0152-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{mdxType:"CodeBlock"},(0,i.yg)("code",null,"delta_constraint"),(0,i.yg)("a",{id:"S0367"}),(0,i.yg)("code",null," ::= "),(0,i.yg)("strong",null,"delta")," ",(0,i.yg)("em",null,"static_"),(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0138"},"simple_expression"))," [",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0036"},"range_constraint")),"]",(0,i.yg)("br",null)),(0,i.yg)("h4",{id:"name-resolution-rules"},"Name Resolution Rules"),(0,i.yg)(r.A,{mdxType:"MarginText"},"3/4"),(0,i.yg)(s.A,{items:["AI12-0152-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"The ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0138"},"simple_expression"))," of a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-J/AA-J.3#S0367"},"delta_constraint"))," is expected to be of any real type. ",(0,i.yg)("br",null)),(0,i.yg)("h4",{id:"legality-rules"},"Legality Rules"),(0,i.yg)(r.A,{mdxType:"MarginText"},"4/4"),(0,i.yg)(s.A,{items:["AI12-0152-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"The ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0138"},"simple_expression"))," of a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-J/AA-J.3#S0367"},"delta_constraint"))," shall be static.",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"MarginText"},"5"),(0,i.yg)("p",null,"For a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.2#S0027"},"subtype_indication"))," with a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-J/AA-J.3#S0367"},"delta_constraint")),", the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.2#S0028"},"subtype_mark"))," shall denote an ordinary fixed point subtype.",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"MarginText"},"6"),(0,i.yg)("p",null,"For a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.2#S0027"},"subtype_indication"))," with a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0050"},"digits_constraint")),", the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.2#S0028"},"subtype_mark"))," shall denote either a decimal fixed point subtype or a floating point subtype (notwithstanding the rule given in ",(0,i.yg)("a",{href:"../AA-3/AA-3.5#Subclause_3.5.9"},"3.5.9")," that only allows a decimal fixed point subtype). ",(0,i.yg)("br",null)),(0,i.yg)(y.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(r.A,{mdxType:"MarginText"},"6.a/2"),(0,i.yg)(s.A,{items:["AI95-00114-01"],mdxType:"MarginInfo"}),(0,i.yg)(l.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},(0,i.yg)("em",null,"This paragraph was deleted."),(0,i.yg)("br",null))),(0,i.yg)("h4",{id:"static-semantics"},"Static Semantics"),(0,i.yg)(r.A,{mdxType:"MarginText"},"7/4"),(0,i.yg)(s.A,{items:["AI12-0152-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"A ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.2#S0027"},"subtype_indication"))," with a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.2#S0028"},"subtype_mark"))," that denotes an ordinary fixed point subtype and a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-J/AA-J.3#S0367"},"delta_constraint"))," defines an ordinary fixed point subtype with a ",(0,i.yg)("em",null,"delta")," given by the value of the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0138"},"simple_expression"))," of the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-J/AA-J.3#S0367"},"delta_constraint")),". If the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-J/AA-J.3#S0367"},"delta_constraint"))," includes a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0036"},"range_constraint")),", then the ordinary fixed point subtype is constrained by the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0036"},"range_constraint")),".",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"MarginText"},"8/4"),(0,i.yg)(s.A,{items:["AI12-0152-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"A ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.2#S0027"},"subtype_indication"))," with a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.2#S0028"},"subtype_mark"))," that denotes a floating point subtype and a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0050"},"digits_constraint"))," defines a floating point subtype with a requested decimal precision (as reflected by its Digits attribute) given by the value of the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0138"},"simple_expression"))," of the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0050"},"digits_constraint")),". If the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0050"},"digits_constraint"))," includes a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0036"},"range_constraint")),", then the floating point subtype is constrained by the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0036"},"range_constraint")),". ",(0,i.yg)("br",null)),(0,i.yg)("h4",{id:"dynamic-semantics"},"Dynamic Semantics"),(0,i.yg)(r.A,{mdxType:"MarginText"},"9/4"),(0,i.yg)(s.A,{items:["AI12-0152-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"A ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-J/AA-J.3#S0367"},"delta_constraint"))," is ",(0,i.yg)("em",null,"compatible")," with an ordinary fixed point subtype if the value of the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0138"},"simple_expression"))," is no less than the ",(0,i.yg)("em",null,"delta")," of the subtype, and the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0036"},"range_constraint")),", if any, is compatible with the subtype.",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"MarginText"},"10/4"),(0,i.yg)(s.A,{items:["AI12-0152-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"A ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0050"},"digits_constraint"))," is ",(0,i.yg)("em",null,"compatible")," with a floating point subtype if the value of the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0138"},"simple_expression"))," is no greater than the requested decimal precision of the subtype, and the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0036"},"range_constraint")),", if any, is compatible with the subtype.",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"MarginText"},"11"),(0,i.yg)("p",null,"The elaboration of a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-J/AA-J.3#S0367"},"delta_constraint"))," consists of the elaboration of the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0036"},"range_constraint")),", if any. ",(0,i.yg)("br",null)),(0,i.yg)(y.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(r.A,{mdxType:"MarginText"},"11.a"),(0,i.yg)(l.A,{type:"aarm",aarm:"reason",mdxType:"Admonition"},(0,i.yg)("strong",null),"A numeric subtype is considered \u201cconstrained\u201d only if a range constraint applies to it. The only effect of a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0050"},"digits_constraint"))," or a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-J/AA-J.3#S0367"},"delta_constraint"))," without a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0036"},"range_constraint"))," is to specify the value of the corresponding Digits or Delta attribute in the new subtype. The set of values of the subtype is not \u201cconstrained\u201d in any way by such ",(0,i.yg)("code",null,"_constraint"),"s. ",(0,i.yg)("br",null))),(0,i.yg)(y.A,{mdxType:"AnnotatedOnly"},(0,i.yg)("h4",{id:"wording-changes-from-ada-83"},"Wording Changes from Ada 83")),(0,i.yg)(y.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(r.A,{mdxType:"MarginText"},"11.b"),(0,i.yg)(l.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"In Ada 83, a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-J/AA-J.3#S0367"},"delta_constraint"))," is called a fixed_point_constraint, and a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0050"},"digits_constraint"))," is called a floating_point_constraint. We have adopted other terms because ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0050"},"digits_constraint")),"s apply primarily to decimal fixed point types now (they apply to floating point types only as an obsolescent feature). ",(0,i.yg)("br",null))),(0,i.yg)(y.A,{mdxType:"AnnotatedOnly"},(0,i.yg)("h4",{id:"wording-changes-from-ada-2012"},"Wording Changes from Ada 2012")),(0,i.yg)(y.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(r.A,{mdxType:"MarginText"},"11.c/4"),(0,i.yg)(s.A,{items:["AI12-0152-1"],mdxType:"MarginInfo"}),(0,i.yg)(l.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},(0,i.yg)("strong",null,"Corrigendum:")," Changed the syntax so that the value following ",(0,i.yg)("strong",null,"delta")," in a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-J/AA-J.3#S0367"},"delta_constraint"))," is a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0138"},"simple_expression")),". This is compatible as any expressions that would require extra parentheses are already illegal. The change is necessary to eliminate syntax ambguities in ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.4#S0035"},"derived_type_definition")),"s. The similar change for ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-3/AA-3.5#S0050"},"digits_constraint"))," is documented in ",(0,i.yg)("a",{href:"../AA-3/AA-3.5#Subclause_3.5.9"},"3.5.9"),". ",(0,i.yg)("br",null))))}m.isMDXComponent=!0}}]);