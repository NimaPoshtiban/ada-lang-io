"use strict";(self.webpackChunkada_lang_io=self.webpackChunkada_lang_io||[]).push([[545],{77030:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>l,default:()=>c,frontMatter:()=>y,metadata:()=>g,toc:()=>p});var a=t(58168),i=(t(96540),t(15680)),o=t(20793),r=t(91435),d=t(21432),s=t(79162),m=t(34421);const y={sidebar_position:79},l="9.6 Delay Statements, Duration, and Time",g={unversionedId:"arm/AA-9/AA-9.6",id:"arm/AA-9/AA-9.6",title:"9.6 Delay Statements, Duration, and Time",description:"This Reference Manual output has not been verified,",source:"@site/docs/arm/AA-9/AA-9.6.mdx",sourceDirName:"arm/AA-9",slug:"/arm/AA-9/AA-9.6",permalink:"/docs/arm/AA-9/AA-9.6",draft:!1,tags:[],version:"current",sidebarPosition:79,frontMatter:{sidebar_position:79},sidebar:"referenceManualSidebar",previous:{title:"9.5 Intertask Communication",permalink:"/docs/arm/AA-9/AA-9.5"},next:{title:"9.7 Select Statements",permalink:"/docs/arm/AA-9/AA-9.7"}},u={},p=[{value:"Syntax",id:"syntax",level:4},{value:"Name Resolution Rules",id:"name-resolution-rules",level:4},{value:"Legality Rules",id:"legality-rules",level:4},{value:"Static Semantics",id:"static-semantics",level:4},{value:"Dynamic Semantics",id:"dynamic-semantics",level:4},{value:"Implementation Requirements",id:"implementation-requirements",level:4},{value:"Implementation Permissions",id:"implementation-permissions",level:4},{value:"Implementation Advice",id:"implementation-advice",level:4},{value:"Examples",id:"examples",level:4},{value:"Inconsistencies With Ada 83",id:"inconsistencies-with-ada-83",level:4},{value:"Extensions to Ada 83",id:"extensions-to-ada-83",level:4},{value:"Inconsistencies With Ada 95",id:"inconsistencies-with-ada-95",level:4},{value:"Wording Changes from Ada 95",id:"wording-changes-from-ada-95",level:4},{value:"9.6.1  Formatting, Time Zones, and other operations for Time",id:"961--formatting-time-zones-and-other-operations-for-time",level:2},{value:"Static Semantics",id:"static-semantics-1",level:4},{value:"Implementation Advice",id:"implementation-advice-1",level:4},{value:"Extensions to Ada 95",id:"extensions-to-ada-95",level:4},{value:"Inconsistencies With Ada 2005",id:"inconsistencies-with-ada-2005",level:4},{value:"Wording Changes from Ada 2005",id:"wording-changes-from-ada-2005",level:4},{value:"Inconsistencies With Ada 2012",id:"inconsistencies-with-ada-2012",level:4}],T={toc:p},A="wrapper";function c(e){let{components:n,...t}=e;return(0,i.yg)(A,(0,a.A)({},T,t,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"96-delay-statements-duration-and-time"},"9.6 Delay Statements, Duration, and Time"),(0,i.yg)("admonition",{type:"warning"},(0,i.yg)("p",{parentName:"admonition"},"This Reference Manual output has not been verified,\nand may contain omissions or errors.\nReport any problems on the ",(0,i.yg)("a",{parentName:"p",href:"https://github.com/ada-lang-io/ada-lang-io/issues/20"},"tracking issue"))),(0,i.yg)(s.A,{mdxType:"MarginText"},"1"),(0,i.yg)("p",null,"[ A ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0266"},"delay_statement"))," is used to block further execution until a specified ",(0,i.yg)("em",null,"expiration time")," is reached. The expiration time can be specified either as a particular point in time (in a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0267"},"delay","_","until","_","statement")),"), or in seconds from the current time (in a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0268"},"delay","_","relative","_","statement")),"). The language-defined package Calendar provides definitions for a type Time and associated operations, including a function Clock that returns the current time. ]",(0,i.yg)("br",null)),(0,i.yg)("h4",{id:"syntax"},"Syntax"),(0,i.yg)(s.A,{mdxType:"MarginText"},"2"),(0,i.yg)(d.A,{mdxType:"CodeBlock"},(0,i.yg)("code",null,"delay","_","statement"),(0,i.yg)("a",{id:"S0266"}),(0,i.yg)("code",null," ::= "),(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0267"},"delay_until_statement"))," | ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0268"},"delay_relative_statement")),(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"3"),(0,i.yg)(d.A,{mdxType:"CodeBlock"},(0,i.yg)("code",null,"delay","_","until","_","statement"),(0,i.yg)("a",{id:"S0267"}),(0,i.yg)("code",null," ::= "),(0,i.yg)("strong",null,"delay until")," ",(0,i.yg)("em",null,"delay","_"),(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0132"},"expression")),";",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"4"),(0,i.yg)(d.A,{mdxType:"CodeBlock"},(0,i.yg)("code",null,"delay","_","relative","_","statement"),(0,i.yg)("a",{id:"S0268"}),(0,i.yg)("code",null," ::= "),(0,i.yg)("strong",null,"delay")," ",(0,i.yg)("em",null,"delay","_"),(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0132"},"expression")),";",(0,i.yg)("br",null)),(0,i.yg)("h4",{id:"name-resolution-rules"},"Name Resolution Rules"),(0,i.yg)(s.A,{mdxType:"MarginText"},"5"),(0,i.yg)("p",null,"The expected type for the ",(0,i.yg)("em",null,"delay","_"),(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0132"},"expression"))," in a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0268"},"delay_relative_statement"))," is the predefined type Duration. The ",(0,i.yg)("em",null,"delay","_"),(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0132"},"expression"))," in a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0267"},"delay_until_statement"))," is expected to be of any nonlimited type.",(0,i.yg)("br",null)),(0,i.yg)("h4",{id:"legality-rules"},"Legality Rules"),(0,i.yg)(s.A,{mdxType:"MarginText"},"6/3"),(0,i.yg)(m.A,{items:["AI05-0092-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"There can be multiple time bases, each with a corresponding clock, and a corresponding ",(0,i.yg)("em",null,"time type"),". The type of the ",(0,i.yg)("em",null,"delay","_"),(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0132"},"expression"))," in a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0267"},"delay_until_statement"))," shall be a time type \u2014 either the type Time defined in the language-defined package Calendar (see below), the type Time in the package Real","_","Time (see ",(0,i.yg)("a",{href:"../AA-D/AA-D.8"},"D.8"),"), or some other implementation-defined time type. ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"6.a"),(0,i.yg)(o.A,{type:"aarm",aarm:"implementation-defined",mdxType:"Admonition"},(0,i.yg)("strong",null),"Any implementation-defined time types.",(0,i.yg)("br",null))),(0,i.yg)("h4",{id:"static-semantics"},"Static Semantics"),(0,i.yg)(s.A,{mdxType:"MarginText"},"7"),(0,i.yg)("p",null,"[There is a predefined fixed point type named Duration, declared in the visible part of package Standard;] a value of type Duration is used to represent the length of an interval of time, expressed in seconds. [The type Duration is not specific to a particular time base, but can be used with any time base.]",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"8/3"),(0,i.yg)(m.A,{items:["AI05-0092-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"A value of the type Time in package Calendar, or of some other time type, represents a time as reported by a corresponding clock.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"9"),(0,i.yg)("p",null,"The following language-defined library package exists: ",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"10/5"),(0,i.yg)(m.A,{items:["AI12-0241-1","AI12-0302-1"],mdxType:"MarginInfo"}),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"\n","package Ada.Calendar ","\n","  with Nonblocking, Global =",">"," in out synchronized is","\n","  type Time is private;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"11/2"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),"subtype Year","_","Number  is Integer range 1901 .. 2399;","\n","  subtype Month","_","Number is Integer range 1 .. 12;","\n","  subtype Day","_","Number   is Integer range 1 .. 31;","\n","  subtype Day","_","Duration is Duration range 0.0 .. 86","_","400.0;","\n"),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"11.a/2"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"reason",mdxType:"Admonition"},(0,i.yg)("strong",null),"A range of 500 years was chosen, as that only requires one extra bit for the year as compared to Ada 95. This was done to minimize disruptions with existing implementations. (One implementor reports that their time values represent nanoseconds, and this year range requires 63.77 bits to represent.) ",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"12"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Clock return Time;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"13"),"function Year   (Date : Time) return Year","_","Number;","\n","  function Month  (Date : Time) return Month","_","Number;","\n","  function Day    (Date : Time) return Day","_","Number;","\n","  function Seconds(Date : Time) return Day","_","Duration;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"14"),"procedure Split (Date  : in Time;","\n","                   Year    : out Year","_","Number;","\n","                   Month   : out Month","_","Number;","\n","                   Day     : out Day","_","Number;","\n","                   Seconds : out Day","_","Duration);","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"15"),"function Time","_","Of(Year  : Year","_","Number;","\n","                   Month   : Month","_","Number;","\n","                   Day     : Day","_","Number;","\n","                   Seconds : Day","_","Duration := 0.0)","\n","    return Time;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"16"),'function "+" (Left : Time;   Right : Duration) return Time;',"\n",'  function "+" (Left : Duration; Right : Time) return Time;',"\n",'  function "-" (Left : Time;   Right : Duration) return Time;',"\n",'  function "-" (Left : Time;   Right : Time) return Duration;',"\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"17"),'function "',"<",'" (Left, Right : Time) return Boolean;',"\n",'  function "',"<",'="(Left, Right : Time) return Boolean;',"\n",'  function "',">",'" (Left, Right : Time) return Boolean;',"\n",'  function "',">",'="(Left, Right : Time) return Boolean;',"\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"18"),"Time","_","Error : exception;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"19"),"private","\n","   ... -- not specified by the language","\n","end Ada.Calendar;","\n"),(0,i.yg)("h4",{id:"dynamic-semantics"},"Dynamic Semantics"),(0,i.yg)(s.A,{mdxType:"MarginText"},"20"),(0,i.yg)("p",null,"For the execution of a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0266"},"delay_statement")),", the ",(0,i.yg)("em",null,"delay","_"),(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0132"},"expression"))," is first evaluated. For a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0267"},"delay_until_statement")),", the expiration time for the delay is the value of the ",(0,i.yg)("em",null,"delay","_"),(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0132"},"expression")),", in the time base associated with the type of the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0132"},"expression")),". For a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0268"},"delay_relative_statement")),", the expiration time is defined as the current time, in the time base associated with relative delays, plus the value of the ",(0,i.yg)("em",null,"delay","_"),(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0132"},"expression"))," converted to the type Duration, and then rounded up to the next clock tick. The time base associated with relative delays is as defined in ",(0,i.yg)("a",{href:"../AA-D/AA-D.9"},"D.9"),", \u201c",(0,i.yg)("a",{href:"../AA-D/AA-D.9"},"Delay Accuracy"),"\u201d or is implementation defined. ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"20.a"),(0,i.yg)(o.A,{type:"aarm",aarm:"implementation-defined",mdxType:"Admonition"},(0,i.yg)("strong",null),"The time base associated with relative delays.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"20.b"),(0,i.yg)(o.A,{type:"aarm",aarm:"ramification",mdxType:"Admonition"},(0,i.yg)("strong",null),"Rounding up to the next clock tick means that the reading of the delay-relative clock when the delay expires should be no less than the current reading of the delay-relative clock plus the specified duration. ",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"21"),(0,i.yg)("p",null,"The task executing a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0266"},"delay_statement"))," is blocked until the expiration time is reached, at which point it becomes ready again. If the expiration time has already passed, the task is not blocked. ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"21.a"),(0,i.yg)(o.A,{type:"aarm",aarm:"discussion",mdxType:"Admonition"},(0,i.yg)("strong",null),"For a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0268"},"delay_relative_statement")),", this case corresponds to when the value of the ",(0,i.yg)("em",null,"delay","_"),(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0132"},"expression"))," is zero or negative.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"21.b"),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"Even though the task is not blocked, it might be put back on the end of its ready queue. See ",(0,i.yg)("a",{href:"../AA-D/AA-D.2"},"D.2"),", \u201c",(0,i.yg)("a",{href:"../AA-D/AA-D.2"},"Priority Scheduling"),"\u201d. ",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"22/3"),(0,i.yg)(m.A,{items:["AI05-0092-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"If an attempt is made to ",(0,i.yg)("em",null,"cancel")," the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0266"},"delay_statement"))," [(as part of an ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.7#S0280"},"asynchronous","_","select"))," or abort \u2014 see ",(0,i.yg)("a",{href:"../AA-9/AA-9.7#Subclause_9.7.4"},"9.7.4")," and ",(0,i.yg)("a",{href:"../AA-9/AA-9.8"},"9.8"),")], the statement is cancelled if the expiration time has not yet passed, thereby completing the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0266"},"delay_statement")),". ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"22.a"),(0,i.yg)(o.A,{type:"aarm",aarm:"reason",mdxType:"Admonition"},(0,i.yg)("strong",null),"This is worded this way so that in an ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.7#S0280"},"asynchronous_select"))," where the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.7#S0282"},"triggering_statement"))," is a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0266"},"delay_statement")),", an attempt to cancel the delay when the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.7#S0283"},"abortable_part"))," completes is ignored if the expiration time has already passed, in which case the optional statements of the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.7#S0281"},"triggering_alternative"))," are executed. ",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"23"),(0,i.yg)("p",null,"The time base associated with the type Time of package Calendar is implementation defined. The function Clock of package Calendar returns a value representing the current time for this time base. [The implementation-defined value of the named number System.Tick (see ",(0,i.yg)("a",{href:"../AA-13/AA-13.7"},"13.7"),") is an approximation of the length of the real-time interval during which the value of Calendar.Clock remains constant.] ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"23.a"),(0,i.yg)(o.A,{type:"aarm",aarm:"implementation-defined",mdxType:"Admonition"},(0,i.yg)("strong",null),"The time base of the type Calendar.Time.",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"24/2"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"The functions Year, Month, Day, and Seconds return the corresponding values for a given value of the type Time, as appropriate to an implementation-defined time zone; the procedure Split returns all four corresponding values. Conversely, the function Time","_",'Of combines a year number, a month number, a day number, and a duration, into a value of type Time. The operators "+" and "\u2013" for addition and subtraction of times and durations, and the relational operators for times, have the conventional meaning. ',(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"24.a/2"),(0,i.yg)(o.A,{type:"aarm",aarm:"implementation-defined",mdxType:"Admonition"},(0,i.yg)("strong",null),"The time zone used for package Calendar operations.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"24.b/3"),(0,i.yg)(m.A,{items:["AI05-0119-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"ramification",mdxType:"Admonition"},(0,i.yg)("strong",null),'The behavior of these values and subprograms if the time zone changes is also implementation-defined. In particular, the changes associated with summer time adjustments (like Daylight Savings Time in the United States) should be treated as a change in the implementation-defined time zone. The language does not specify whether the time zone information is stored in values of type Time; therefore the results of binary operators are unspecified when the operands are the two values with different effective time zones. In particular, the results of "-" may differ from the "real" result by the difference in the time zone adjustment. Similarly, the result of UTC',"_","Time","_","Offset (see 9.6.1) may or may not reflect a time zone adjustment. ",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"25"),(0,i.yg)("p",null,"If Time","_","Of is called with a seconds value of 86","_","400.0, the value returned is equal to the value of Time","_","Of for the next day with a seconds value of 0.0. The value returned by the function Seconds or through the Seconds parameter of the procedure Split is always less than 86","_","400.0.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"26/1"),(0,i.yg)(m.A,{items:["AI95-00113-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"{",(0,i.yg)("em",null,"8652/0030"),"}"," The exception Time","_","Error is raised by the function Time","_",'Of if the actual parameters do not form a proper date. This exception is also raised by the operators "+" and "\u2013" if the result is not representable in the type Time or Duration, as appropriate. This exception is also raised by the functions Year, Month, Day, and Seconds and the procedure Split if the year number of the given date is outside of the range of the subtype Year',"_","Number. ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"26.a/1"),(0,i.yg)(m.A,{items:["AI95-00160-01"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},(0,i.yg)("strong",null,"To be honest: "),"{",(0,i.yg)("em",null,"8652/0106"),"}",' By "proper date" above we mean that the given year has a month with the given day. For example, February 29th is a proper date only for a leap year. We do not mean to include the Seconds in this notion; in particular, we do not mean to require implementations to check for the \u201cmissing hour\u201d that occurs when Daylight Savings Time starts in the spring. ',(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"26.b/2"),(0,i.yg)(m.A,{items:["AI95-00113-01","AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"reason",mdxType:"Admonition"},(0,i.yg)("strong",null),"{",(0,i.yg)("em",null,"8652/0030"),"}"," We allow Year and Split to raise Time","_","Error because the arithmetic operators are allowed (but not required) to produce times that are outside the range of years from 1901 to 2399. This is similar to the way integer operators may return values outside the base range of their type so long as the value is mathematically correct. We allow the functions Month, Day and Seconds to raise Time","_","Error so that they can be implemented in terms of Split. ",(0,i.yg)("br",null))),(0,i.yg)("h4",{id:"implementation-requirements"},"Implementation Requirements"),(0,i.yg)(s.A,{mdxType:"MarginText"},"27"),(0,i.yg)("p",null,"The implementation of the type Duration shall allow representation of time intervals (both positive and negative) up to at least 86400 seconds (one day); Duration'Small shall not be greater than twenty milliseconds. The implementation of the type Time shall allow representation of all dates with year numbers in the range of Year","_","Number[; it may allow representation of other dates as well (both earlier and later).] ",(0,i.yg)("br",null)),(0,i.yg)("h4",{id:"implementation-permissions"},"Implementation Permissions"),(0,i.yg)(s.A,{mdxType:"MarginText"},"28/3"),(0,i.yg)(m.A,{items:["AI05-0092-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"An implementation may define additional time types.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"29"),(0,i.yg)("p",null,"An implementation may raise Time","_","Error if the value of a ",(0,i.yg)("em",null,"delay","_"),(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0132"},"expression"))," in a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0267"},"delay_until_statement"))," of a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.7#S0269"},"select_statement"))," represents a time more than 90 days past the current time. The actual limit, if any, is implementation-defined. ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"29.a"),(0,i.yg)(o.A,{type:"aarm",aarm:"implementation-defined",mdxType:"Admonition"},(0,i.yg)("strong",null),"Any limit on ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0267"},"delay_until_statement")),"s of ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.7#S0269"},"select_statement")),"s.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"29.b"),(0,i.yg)(o.A,{type:"aarm",aarm:"implementation-note",mdxType:"Admonition"},(0,i.yg)("strong",null),"This allows an implementation to implement ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.7#S0269"},"select_statement"))," timeouts using a representation that does not support the full range of a time type. In particular 90 days of seconds can be represented in 23 bits, allowing a signed 24-bit representation for the seconds part of a timeout. There is no similar restriction allowed for stand-alone ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0267"},"delay_until_statement")),"s, as these can be implemented internally using a loop if necessary to accommodate a long delay. ",(0,i.yg)("br",null))),(0,i.yg)("h4",{id:"implementation-advice"},"Implementation Advice"),(0,i.yg)(s.A,{mdxType:"MarginText"},"30"),(0,i.yg)("p",null,"Whenever possible in an implementation, the value of Duration'Small should be no greater than 100 microseconds. ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"30.a"),(0,i.yg)(o.A,{type:"aarm",aarm:"implementation-note",mdxType:"Admonition"},(0,i.yg)("strong",null),"This can be satisfied using a 32-bit 2's complement representation with a ",(0,i.yg)("em",null,"small")," of 2.0","*","*","(\u201314) \u2014 that is, 61 microseconds \u2014 and a range of \xb1 2.0","*","*","17 \u2014 that is, 131","_","072.0. ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"30.b/2"),(0,i.yg)(o.A,{type:"aarm",aarm:"implementation-advice",mdxType:"Admonition"},(0,i.yg)("strong",null),"The value of Duration'Small should be no greater than 100 microseconds.",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"31/5"),(0,i.yg)(m.A,{items:["AI12-0444-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"The time base for ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0268"},"delay_relative_statement")),"s should be monotonic; it can be different than the time base as used for Calendar.Clock. ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"31.a/2"),(0,i.yg)(o.A,{type:"aarm",aarm:"implementation-advice",mdxType:"Admonition"},(0,i.yg)("strong",null),"The time base for ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0268"},"delay_relative_statement")),"s should be monotonic.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"32"),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"NOTE 1   A ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0268"},"delay_relative_statement"))," with a negative value of the ",(0,i.yg)("em",null,"delay","_"),(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-4/AA-4.4#S0132"},"expression"))," is equivalent to one with a zero value.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"33/5"),(0,i.yg)(m.A,{items:["AI12-0440-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"NOTE 2   A ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0266"},"delay_statement"))," can be executed by the environment task; consequently ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0266"},"delay_statement")),"s can be executed as part of the elaboration of a ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-10/AA-10.1#S0287"},"library_item"))," or the execution of the main subprogram. Such statements delay the environment task (see ",(0,i.yg)("a",{href:"../AA-10/AA-10.2"},"10.2"),").",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"34"),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"NOTE 3   A ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0266"},"delay_statement"))," is an abort completion point and a potentially blocking operation, even if the task is not actually blocked.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"35"),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"NOTE 4   There is no necessary relationship between System.Tick (the resolution of the clock of package Calendar) and Duration'Small (the ",(0,i.yg)("em",null,"small")," of type Duration). ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"35.a"),(0,i.yg)(o.A,{type:"aarm",aarm:"ramification",mdxType:"Admonition"},(0,i.yg)("strong",null),"The inaccuracy of the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0266"},"delay_statement"))," has no relation to System.Tick. In particular, it is possible that the clock used for the ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0266"},"delay_statement"))," is less accurate than Calendar.Clock.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"35.b"),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"We considered making Tick a run-time-determined quantity, to allow for easier configurability. However, this would not be upward compatible, and the desired configurability can be achieved using functionality defined in ",(0,i.yg)("a",{href:"../AA-D/"},"Annex D"),", \u201c",(0,i.yg)("a",{href:"../AA-D/"},"Real-Time Systems"),"\u201d. ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"36"),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"NOTE 5   Additional requirements associated with ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0266"},"delay_statement")),"s are given in ",(0,i.yg)("a",{href:"../AA-D/AA-D.9"},"D.9"),", \u201c",(0,i.yg)("a",{href:"../AA-D/AA-D.9"},"Delay Accuracy"),"\u201d.",(0,i.yg)("br",null))),(0,i.yg)("h4",{id:"examples"},"Examples"),(0,i.yg)(s.A,{mdxType:"MarginText"},"37"),(0,i.yg)("p",null,(0,i.yg)("em",null,"Example of a relative delay statement:")," ",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"38"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"delay 3.0;  -- delay 3.0 seconds","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"39"),(0,i.yg)("p",null,(0,i.yg)("em",null,"Example of a periodic task:")," ",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"40"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"declare","\n","   use Ada.Calendar;","\n","   Next","_","Time : Time := Clock + Period;","\n","                      -- Period is a global constant of type Duration","\n","begin","\n","   loop               -- repeated every Period seconds","\n","      delay until Next","_","Time;","\n","      ... -- perform some actions","\n","      Next","_","Time := Next","_","Time + Period;","\n","   end loop;","\n","end;","\n"),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)("h4",{id:"inconsistencies-with-ada-83"},"Inconsistencies With Ada 83")),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"40.a"),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"For programs that raise Time","_",'Error on "+" or "\u2013" in Ada 83,the exception might be deferred until a call on Split or Year',"_","Number, or might not be raised at all (if the offending time is never Split after being calculated). This should not affect typical programs, since they deal only with times corresponding to the relatively recent past or near future. ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)("h4",{id:"extensions-to-ada-83"},"Extensions to Ada 83")),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"40.b"),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"The syntax rule for ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0266"},"delay_statement"))," is modified to allow ",(0,i.yg)("code",null,(0,i.yg)("a",{href:"../AA-9/AA-9.6#S0267"},"delay_until_statement")),"s.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"40.c/2"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"The type Time may represent dates with year numbers outside of Year","_",'Number. Therefore, the operations "+" and "\u2013" need only raise Time',"_","Error if the result is not representable in Time (or Duration); also, Split or Year will now raise Time","_","Error if the year number is outside of Year","_",'Number. This change is intended to simplify the implementation of "+" and "\u2013" (allowing them to depend on overflow for detecting when to raise Time',"_","Error) and to allow local time zone information to be considered at the time of Split rather than Clock (depending on the implementation approach). For example, in a POSIX environment, it is natural for the type Time to be based on GMT, and the results of procedure Split (and the functions Year, Month, Day, and Seconds) to depend on local time zone information. In other environments, it is more natural for the type Time to be based on the local time zone, with the results of Year, Month, Day, and Seconds being pure functions of their input.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"40.d/2"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},(0,i.yg)("em",null,"This paragraph was deleted."),(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)("h4",{id:"inconsistencies-with-ada-95"},"Inconsistencies With Ada 95")),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"40.e/2"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"The upper bound of Year","_","Number has been changed to avoid a year 2100 problem. A program which expects years past 2099 to raise Constraint","_","Error will fail in Ada 2005. We don't expect there to be many programs which are depending on an exception to be raised. A program that uses Year","_","Number'Last as a magic number may also fail if values of Time are stored outside of the program. Note that the lower bound of Year","_","Number wasn't changed, because it is not unusual to use that value in a constant to represent an unknown time. ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)("h4",{id:"wording-changes-from-ada-95"},"Wording Changes from Ada 95")),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"40.f/2"),(0,i.yg)(m.A,{items:["AI95-00171-01"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"{",(0,i.yg)("em",null,"8652/0002"),"}"," ",(0,i.yg)("strong",null,"Corrigendum:")," Clarified that Month, Day, and Seconds can raise Time","_","Error. ",(0,i.yg)("br",null))),(0,i.yg)("a",{id:"Subclause_9.6.1"}),(0,i.yg)("h2",{id:"961--formatting-time-zones-and-other-operations-for-time"},"9.6.1  Formatting, Time Zones, and other operations for Time"),(0,i.yg)("h4",{id:"static-semantics-1"},"Static Semantics"),(0,i.yg)(s.A,{mdxType:"MarginText"},"1/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI95-00427-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"The following language-defined library packages exist:",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"2/5_9.6.1"),(0,i.yg)(m.A,{items:["AI12-0241-1","AI12-0302-1"],mdxType:"MarginInfo"}),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"package Ada.Calendar.Time","_","Zones ","\n","   with Nonblocking, Global =",">"," in out synchronized is","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"3/2_9.6.1"),"-- Time zone manipulation:","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"4/2_9.6.1"),"type Time","_","Offset is range -28","*","60 .. 28","*","60;","\n"),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"4.a/4_9.6.1"),(0,i.yg)(m.A,{items:["AI12-0005-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"reason",mdxType:"Admonition"},(0,i.yg)("strong",null),"We want to be able to specify the difference between any two arbitrary time zones. You might think that 1440 (24 hours) would be enough, but there are places (like Tonga, which is UTC+13hr) which are more than 12 hours different than UTC. Combined with summer time (known as daylight saving time in some parts of the world) \u2013 which switches opposite in the northern and southern hemispheres \u2013 and even greater differences are possible. We know of cases of a 26 hours difference, so we err on the safe side by selecting 28 hours as the limit. ",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"5/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"Unknown","_","Zone","_","Error : exception;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"6/5_9.6.1"),(0,i.yg)(m.A,{items:["AI12-0336-1"],mdxType:"MarginInfo"}),"function Local","_","Time","_","Offset (Date : Time := Clock) return Time","_","Offset;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"6.1/5_9.6.1"),(0,i.yg)(m.A,{items:["AI12-0336-1"],mdxType:"MarginInfo"}),"function UTC","_","Time","_","Offset (Date : Time := Clock) return Time","_","Offset","\n","      renames Local","_","Time","_","Offset;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"7/2_9.6.1"),"end Ada.Calendar.Time","_","Zones;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"8/5_9.6.1"),(0,i.yg)(m.A,{items:["AI12-0241-1","AI12-0302-1"],mdxType:"MarginInfo"}),"\n","package Ada.Calendar.Arithmetic ","\n","   with Nonblocking, Global =",">"," in out synchronized is","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"9/2_9.6.1"),"-- Arithmetic on days:","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"10/2_9.6.1"),"type Day","_","Count is range","\n","     -366","*","(1+Year","_","Number'Last - Year","_","Number'First)","\n","     ..","\n","     366","*","(1+Year","_","Number'Last - Year","_","Number'First);","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"11/2_9.6.1"),"subtype Leap","_","Seconds","_","Count is Integer range -2047 .. 2047;","\n"),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"11.a/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"reason",mdxType:"Admonition"},(0,i.yg)("strong",null),"The maximum number of leap seconds is likely to be much less than this, but we don't want to reach the limit too soon if the earth's behavior suddenly changes. We believe that the maximum number is 1612, based on the current rules, but that number is too weird to use here. ",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"12/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"procedure Difference (Left, Right : in Time;","\n","                         Days : out Day","_","Count;","\n","                         Seconds : out Duration;","\n","                         Leap","_","Seconds : out Leap","_","Seconds","_","Count);","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"13/2_9.6.1"),'function "+" (Left : Time; Right : Day',"_","Count) return Time;","\n",'   function "+" (Left : Day',"_","Count; Right : Time) return Time;","\n",'   function "-" (Left : Time; Right : Day',"_","Count) return Time;","\n",'   function "-" (Left, Right : Time) return Day',"_","Count;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"14/2_9.6.1"),"end Ada.Calendar.Arithmetic;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"15/5_9.6.1"),(0,i.yg)(m.A,{items:["AI12-0241-1","AI12-0302-1"],mdxType:"MarginInfo"}),"\n","with Ada.Calendar.Time","_","Zones;","\n","package Ada.Calendar.Formatting ","\n","   with Nonblocking, Global =",">"," in out synchronized is","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"16/2_9.6.1"),"-- Day of the week:","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"17/2_9.6.1"),"type Day","_","Name is (Monday, Tuesday, Wednesday, Thursday,","\n","       Friday, Saturday, Sunday);","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"18/2_9.6.1"),"function Day","_","of","_","Week (Date : Time) return Day","_","Name;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"19/2_9.6.1"),"-- Hours:Minutes:Seconds access:","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"20/2_9.6.1"),"subtype Hour","_","Number         is Natural range 0 .. 23;","\n","   subtype Minute","_","Number       is Natural range 0 .. 59;","\n","   subtype Second","_","Number       is Natural range 0 .. 59;","\n","   subtype Second","_","Duration     is Day","_","Duration range 0.0 .. 1.0;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"21/2_9.6.1"),"function Year       (Date : Time;","\n","                        Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                           return Year","_","Number;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"22/2_9.6.1"),"function Month      (Date : Time;","\n","                        Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                           return Month","_","Number;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"23/2_9.6.1"),"function Day        (Date : Time;","\n","                        Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                           return Day","_","Number;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"24/2_9.6.1"),"function Hour       (Date : Time;","\n","                        Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                           return Hour","_","Number;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"25/2_9.6.1"),"function Minute     (Date : Time;","\n","                        Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                           return Minute","_","Number;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"26/2_9.6.1"),"function Second     (Date : Time)","\n","                           return Second","_","Number;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"27/2_9.6.1"),"function Sub","_","Second (Date : Time)","\n","                           return Second","_","Duration;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"28/2_9.6.1"),"function Seconds","_","Of (Hour   :  Hour","_","Number;","\n","                        Minute : Minute","_","Number;","\n","                        Second : Second","_","Number := 0;","\n","                        Sub","_","Second : Second","_","Duration := 0.0)","\n","                           return Day","_","Duration;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"29/2_9.6.1"),"procedure Split (Seconds    : in Day","_","Duration;","\n","                    Hour       : out Hour","_","Number;","\n","                    Minute     : out Minute","_","Number;","\n","                    Second     : out Second","_","Number;","\n","                    Sub","_","Second : out Second","_","Duration);","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"30/2_9.6.1"),"function Time","_","Of (Year       : Year","_","Number;","\n","                     Month      : Month","_","Number;","\n","                     Day        : Day","_","Number;","\n","                     Hour       : Hour","_","Number;","\n","                     Minute     : Minute","_","Number;","\n","                     Second     : Second","_","Number;","\n","                     Sub","_","Second : Second","_","Duration := 0.0;","\n","                     Leap","_","Second: Boolean := False;","\n","                     Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                           return Time;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"31/2_9.6.1"),"function Time","_","Of (Year       : Year","_","Number;","\n","                     Month      : Month","_","Number;","\n","                     Day        : Day","_","Number;","\n","                     Seconds    : Day","_","Duration := 0.0;","\n","                     Leap","_","Second: Boolean := False;","\n","                     Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                           return Time;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"32/2_9.6.1"),"procedure Split (Date       : in Time;","\n","                    Year       : out Year","_","Number;","\n","                    Month      : out Month","_","Number;","\n","                    Day        : out Day","_","Number;","\n","                    Hour       : out Hour","_","Number;","\n","                    Minute     : out Minute","_","Number;","\n","                    Second     : out Second","_","Number;","\n","                    Sub","_","Second : out Second","_","Duration;","\n","                    Time","_","Zone  : in Time","_","Zones.Time","_","Offset := 0);","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"33/2_9.6.1"),"procedure Split (Date       : in Time;","\n","                    Year       : out Year","_","Number;","\n","                    Month      : out Month","_","Number;","\n","                    Day        : out Day","_","Number;","\n","                    Hour       : out Hour","_","Number;","\n","                    Minute     : out Minute","_","Number;","\n","                    Second     : out Second","_","Number;","\n","                    Sub","_","Second : out Second","_","Duration;","\n","                    Leap","_","Second: out Boolean;","\n","                    Time","_","Zone  : in Time","_","Zones.Time","_","Offset := 0);","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"34/2_9.6.1"),"procedure Split (Date       : in Time;","\n","                    Year       : out Year","_","Number;","\n","                    Month      : out Month","_","Number;","\n","                    Day        : out Day","_","Number;","\n","                    Seconds    : out Day","_","Duration;","\n","                    Leap","_","Second: out Boolean;","\n","                    Time","_","Zone  : in Time","_","Zones.Time","_","Offset := 0);","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"35/2_9.6.1"),"-- Simple image and value:","\n","   function Image (Date : Time;","\n","                   Include","_","Time","_","Fraction : Boolean := False;","\n","                   Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0) return String;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"35.1/5_9.6.1"),(0,i.yg)(m.A,{items:["AI12-0336-1","AI12-0347-1"],mdxType:"MarginInfo"}),"function Local","_","Image (Date : Time;","\n","                         Include","_","Time","_","Fraction : Boolean := False)","\n","      return String is","\n","      (Image (Date, Include","_","Time","_","Fraction,","\n","              Time","_","Zones.Local","_","Time","_","Offset (Date)));","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"36/2_9.6.1"),"function Value (Date : String;","\n","                   Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0) return Time;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"37/2_9.6.1"),"function Image (Elapsed","_","Time : Duration;","\n","                   Include","_","Time","_","Fraction : Boolean := False) return String;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"38/2_9.6.1"),"function Value (Elapsed","_","Time : String) return Duration;","\n",(0,i.yg)(s.A,{mdxType:"MarginText"},"39/2_9.6.1"),"end Ada.Calendar.Formatting;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"40/5_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI12-0336-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"Type Time","_","Offset represents for a given locality at a given moment the number of minutes the local time is, at that moment, ahead (+) or behind (-) Coordinated Universal Time (abbreviated UTC).[ The Time","_","Offset for UTC is zero].",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"41/5_9.6.1"),(0,i.yg)(m.A,{items:["AI12-0336-1"],mdxType:"MarginInfo"}),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Local","_","Time","_","Offset (Date : Time := Clock) return Time","_","Offset;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"42/5_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI05-0119-1","AI05-0269-1","AI12-0336-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns, as a number of minutes, the Time","_","Offset of the implementation-defined time zone of Calendar, at the time Date. If the time zone of the Calendar implementation is unknown, then Unknown","_","Zone","_","Error is raised. ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"42.a.1/3_9.6.1"),(0,i.yg)(m.A,{items:["AI05-0119-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"ramification",mdxType:"Admonition"},(0,i.yg)("strong",null),"In North America, the result will be negative; in Europe, the result will be zero or positive. ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"42.a/5_9.6.1"),(0,i.yg)(m.A,{items:["AI12-0336-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"discussion",mdxType:"Admonition"},(0,i.yg)("strong",null),"The Date parameter is needed to take into account time differences caused by daylight-savings time and other time changes.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"42.b/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"Other time zones can be supported with a child package. We don't define one because of the lack of agreement on the definition of a time zone.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"42.c/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"The accuracy of this routine is not specified; the intent is that the facilities of the underlying target operating system are used to implement it. ",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"43/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"procedure Difference (Left, Right : in Time;","\n","                      Days : out Day","_","Count;","\n","                      Seconds : out Duration;","\n","                      Leap","_","Seconds : out Leap","_","Seconds","_","Count);","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"44/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI95-00427-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns the difference between Left and Right. Days is the number of days of difference, Seconds is the remainder seconds of difference excluding leap seconds, and Leap","_","Seconds is the number of leap seconds. If Left ","<"," Right, then Seconds ","<","= 0.0, Days ","<","= 0, and Leap","_","Seconds ","<","= 0. Otherwise, all values are nonnegative. The absolute value of Seconds is always less than 86","_","400.0. For the returned values, if Days = 0, then Seconds + Duration(Leap","_",'Seconds) = Calendar."\u2013" (Left, Right). ',(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"44.a/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"discussion",mdxType:"Admonition"},(0,i.yg)("strong",null),"Leap","_","Seconds, if any, are not included in Seconds. However, Leap","_",'Seconds should be included in calculations using the operators defined in Calendar, as is specified for "\u2013" above. ',(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"45/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},'function "+" (Left : Time; Right : Day',"_","Count) return Time;","\n",'function "+" (Left : Day',"_","Count; Right : Time) return Time;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"46/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Adds a number of days to a time value. Time","_","Error is raised if the result is not representable as a value of type Time.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"47/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},'function "-" (Left : Time; Right : Day',"_","Count) return Time;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"48/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Subtracts a number of days from a time value. Time","_","Error is raised if the result is not representable as a value of type Time.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"49/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},'function "-" (Left, Right : Time) return Day',"_","Count;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"50/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Subtracts two time values, and returns the number of days between them. This is the same value that Difference would return in Days.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"51/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Day","_","of","_","Week (Date : Time) return Day","_","Name;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"52/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns the day of the week for Time. This is based on the Year, Month, and Day values of Time.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"53/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Year       (Date : Time;","\n","                     Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                        return Year","_","Number;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"54/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00427-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns the year for Date, as appropriate for the specified time zone offset.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"55/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Month      (Date : Time;","\n","                     Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                        return Month","_","Number;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"56/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00427-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns the month for Date, as appropriate for the specified time zone offset.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"57/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Day        (Date : Time;","\n","                     Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                        return Day","_","Number;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"58/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00427-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns the day number for Date, as appropriate for the specified time zone offset.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"59/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Hour       (Date : Time;","\n","                     Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                        return Hour","_","Number;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"60/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns the hour for Date, as appropriate for the specified time zone offset.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"61/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Minute     (Date : Time;","\n","                     Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                        return Minute","_","Number;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"62/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns the minute within the hour for Date, as appropriate for the specified time zone offset.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"63/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Second     (Date : Time)","\n","                        return Second","_","Number;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"64/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI95-00427-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns the second within the hour and minute for Date.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"65/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Sub","_","Second (Date : Time)","\n","                        return Second","_","Duration;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"66/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI95-00427-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns the fraction of second for Date (this has the same accuracy as Day","_","Duration). The value returned is always less than 1.0.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"67/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Seconds","_","Of (Hour   : Hour","_","Number;","\n","                     Minute : Minute","_","Number;","\n","                     Second : Second","_","Number := 0;","\n","                     Sub","_","Second : Second","_","Duration := 0.0)","\n","                        return Day","_","Duration;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"68/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI95-00427-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns a Day","_","Duration value for the combination of the given Hour, Minute, Second, and Sub","_","Second. This value can be used in Calendar.Time","_",'Of as well as the argument to Calendar."+" and Calendar."\u2013". If Seconds',"_","Of is called with a Sub","_","Second value of 1.0, the value returned is equal to the value of Seconds","_","Of for the next second with a Sub","_","Second value of 0.0.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"69/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"procedure Split (Seconds    : in Day","_","Duration;","\n","                 Hour       : out Hour","_","Number;","\n","                 Minute     : out Minute","_","Number;","\n","                 Second     : out Second","_","Number;","\n","                 Sub","_","Second : out Second","_","Duration);","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"70/3_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI95-00427-01","AI05-0238-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Splits Seconds into Hour, Minute, Second and Sub","_","Second in such a way that the resulting values all belong to their respective subtypes. The value returned in the Sub","_","Second parameter is always less than 1.0. If Seconds = 86400.0, Split propagates Time","_","Error.",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"70.a/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"ramification",mdxType:"Admonition"},(0,i.yg)("strong",null),"There is only one way to do the split which meets all of the requirements. ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"70.b/3_9.6.1"),(0,i.yg)(m.A,{items:["AI05-0238-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"reason",mdxType:"Admonition"},(0,i.yg)("strong",null),"If Seconds = 86400.0, one of the returned values would have to be out of its defined range (either Sub","_","Second = 1.0 or Hour = 24 with the other value being 0). This doesn't seem worth breaking the invariants. ",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"71/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Time","_","Of (Year       : Year","_","Number;","\n","                  Month      : Month","_","Number;","\n","                  Day        : Day","_","Number;","\n","                  Hour       : Hour","_","Number;","\n","                  Minute     : Minute","_","Number;","\n","                  Second     : Second","_","Number;","\n","                  Sub","_","Second : Second","_","Duration := 0.0;","\n","                  Leap","_","Second: Boolean := False;","\n","                  Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                          return Time;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"72/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI95-00427-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"If Leap","_","Second is False, returns a Time built from the date and time values, relative to the specified time zone offset. If Leap","_","Second is True, returns the Time that represents the time within the leap second that is one second later than the time specified by the other parameters. Time","_","Error is raised if the parameters do not form a proper date or time. If Time","_","Of is called with a Sub","_","Second value of 1.0, the value returned is equal to the value of Time","_","Of for the next second with a Sub","_","Second value of 0.0. ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"72.a/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"discussion",mdxType:"Admonition"},(0,i.yg)("strong",null),"Time","_","Error should be raised if Leap","_","Second is True, and the date and time values do not represent the second before a leap second. A leap second always occurs at midnight UTC, and is 23:59:60 UTC in ISO notation. So, if the time zone is UTC and Leap","_","Second is True, if any of Hour /= 23, Minute /= 59, or Second /= 59, then Time","_","Error should be raised. However, we do not say that, because other time zones will have different values where a leap second is allowed. ",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"73/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Time","_","Of (Year       : Year","_","Number;","\n","                  Month      : Month","_","Number;","\n","                  Day        : Day","_","Number;","\n","                  Seconds    : Day","_","Duration := 0.0;","\n","                  Leap","_","Second: Boolean := False;","\n","                  Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0)","\n","                          return Time;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"74/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI95-00427-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"If Leap","_","Second is False, returns a Time built from the date and time values, relative to the specified time zone offset. If Leap","_","Second is True, returns the Time that represents the time within the leap second that is one second later than the time specified by the other parameters. Time","_","Error is raised if the parameters do not form a proper date or time. If Time","_","Of is called with a Seconds value of 86","_","400.0, the value returned is equal to the value of Time","_","Of for the next day with a Seconds value of 0.0.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"75/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"procedure Split (Date       : in Time;","\n","                 Year       : out Year","_","Number;","\n","                 Month      : out Month","_","Number;","\n","                 Day        : out Day","_","Number;","\n","                 Hour       : out Hour","_","Number;","\n","                 Minute     : out Minute","_","Number;","\n","                 Second     : out Second","_","Number;","\n","                 Sub","_","Second : out Second","_","Duration;","\n","                 Leap","_","Second: out Boolean;","\n","                 Time","_","Zone  : in Time","_","Zones.Time","_","Offset := 0);","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"76/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI95-00427-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"If Date does not represent a time within a leap second, splits Date into its constituent parts (Year, Month, Day, Hour, Minute, Second, Sub","_","Second), relative to the specified time zone offset, and sets Leap","_","Second to False. If Date represents a time within a leap second, set the constituent parts to values corresponding to a time one second earlier than that given by Date, relative to the specified time zone offset, and sets Leap","_","Seconds to True. The value returned in the Sub","_","Second parameter is always less than 1.0.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"77/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"procedure Split (Date       : in Time;","\n","                 Year       : out Year","_","Number;","\n","                 Month      : out Month","_","Number;","\n","                 Day        : out Day","_","Number;","\n","                 Hour       : out Hour","_","Number;","\n","                 Minute     : out Minute","_","Number;","\n","                 Second     : out Second","_","Number;","\n","                 Sub","_","Second : out Second","_","Duration;","\n","                 Time","_","Zone  : in Time","_","Zones.Time","_","Offset := 0);","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"78/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI95-00427-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Splits Date into its constituent parts (Year, Month, Day, Hour, Minute, Second, Sub","_","Second), relative to the specified time zone offset. The value returned in the Sub","_","Second parameter is always less than 1.0.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"79/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"procedure Split (Date       : in Time;","\n","                 Year       : out Year","_","Number;","\n","                 Month      : out Month","_","Number;","\n","                 Day        : out Day","_","Number;","\n","                 Seconds    : out Day","_","Duration;","\n","                 Leap","_","Second: out Boolean;","\n","                 Time","_","Zone  : in Time","_","Zones.Time","_","Offset := 0);","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"80/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI95-00427-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"If Date does not represent a time within a leap second, splits Date into its constituent parts (Year, Month, Day, Seconds), relative to the specified time zone offset, and sets Leap","_","Second to False. If Date represents a time within a leap second, set the constituent parts to values corresponding to a time one second earlier than that given by Date, relative to the specified time zone offset, and sets Leap","_","Seconds to True. The value returned in the Seconds parameter is always less than 86","_","400.0.",(0,i.yg)("br",null)),(0,i.yg)(s.A,{mdxType:"MarginText"},"81/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Image (Date : Time;","\n","                Include","_","Time","_","Fraction : Boolean := False;","\n","                Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0) return String;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"82/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns a string form of the Date relative to the given Time","_",'Zone. The format is "Year-Month-Day Hour:Minute:Second", where the Year is a 4-digit value, and all others are 2-digit values, of the functions defined in Calendar and Calendar.Formatting, including a leading zero, if needed. The separators between the values are a minus, another minus, a colon, and a single space between the Day and Hour. If Include',"_","Time","_","Fraction is True, the integer part of Sub","_","Seconds","*","100 is suffixed to the string as a point followed by a 2-digit value. ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"82.a/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"discussion",mdxType:"Admonition"},(0,i.yg)("strong",null),"The Image provides a string in ISO 8601 format, the international standard time format. Alternative representations allowed in ISO 8601 are not supported here.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"82.b/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"ISO 8601 allows 24:00:00 for midnight; and a seconds value of 60 for leap seconds. These are not allowed here (the routines mentioned above cannot produce those results). ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"82.c/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"ramification",mdxType:"Admonition"},(0,i.yg)("strong",null),"The fractional part is truncated, not rounded. It would be quite hard to define the result with proper rounding, as it can change all of the values of the image. Values can be rounded up by adding an appropriate constant (0.5 if Include","_","Time","_","Fraction is False, 0.005 otherwise) to the time before taking the image. ",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"83/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Value (Date : String;","\n","                Time","_","Zone  : Time","_","Zones.Time","_","Offset := 0) return Time;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"84/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns a Time value for the image given as Date, relative to the given time zone. Constraint","_","Error is raised if the string is not formatted as described for Image, or the function cannot interpret the given string as a Time value.",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"84.a/3_9.6.1"),(0,i.yg)(m.A,{items:["AI05-0005-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"discussion",mdxType:"Admonition"},(0,i.yg)("strong",null),"The intent is that the implementation enforce the same range rules on the string as the appropriate function Time","_",'Of, except for the hour, so \u201ccannot interpret the given string as a Time value\u201d happens when one of the values is out of the required range. For example, "2005-08-31 24:00:00" should raise Constraint',"_","Error (the hour is out of range). ",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"85/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Image (Elapsed","_","Time : Duration;","\n","                Include","_","Time","_","Fraction : Boolean := False) return String;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"86/5_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI12-0445-1"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns a string form of the Elapsed","_",'Time. The format is "Hour:Minute:Second", where all values are 2-digit values, including a leading zero, if necessary. The separators between the values are colons. If Include',"_","Time","_","Fraction is True, the integer part of Sub","_","Seconds","*","100 is suffixed to the string as a point followed by a 2-digit value. If Elapsed","_","Time ","<"," 0.0, the result is Image (",(0,i.yg)("strong",null,"abs")," Elapsed","_","Time, Include","_","Time","_","Fraction) prefixed with a minus sign. If ",(0,i.yg)("strong",null,"abs")," Elapsed","_","Time represents 100 hours or more, the result is implementation-defined. ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"86.a/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"implementation-defined",mdxType:"Admonition"},(0,i.yg)("strong",null),"The result of Calendar.Formatting.Image if its argument represents more than 100 hours.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"86.b/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"implementation-note",mdxType:"Admonition"},(0,i.yg)("strong",null),"This cannot be implemented (directly) by calling Calendar.Formatting.Split, since it may be out of the range of Day","_","Duration, and thus the number of hours may be out of the range of Hour","_","Number.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"86.c_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"If a Duration value can represent more then 100 hours, the implementation will need to define a format for the return of Image. ",(0,i.yg)("br",null))),(0,i.yg)(s.A,{mdxType:"MarginText"},"87/2_9.6.1"),(0,i.yg)(d.A,{language:"ada",mdxType:"CodeBlock"},"function Value (Elapsed","_","Time : String) return Duration;","\n"),(0,i.yg)(s.A,{mdxType:"MarginText"},"88/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",{class:"Indented4"},"Returns a Duration value for the image given as Elapsed","_","Time. Constraint","_","Error is raised if the string is not formatted as described for Image, or the function cannot interpret the given string as a Duration value. ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"88.a/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"discussion",mdxType:"Admonition"},(0,i.yg)("strong",null),"The intent is that the implementation enforce the same range rules on the string as the appropriate function Time","_",'Of, except for the hour, so \u201ccannot interpret the given string as a Time value\u201d happens when one of the values is out of the required range. For example, "10:23:60" should raise Constraint',"_","Error (the seconds value is out of range). ",(0,i.yg)("br",null))),(0,i.yg)("h4",{id:"implementation-advice-1"},"Implementation Advice"),(0,i.yg)(s.A,{mdxType:"MarginText"},"89/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)("p",null,"An implementation should support leap seconds if the target system supports them. If leap seconds are not supported, Difference should return zero for Leap","_","Seconds, Split should return False for Leap","_","Second, and Time","_","Of should raise Time","_","Error if Leap","_","Second is True. ",(0,i.yg)("br",null)),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"89.a/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"implementation-advice",mdxType:"Admonition"},(0,i.yg)("strong",null),"Leap seconds should be supported if the target system supports them. Otherwise, operations in Calendar.Formatting should return results consistent with no leap seconds.",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"89.b/2_9.6.1"),(0,i.yg)(o.A,{type:"aarm",aarm:"implementation-advice",mdxType:"Admonition"},(0,i.yg)("strong",null),"An implementation can always support leap seconds when the target system does not; indeed, this isn't particularly hard (all that is required is a table of when leap seconds were inserted). As such, leap second support isn't \u201cimpossible or impractical\u201d in the sense of ",(0,i.yg)("a",{href:"../AA-1/AA-1.1#Subclause_1.1.3"},"1.1.3"),". However, for some purposes, it may be important to follow the target system's lack of leap second support (if the target is a GPS satellite, which does not use leap seconds, leap second support would be a handicap to work around). Thus, this  should be read as giving permission to not support leap seconds on target systems that don't support leap seconds. Implementers should use the needs of their customers to determine whether or not support leap seconds on such targets. ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"90/5_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI12-0336-1","AI12-0442-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"NOTE 1   The implementation-defined time zone of package Calendar can be the local time zone. Local","_","Time","_","Offset always returns the difference relative to the implementation-defined time zone of package Calendar. If Local","_","Time","_","Offset does not raise Unknown","_","Zone","_","Error, UTC time can be safely calculated (within the accuracy of the underlying time-base).",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"90.a/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"discussion",mdxType:"Admonition"},(0,i.yg)("strong",null),"The time in the time zone known as Greenwich Mean Time (GMT) is generally very close to UTC time; for most purposes they can be treated the same. GMT is the time based on the rotation of the Earth; UTC is the time based on atomic clocks, with leap seconds periodically inserted to realign with GMT (because most human activities depend on the rotation of the Earth). At any point in time, there will be a sub-second difference between GMT and UTC. ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"91/5_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI12-0336-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"NOTE 2   Calling Split on the results of subtracting Duration(Local","_","Time","_","Offset","*","60) from Clock provides the components (hours, minutes, and so on) of the UTC time. In the United States, for example, Local","_","Time","_","Offset will generally be negative. ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"91.a/5_9.6.1"),(0,i.yg)(m.A,{items:["AI12-0336-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"discussion",mdxType:"Admonition"},(0,i.yg)("strong",null),"This is an illustration to help specify the value of Local","_","Time","_","Offset. A user should pass zero as the Time","_","Zone parameter of Split, rather than trying to make the above calculation. ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)("h4",{id:"extensions-to-ada-95"},"Extensions to Ada 95")),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"91.b/2_9.6.1"),(0,i.yg)(m.A,{items:["AI95-00351-01","AI95-00428-01"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"note",mdxType:"Admonition"},"Packages Calendar.Time","_","Zones, Calendar.Arithmetic, and Calendar.Formatting are new. ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)("h4",{id:"inconsistencies-with-ada-2005"},"Inconsistencies With Ada 2005")),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"91.c/3_9.6.1"),(0,i.yg)(m.A,{items:["AI05-0238-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"correction",mdxType:"Admonition"},(0,i.yg)("strong",null)," Defined that Split for Seconds raises Time","_","Error for a value of exactly 86400.0, rather than breaking some invariant or raising some other exception. Ada 2005 left this unspecified; a program that depended on what some implementation does might break, but such a program is not portable anyway. ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)("h4",{id:"wording-changes-from-ada-2005"},"Wording Changes from Ada 2005")),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"91.d/3_9.6.1"),(0,i.yg)(m.A,{items:["AI05-0119-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"correction",mdxType:"Admonition"},(0,i.yg)("strong",null)," Clarified the sign of UTC","_","Time","_","Offset. ",(0,i.yg)("br",null))),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)("h4",{id:"inconsistencies-with-ada-2012"},"Inconsistencies With Ada 2012")),(0,i.yg)(r.A,{mdxType:"AnnotatedOnly"},(0,i.yg)(s.A,{mdxType:"MarginText"},"91.e/5_9.6.1"),(0,i.yg)(m.A,{items:["AI12-0336-1"],mdxType:"MarginInfo"}),(0,i.yg)(o.A,{type:"aarm",aarm:"correction",mdxType:"Admonition"},(0,i.yg)("strong",null)," Changed the definition of Time","_","Offset to be compatible with most compilers. Also added Local","_","Time","_","Offset and Local","_","Image to better describe the intent. A program that expects the Ada 2012 definition of Time","_","Offset would get incorrect answers. However, most compilers tested use the revised definition, so the likelihood of a program breaking is quite low. Additionally, the new definitions could cause a use clause conflict; see the introduction of ",(0,i.yg)("a",{href:"../AA-A/"},"Annex A")," for more on this topic. ",(0,i.yg)("br",null))))}c.isMDXComponent=!0}}]);