<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-arm/AA-7/AA-7.3">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">7.3 Private Types and Private Extensions | Ada Programming Language</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ada-lang.io/img/ada_saw_coin.svg"><meta data-rh="true" name="twitter:image" content="https://ada-lang.io/img/ada_saw_coin.svg"><meta data-rh="true" property="og:url" content="https://ada-lang.io/docs/arm/AA-7/AA-7.3"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="7.3 Private Types and Private Extensions | Ada Programming Language"><meta data-rh="true" name="description" content="This Reference Manual output has not been verified,"><meta data-rh="true" property="og:description" content="This Reference Manual output has not been verified,"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ada-lang.io/docs/arm/AA-7/AA-7.3"><link data-rh="true" rel="alternate" href="https://ada-lang.io/docs/arm/AA-7/AA-7.3" hreflang="en"><link data-rh="true" rel="alternate" href="https://ada-lang.io/docs/arm/AA-7/AA-7.3" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://L84ZBWQFIW-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Ada Programming Language" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.fa38249f.css">
<link rel="preload" href="/assets/js/runtime~main.32c5035b.js" as="script">
<link rel="preload" href="/assets/js/main.e3b285d5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_PsUX">Skip to main content</a></div><div class="announcementBar_WkpO" style="background-color:#fcb316;color:#fafbfc" role="banner"><div class="content_MaPt announcementBarContent_FZov">Please thank Jay on HN or lobsters for announcing this website, which is still work in progress! Thanks Jay! ðŸ˜‚</div></div><nav class="navbar navbar--fixed-top navbarHideable_mNCz navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ada_saw_coin.svg" alt="Ada" class="themedImage_ppNZ themedImage--light_fir_" height="32" width="32"><img src="/img/ada_saw_coin.svg" alt="Ada" class="themedImage_ppNZ themedImage--dark_Yb8R" height="32" width="32"></div><b class="navbar__title text--truncate">Ada</b></a><a class="navbar__item navbar__link" href="/docs/getting-started/why-ada">Getting Started</a><a class="navbar__item navbar__link" href="/docs/arm/AA-Title">Reference Manual</a><a class="navbar__item navbar__link" href="/docs/style-guide/Ada_Style_Guide">Style Guide</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ada-lang-io/ada-lang-io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link fa-icon header__image header-github-link" aria-label="GitHub repository"></a><div class="toggle_f6mK colorModeToggle_A14r"><button class="clean-btn toggleButton_sBaH toggleButtonDisabled_zX9s" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_laRG"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_LmdW"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_HudF"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_CTK3 docsWrapper_pj5o"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_pq8e" type="button"></button><div class="docPage_Dex0"><aside class="theme-doc-sidebar-container docSidebarContainer_H9tl"><div class="sidebar_MIOj sidebarWithHideableNavbar_aL0W"><a tabindex="-1" class="sidebarLogo_l99H" href="/"><img src="/img/ada_saw_coin.svg" alt="Ada" class="themedImage_ppNZ themedImage--light_fir_" height="32" width="32"><img src="/img/ada_saw_coin.svg" alt="Ada" class="themedImage_ppNZ themedImage--dark_Yb8R" height="32" width="32"><b>Ada</b></a><nav class="menu thin-scrollbar menu_OcSK menuWithAnnouncementBar_WQFG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/arm/AA-Title">Annotated Ada Reference Manual</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/arm/AA-TOC">Table of Contents</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-1/">1 General</a><button aria-label="Toggle the collapsible sidebar category &#x27;1 General&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-2/">2 Lexical Elements</a><button aria-label="Toggle the collapsible sidebar category &#x27;2 Lexical Elements&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-3/">3 Declarations and Types</a><button aria-label="Toggle the collapsible sidebar category &#x27;3 Declarations and Types&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-4/">4 Names and Expressions</a><button aria-label="Toggle the collapsible sidebar category &#x27;4 Names and Expressions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-5/">5 Statements</a><button aria-label="Toggle the collapsible sidebar category &#x27;5 Statements&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-6/">6 Subprograms</a><button aria-label="Toggle the collapsible sidebar category &#x27;6 Subprograms&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/arm/AA-7/">7 Packages</a><button aria-label="Toggle the collapsible sidebar category &#x27;7 Packages&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-7/AA-7.1">7.1 Package Specifications and Declarations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-7/AA-7.2">7.2 Package Bodies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/arm/AA-7/AA-7.3">7.3 Private Types and Private Extensions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-7/AA-7.4">7.4 Deferred Constants</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-7/AA-7.5">7.5 Limited Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/arm/AA-7/AA-7.6">7.6 Assignment and Finalization</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-8/">8 Visibility Rules</a><button aria-label="Toggle the collapsible sidebar category &#x27;8 Visibility Rules&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-9/">9 Tasks and Synchronization</a><button aria-label="Toggle the collapsible sidebar category &#x27;9 Tasks and Synchronization&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-10/">10 Program Structure and Compilation Issues</a><button aria-label="Toggle the collapsible sidebar category &#x27;10 Program Structure and Compilation Issues&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-11/">11 Exceptions</a><button aria-label="Toggle the collapsible sidebar category &#x27;11 Exceptions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-12/">12 Generic Units</a><button aria-label="Toggle the collapsible sidebar category &#x27;12 Generic Units&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-13/">13 Representation Issues</a><button aria-label="Toggle the collapsible sidebar category &#x27;13 Representation Issues&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-A/">Annex A Predefined Language Environment</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex A Predefined Language Environment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-B/">Annex B Interface to Other Languages</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex B Interface to Other Languages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-C/">Annex C Systems Programming</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex C Systems Programming&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-D/">Annex D Real-Time Systems</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex D Real-Time Systems&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-E/">Annex E Distributed Systems</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex E Distributed Systems&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-F/">Annex F Information Systems</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex F Information Systems&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-G/">Annex G Numerics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex G Numerics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-H/">Annex H High Integrity Systems</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex H High Integrity Systems&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-J/">Annex J Obsolescent Features</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex J Obsolescent Features&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-K/">Annex K Language-Defined Aspects and Attributes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex K Language-Defined Aspects and Attributes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/arm/AA-L/">Annex L Language-Defined Pragmas</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-M/">Annex M Summary of Documentation Requirements</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex M Summary of Documentation Requirements&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/arm/AA-N/">Annex N Glossary</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-P/">Annex P Syntax Summary</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex P Syntax Summary&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/arm/AA-Q/">Annex Q Language-Defined Entities</a><button aria-label="Toggle the collapsible sidebar category &#x27;Annex Q Language-Defined Entities&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_i4lj"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Akqt"><div class="docItemContainer__SRs"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_d3kZ" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_wED1"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/arm/AA-7/"><span itemprop="name">7 Packages</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">7.3 Private Types and Private Extensions</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_BdTe theme-doc-toc-mobile tocMobile_ZDJO"><button type="button" class="clean-btn tocCollapsibleButton_AJTt">On this page</button></div><div class="theme-doc-markdown markdown"><h1>7.3 Private Types and Private Extensions</h1><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_a8rJ"><p>This Reference Manual output has not been verified,
and may contain omissions or errors.
Report any problems on the <a href="https://github.com/ada-lang-io/ada-lang-io/issues/20" target="_blank" rel="noopener noreferrer">tracking issue</a></p></div></div><div class="wrapper_ab13"><a id="p1" href="#p1" class="text_WcJ3">1</a></div><p>[The declaration (in the visible part of a package) of a type as a private type or private extension serves to separate the characteristics that can be used directly by outside program units (that is, the logical properties) from other characteristics whose direct use is confined to the package (the details of the definition of the type itself). See <a href="/docs/arm/AA-3/AA-3.9#Subclause_3.9.1">3.9.1</a> for an overview of type extensions. ]<br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="language-design-principles">Language Design Principles<a class="hash-link" href="#language-design-principles" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p1.a" href="#p1.a" class="text_WcJ3">1.a</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">A private (untagged) type can be thought of as a record type with the type of its single (hidden) component being the full view.<br></div></div></div><div class="wrapper_ab13"><a id="p1.b" href="#p1.b" class="text_WcJ3">1.b</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">A private tagged type can be thought of as a private extension of an anonymous parent with no components. The only dispatching operation of the parent is equality (although the Size attribute, and, if nonlimited, assignment are allowed, and those will presumably be implemented in terms of dispatching). <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="syntax">Syntax<a class="hash-link" href="#syntax" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p2" href="#p2" class="text_WcJ3">2/3</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI05-0183-1</em>}<!-- --> <br><code>private_type_declaration</code><a id="S0232"></a><code> ::= </code><br>   <strong>type</strong> <code><a href="/docs/arm/AA-3/AA-3.1#S0022">defining_identifier</a></code> [<code><a href="/docs/arm/AA-3/AA-3.7#S0059">discriminant_part</a></code>] <strong>is</strong> [[<strong>abstract</strong>] <strong>tagged</strong>] [<strong>limited</strong>] <strong>private</strong><br>      [<code><a href="/docs/arm/AA-13/AA-13.1#S0346">aspect_specification</a></code>];<br><div class="wrapper_ab13"><a id="p3" href="#p3" class="text_WcJ3">3/3</a></div></code></pre><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">{<em>AI95-00251-01</em>}<!-- --> <!-- -->{<em>AI95-00419-01</em>}<!-- --> <!-- -->{<em>AI95-00443-01</em>}<!-- --> <!-- -->{<em>AI05-0183-1</em>}<!-- --> <br><code>private_extension_declaration</code><a id="S0233"></a><code> ::= </code><br>   <strong>type</strong> <code><a href="/docs/arm/AA-3/AA-3.1#S0022">defining_identifier</a></code> [<code><a href="/docs/arm/AA-3/AA-3.7#S0059">discriminant_part</a></code>] <strong>is</strong><br>     [<strong>abstract</strong>] [<strong>limited</strong> | <strong>synchronized</strong>] <strong>new</strong> <em>ancestor_</em><code><a href="/docs/arm/AA-3/AA-3.2#S0027">subtype_indication</a></code><br>     [<strong>and</strong> <code><a href="/docs/arm/AA-3/AA-3.9#S0078">interface_list</a></code>] <strong>with private</strong><br>       [<code><a href="/docs/arm/AA-13/AA-13.1#S0346">aspect_specification</a></code>];<br></code></pre><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="legality-rules">Legality Rules<a class="hash-link" href="#legality-rules" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p4" href="#p4" class="text_WcJ3">4</a></div><p>A <code><a href="/docs/arm/AA-7/AA-7.3#S0232">private_type_declaration</a></code> or <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code> declares a <em>partial view</em> of the type; such a declaration is allowed only as a <code><a href="/docs/arm/AA-3/AA-3.11#S0087">declarative_item</a></code> of the visible part of a package, and it requires a completion, which shall be a <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code> that occurs as a <code><a href="/docs/arm/AA-3/AA-3.11#S0087">declarative_item</a></code> of the private part of the package. [ The view of the type declared by the <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code> is called the <em>full view</em>.] A generic formal private type or a generic formal private extension is also a partial view. <br></p><div class="wrapper_ab13"><a id="p4.a" href="#p4.a" class="text_WcJ3">4.a</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>To be honest: </strong>A private type can also be imported (using aspect Import, see <a href="/docs/arm/AA-B/AA-B.1">B.1</a>), in which case no completion is allowed, if supported by an implementation. <br></div></div></div><div class="wrapper_ab13"><a id="p4.b" href="#p4.b" class="text_WcJ3">4.b</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>We originally used the term &quot;private view&quot;, but this was easily confused with the view provided <em>from</em> the private part, namely the full view. <br></div></div></div><div class="wrapper_ab13"><a id="p4.c" href="#p4.c" class="text_WcJ3">4.c/2</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>proof</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI95-00326-01</em>}<!-- --> <br>Full view is now defined in <a href="/docs/arm/AA-3/AA-3.2#Subclause_3.2.1">3.2.1</a>, &quot;<a href="/docs/arm/AA-3/AA-3.2#Subclause_3.2.1">Type Declarations</a>&quot;, as all types now have them. <br></div></div></div><div class="wrapper_ab13"><a id="p5" href="#p5" class="text_WcJ3">5</a></div><p>[A type shall be completely defined before it is frozen (see <a href="/docs/arm/AA-3/AA-3.11#Subclause_3.11.1">3.11.1</a> and <a href="/docs/arm/AA-13/AA-13.14">13.14</a>). Thus, neither the declaration of a variable of a partial view of a type, nor the creation by an <code><a href="/docs/arm/AA-4/AA-4.8#S0164">allocator</a></code> of an object of the partial view are allowed before the full declaration of the type. Similarly, before the full declaration, the name of the partial view cannot be used in a <code><a href="/docs/arm/AA-12/AA-12.3#S0315">generic_instantiation</a></code> or in a representation item.] <br></p><div class="wrapper_ab13"><a id="p5.a" href="#p5.a" class="text_WcJ3">5.a</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>proof</div><div class="admonitionContent_a8rJ"><strong></strong>This rule is stated officially in <a href="/docs/arm/AA-3/AA-3.11#Subclause_3.11.1">3.11.1</a>, &quot;<a href="/docs/arm/AA-3/AA-3.11#Subclause_3.11.1">Completions of Declarations</a>&quot;. <br></div></div></div><div class="wrapper_ab13"><a id="p6" href="#p6" class="text_WcJ3">6/2</a></div><p>{<em>AI95-00419-01</em>}<!-- --> <!-- -->{<em>AI95-00443-01</em>}<!-- --> <br>[A private type is limited if its declaration includes the reserved word <strong>limited</strong>; a private extension is limited if its ancestor type is a limited type that is not an interface type, or if the reserved word <strong>limited</strong> or <strong>synchronized</strong> appears in its definition.] If the partial view is nonlimited, then the full view shall be nonlimited. If a tagged partial view is limited, then the full view shall be limited. [On the other hand, if an untagged partial view is limited, the full view may be limited or nonlimited.]<br></p><div class="wrapper_ab13"><a id="p7" href="#p7" class="text_WcJ3">7</a></div><p>If the partial view is tagged, then the full view shall be tagged. [On the other hand, if the partial view is untagged, then the full view may be tagged or untagged.] In the case where the partial view is untagged and the full view is tagged, no derivatives of the partial view are allowed within the immediate scope of the partial view; [derivatives of the full view are allowed.] <br></p><div class="wrapper_ab13"><a id="p7.a" href="#p7.a" class="text_WcJ3">7.a</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>Note that deriving from a partial view within its immediate scope can only occur in a package that is a child of the one where the partial view is declared. The rule implies that in the visible part of a public child package, it is impossible to derive from an untagged private type declared in the visible part of the parent package in the case where the full view of the parent type turns out to be tagged. We considered a model in which the derived type was implicitly redeclared at the earliest place within its immediate scope where characteristics needed to be added. However, we rejected that model, because (1) it would imply that (for an untagged type) subprograms explicitly declared after the derived type could be inherited, and (2) to make this model work for composite types as well, several implicit redeclarations would be needed, since new characteristics can become visible one by one; that seemed like too much mechanism. <br></div></div></div><div class="wrapper_ab13"><a id="p7.b" href="#p7.b" class="text_WcJ3">7.b</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>The rule for tagged partial views is redundant for partial views that are private extensions, since all extensions of a given ancestor tagged type are tagged, and limited if the ancestor is limited. We phrase this rule partially redundantly to keep its structure parallel with the other rules. <br></div></div></div><div class="wrapper_ab13"><a id="p7.c" href="#p7.c" class="text_WcJ3">7.c</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>To be honest: </strong>This rule is checked in a generic unit, rather than using the &quot;assume the best&quot; or &quot;assume the worst&quot; method. <br></div></div></div><div class="wrapper_ab13"><a id="p7.d" href="#p7.d" class="text_WcJ3">7.d/2</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI95-00230-01</em>}<!-- --> <br>Tagged limited private types have certain capabilities that are incompatible with having assignment for the full view of the type. In particular, tagged limited private types can be extended with components of a limited type, which works only because assignment is not allowed. Consider the following example: <br></div></div></div><div class="wrapper_ab13"><a id="p7.e" href="#p7.e" class="text_WcJ3">7.e</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">package P1 is<!-- -->
<!-- -->    type T1 is tagged limited private;<!-- -->
<!-- -->    procedure Foo(X : in T1&#x27;Class);<!-- -->
<!-- -->private<!-- -->
<!-- -->    type T1 is tagged null record; -- Illegal!<!-- -->
<!-- -->        -- This should say &quot;tagged limited null record&quot;.<!-- -->
<!-- -->end P1;<!-- -->
<div class="wrapper_ab13"><a id="p7.f" href="#p7.f" class="text_WcJ3">7.f/1</a></div>package body P1 is<!-- -->
<!-- -->    type A is access T1&#x27;Class;<!-- -->
<!-- -->    Global : A;<!-- -->
<!-- -->    procedure Foo(X : in T1&#x27;Class) is<!-- -->
<!-- -->    begin<!-- -->
<!-- -->        Global := new T1&#x27;Class&#x27;(X);<!-- -->
<!-- -->            -- This would be illegal if the full view of<!-- -->
<!-- -->            -- T1 were limited, like it&#x27;s supposed to be.<!-- -->
<!-- -->    end Foo;<!-- -->
<!-- -->end P1;<!-- -->
<div class="wrapper_ab13"><a id="p7.g" href="#p7.g" class="text_WcJ3">7.g/2</a></div>--  <!-- -->{<!-- -->AI95-00230-01<!-- -->}<!-- -->
<!-- --> with P1;<!-- -->
<!-- -->package P2 is<!-- -->
<!-- -->    type T2(D : access Integer)<!-- -->
<!-- -->            is new P1.T1 with<!-- -->
<!-- -->        record<!-- -->
<!-- -->            My_Task : Some_Task_Type; -- Trouble!<!-- -->
<!-- -->        end record;<!-- -->
<!-- -->end P2;<!-- -->
<div class="wrapper_ab13"><a id="p7.h" href="#p7.h" class="text_WcJ3">7.h/1</a></div>with P1;<!-- -->
<!-- -->with P2;<!-- -->
<!-- -->procedure Main is<!-- -->
<!-- -->    Local : aliased Integer;<!-- -->
<!-- -->    Y : P2.T2(D =<!-- -->&gt;<!-- --> Local&#x27;Access);<!-- -->
<!-- -->begin<!-- -->
<!-- -->    P1.Foo(Y);<!-- -->
<!-- -->end Main;<!-- -->
<!-- -->  <!-- -->
<div class="wrapper_ab13"><a id="p7.i" href="#p7.i" class="text_WcJ3">7.i/2</a></div></code></pre><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI95-00230-01</em>}<!-- --> <br>If the above example were legal, we would have succeeded in doing an assignment of a task object, which is supposed to be a no-no. <br></div></div></div><div class="wrapper_ab13"><a id="p7.j" href="#p7.j" class="text_WcJ3">7.j</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">This rule is not needed for private extensions, because they inherit their limitedness from their ancestor, and there is a separate rule forbidding limited components of the corresponding record extension if the parent is nonlimited. <br></div></div></div><div class="wrapper_ab13"><a id="p7.k" href="#p7.k" class="text_WcJ3">7.k</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>A type derived from an untagged private type is untagged, even if the full view of the parent is tagged, and even at places that can see the parent: <br></div></div></div><div class="wrapper_ab13"><a id="p7.l" href="#p7.l" class="text_WcJ3">7.l</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">package P is<!-- -->
<!-- -->    type Parent is private;<!-- -->
<!-- -->private<!-- -->
<!-- -->    type Parent is tagged<!-- -->
<!-- -->        record<!-- -->
<!-- -->            X: Integer;<!-- -->
<!-- -->        end record;<!-- -->
<!-- -->end P;<!-- -->
<div class="wrapper_ab13"><a id="p7.m" href="#p7.m" class="text_WcJ3">7.m/1</a></div>with P;<!-- -->
<!-- -->package Q is<!-- -->
<!-- -->    type T is new P.Parent;<!-- -->
<!-- -->end Q;<!-- -->
<div class="wrapper_ab13"><a id="p7.n" href="#p7.n" class="text_WcJ3">7.n</a></div>with Q; use Q;<!-- -->
<!-- -->package body P is<!-- -->
<!-- -->    ... T&#x27;Class ... -- Illegal!<!-- -->
<!-- -->    Object: T;<!-- -->
<!-- -->    ... Object.X ... -- Illegal!<!-- -->
<!-- -->    ... Parent(Object).X ... -- OK.<!-- -->
<!-- -->end P;<!-- -->
<div class="wrapper_ab13"><a id="p7.o" href="#p7.o" class="text_WcJ3">7.o</a></div></code></pre><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The declaration of T declares an untagged view. This view is always untagged, so T&#x27;Class is illegal, it would be illegal to extend T, and so forth. The component name X is never visible for this view, although the component is still there - one can get one&#x27;s hands on it via a <code><a href="/docs/arm/AA-4/AA-4.6#S0162">type_conversion</a></code>.<br></div></div></div><div class="wrapper_ab13"><a id="p7.1" href="#p7.1" class="text_WcJ3">7.1/2</a></div><p>{<em>AI95-00396-01</em>}<!-- --> <br>If a full type has a partial view that is tagged, then: <br></p><div class="wrapper_ab13"><a id="p7.2" href="#p7.2" class="text_WcJ3">7.2/2</a></div><ul><li>the partial view shall be a synchronized tagged type (see <a href="/docs/arm/AA-3/AA-3.9#Subclause_3.9.4">3.9.4</a>) if and only if the full type is a synchronized tagged type;<br></li><div class="wrapper_ab13"><a id="p7.o.1" href="#p7.o.1" class="text_WcJ3">7.o.1/2</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>Since we do not allow record extensions of synchronized tagged types, this property has to be visible in the partial view to avoid privacy breaking. Generic formals do not need a similar rule as any extensions are rechecked for legality in the specification, and extensions of tagged formals are always illegal in a generic body. <br></div></div></div><div class="wrapper_ab13"><a id="p7.3" href="#p7.3" class="text_WcJ3">7.3/2</a></div><ul><li>the partial view shall be a descendant of an interface type (see 3.9.4) if and only if the full type is a descendant of the interface type.<br></li><div class="wrapper_ab13"><a id="p7.p" href="#p7.p" class="text_WcJ3">7.p/2</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>Consider the following example: <br></div></div></div><div class="wrapper_ab13"><a id="p7.q" href="#p7.q" class="text_WcJ3">7.q/2</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">package P is<!-- -->
<!-- -->   package Pkg is<!-- -->
<!-- -->      type Ifc is interface;<!-- -->
<!-- -->      procedure Foo (X : Ifc) is abstract;<!-- -->
<!-- -->   end Pkg;<!-- -->
<div class="wrapper_ab13"><a id="p7.r" href="#p7.r" class="text_WcJ3">7.r/2</a></div>type Parent_1 is tagged null record;<!-- -->
<div class="wrapper_ab13"><a id="p7.s" href="#p7.s" class="text_WcJ3">7.s/2</a></div>type T1 is new Parent_1 with private;<!-- -->
<!-- -->private<!-- -->
<!-- -->   type Parent_2 is new Parent_1 and Pkg.Ifc with null record;<!-- -->
<!-- -->   procedure Foo (X : Parent_2); -- Foo #1<!-- -->
<div class="wrapper_ab13"><a id="p7.t" href="#p7.t" class="text_WcJ3">7.t/2</a></div>type T1 is new Parent_2 with null record; -- Illegal.<!-- -->
<!-- -->end P;<!-- -->
<div class="wrapper_ab13"><a id="p7.u" href="#p7.u" class="text_WcJ3">7.u/2</a></div>with P;<!-- -->
<!-- -->package P_Client is<!-- -->
<!-- -->   type T2 is new P.T1 and P.Pkg.Ifc with null record;<!-- -->
<!-- -->   procedure Foo (X : T2); -- Foo #2<!-- -->
<!-- -->   X : T2;<!-- -->
<!-- -->end P_Client;<!-- -->
<div class="wrapper_ab13"><a id="p7.v" href="#p7.v" class="text_WcJ3">7.v/2</a></div>with P_Client;<!-- -->
<!-- -->package body P is<!-- -->
<!-- -->   ...<!-- -->
<div class="wrapper_ab13"><a id="p7.w" href="#p7.w" class="text_WcJ3">7.w/5</a></div>--  <!-- -->{<!-- -->AI12-0005-1<!-- -->}<!-- -->
<!-- -->    procedure Bar (X : T1&#x27;Class) is<!-- -->
<!-- -->   begin<!-- -->
<!-- -->      Pkg.Foo (Pkg.Ifc&#x27;Class (X)); -- should call Foo #1 or an override thereof<!-- -->
<!-- -->   end;<!-- -->
<div class="wrapper_ab13"><a id="p7.x" href="#p7.x" class="text_WcJ3">7.x/2</a></div>begin<!-- -->
<!-- -->   Pkg.Foo (Pkg.Ifc&#x27;Class (P_Client.X));      -- should call Foo #2<!-- -->
<!-- -->   Bar (T1&#x27;Class (P_Client.X));<!-- -->
<!-- -->end P;<!-- -->
<div class="wrapper_ab13"><a id="p7.y" href="#p7.y" class="text_WcJ3">7.y/2</a></div></code></pre><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">This example is illegal because the completion of T1 is descended from an interface that the partial view is not descended from. If it were legal, T2 would implement Ifc twice, once in the visible part of P, and once in the visible part of P_Client. We would need to decide how Foo #1 and Foo #2 relate to each other. There are two options: either Foo #2 overrides Foo #1, or it doesn&#x27;t.<br></div></div></div><div class="wrapper_ab13"><a id="p7.z" href="#p7.z" class="text_WcJ3">7.z/2</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">If Foo #2 overrides Foo #1, we have a problem because the client redefines a behavior that it doesn&#x27;t know about, and we try to avoid this at all costs, as it would lead to a breakdown of whatever abstraction was implemented. If the abstraction didn&#x27;t expose that it implements Ifc, there must be a reason, and it should be able to depend on the fact that no overriding takes place in clients. Also, during maintenance, things may change and the full view might implement a different set of interfaces. Furthermore, the situation is even worse if the full type implements another interface Ifc2 that happens to have a conforming Foo (otherwise unrelated, except for its name and profile).<br></div></div></div><div class="wrapper_ab13"><a id="p7.aa" href="#p7.aa" class="text_WcJ3">7.aa/2</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">If Foo #2 doesn&#x27;t override Foo #1, there is some similarity with the case of normal tagged private types, where a client can declare an operation that happens to conform to some private operation, and that&#x27;s OK, it gets a different slot in the type descriptor. The problem here is that T2 would implement Ifc in two different ways, and through conversions to Ifc&#x27;Class we could end up with visibility on both of these two different implementations. This is the &quot;diamond inheritance&quot; problem of C++ all over again, and we would need some kind of a preference rule to pick one implementation. We don&#x27;t want to go there (if we did, we might as well provide full-fledged multiple inheritance).<br></div></div></div><div class="wrapper_ab13"><a id="p7.bb" href="#p7.bb" class="text_WcJ3">7.bb/2</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">Note that there wouldn&#x27;t be any difficulty to implement the first option, so the restriction is essentially methodological. The second option might be harder to implement, depending on the language rules that we would choose. <br></div></div></div><div class="wrapper_ab13"><a id="p7.cc" href="#p7.cc" class="text_WcJ3">7.cc/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI05-0005-1</em>}<!-- --> <br>This rule also prevents completing a private type with an interface. An interface, like all types, is a descendant of itself, and thus this rule is triggered. One reason this is necessary is that a client of a private extension should be able to inherit limitedness without having to look in the private part to see if the type is an interface (remember that limitedness of interfaces is never inherited, while it is inherited from other types). <br></div></div></div><div class="wrapper_ab13"><a id="p8" href="#p8" class="text_WcJ3">8</a></div><p>The <em>ancestor subtype</em> of a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code> is the subtype defined by the <em>ancestor_</em><code><a href="/docs/arm/AA-3/AA-3.2#S0027">subtype_indication</a></code>; the ancestor type shall be a specific tagged type. The full view of a private extension shall be derived (directly or indirectly) from the ancestor type. In addition to the places where Legality Rules normally apply (see <a href="/docs/arm/AA-12/AA-12.3">12.3</a>), the requirement that the ancestor be specific applies also in the private part of an instance of a generic unit. <br></p><div class="wrapper_ab13"><a id="p8.a" href="#p8.a" class="text_WcJ3">8.a</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>This rule allows the full view to be defined through several intermediate derivations, possibly from a series of types produced by <code><a href="/docs/arm/AA-12/AA-12.3#S0315">generic_instantiation</a></code>s. <br></div></div></div><div class="wrapper_ab13"><a id="p8.1" href="#p8.1" class="text_WcJ3">8.1/2</a></div><p>{<em>AI95-00419-01</em>}<!-- --> <!-- -->{<em>AI95-00443-01</em>}<!-- --> <br>If the reserved word <strong>limited</strong> appears in a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code>, the ancestor type shall be a limited type. If the reserved word <strong>synchronized</strong> appears in a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code>, the ancestor type shall be a limited interface.<br></p><div class="wrapper_ab13"><a id="p9" href="#p9" class="text_WcJ3">9</a></div><p>If the declaration of a partial view includes a <code><a href="/docs/arm/AA-3/AA-3.7#S0061">known_discriminant_part</a></code>, then the <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code> shall have a fully conforming [(explicit)] <code><a href="/docs/arm/AA-3/AA-3.7#S0061">known_discriminant_part</a></code> [(see <a href="/docs/arm/AA-6/AA-6.3#Subclause_6.3.1">6.3.1</a>, &quot;<a href="/docs/arm/AA-6/AA-6.3#Subclause_6.3.1">Conformance Rules</a>&quot;)]. [The ancestor subtype may be unconstrained; the parent subtype of the full view is required to be constrained (see <a href="/docs/arm/AA-3/AA-3.7">3.7</a>).] <br></p><div class="wrapper_ab13"><a id="p9.a" href="#p9.a" class="text_WcJ3">9.a</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>If the ancestor subtype has discriminants, then it is usually best to make it unconstrained. <br></div></div></div><div class="wrapper_ab13"><a id="p9.b" href="#p9.b" class="text_WcJ3">9.b</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>If the partial view has a <code><a href="/docs/arm/AA-3/AA-3.7#S0061">known_discriminant_part</a></code>, then the full view has to be a composite, non-array type, since only such types may have known discriminants. Also, the full view cannot inherit the discriminants in this case; the <code><a href="/docs/arm/AA-3/AA-3.7#S0061">known_discriminant_part</a></code> has to be explicit.<br></div></div></div><div class="wrapper_ab13"><a id="p9.c" href="#p9.c" class="text_WcJ3">9.c</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">That is, the following is illegal: <br></div></div></div><div class="wrapper_ab13"><a id="p9.d" href="#p9.d" class="text_WcJ3">9.d</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">package P is<!-- -->
<!-- -->    type T(D : Integer) is private;<!-- -->
<!-- -->private<!-- -->
<!-- -->    type T is new Some_Other_Type; -- Illegal!<!-- -->
<!-- -->end P;<!-- -->
<!-- -->  <!-- -->
<div class="wrapper_ab13"><a id="p9.e" href="#p9.e" class="text_WcJ3">9.e</a></div></code></pre><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">even if Some_Other_Type has an integer discriminant called D.<br></div></div></div><div class="wrapper_ab13"><a id="p9.f" href="#p9.f" class="text_WcJ3">9.f</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">It is a ramification of this and other rules that in order for a tagged type to privately inherit unconstrained discriminants, the private type declaration has to have an <code><a href="/docs/arm/AA-3/AA-3.7#S0060">unknown_discriminant_part</a></code>. <br></div></div></div><div class="wrapper_ab13"><a id="p10" href="#p10" class="text_WcJ3">10</a></div><p>If a private extension inherits known discriminants from the ancestor subtype, then the full view shall also inherit its discriminants from the ancestor subtype, and the parent subtype of the full view shall be constrained if and only if the ancestor subtype is constrained. <br></p><div class="wrapper_ab13"><a id="p10.a" href="#p10.a" class="text_WcJ3">10.a</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>The first part ensures that the full view has the same discriminants as the partial view. The second part ensures that if the partial view is unconstrained, then the full view is also unconstrained; otherwise, a client might constrain the partial view in a way that conflicts with the constraint on the full view. <br></div></div></div><div class="wrapper_ab13"><a id="p10.1" href="#p10.1" class="text_WcJ3">10.1/3</a></div><p>{<em>AI95-00419-01</em>}<!-- --> <!-- -->{<em>AI05-0004-1</em>}<!-- --> <br>If the <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code> for a private extension includes a <code><a href="/docs/arm/AA-3/AA-3.4#S0035">derived_type_definition</a></code>, then the reserved word <strong>limited</strong> shall appear in the <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code> if and only if it also appears in the <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code>. <br></p><div class="wrapper_ab13"><a id="p10.b" href="#p10.b" class="text_WcJ3">10.b/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI05-0004-1</em>}<!-- --> <br>The word <strong>limited</strong> is optional (unless the ancestor is an interface), but it should be used consistently. Otherwise things would be too confusing for the reader. Of course, we only require that if the full type includes a <code><a href="/docs/arm/AA-3/AA-3.4#S0035">derived_type_definition</a></code>, as we want to allow task and protected types to complete extensions of synchronized interfaces. <br></div></div></div><div class="wrapper_ab13"><a id="p11" href="#p11" class="text_WcJ3">11</a></div><p>[If a partial view has unknown discriminants, then the <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code> may define a definite or an indefinite subtype, with or without discriminants.]<br></p><div class="wrapper_ab13"><a id="p12" href="#p12" class="text_WcJ3">12</a></div><p>If a partial view has neither known nor unknown discriminants, then the <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code> shall define a definite subtype.<br></p><div class="wrapper_ab13"><a id="p13" href="#p13" class="text_WcJ3">13</a></div><p>If the ancestor subtype of a private extension has constrained discriminants, then the parent subtype of the full view shall impose a statically matching constraint on those discriminants. <br></p><div class="wrapper_ab13"><a id="p13.a" href="#p13.a" class="text_WcJ3">13.a</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>If the parent type of the full view is not the ancestor type, but is rather some descendant thereof, the constraint on the discriminants of the parent type might come from the declaration of some intermediate type in the derivation chain between the ancestor type and the parent type. <br></div></div></div><div class="wrapper_ab13"><a id="p13.b" href="#p13.b" class="text_WcJ3">13.b</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>This prevents the following: <br></div></div></div><div class="wrapper_ab13"><a id="p13.c" href="#p13.c" class="text_WcJ3">13.c</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">package P is<!-- -->
<!-- -->    type T2 is new T1(Discrim =<!-- -->&gt;<!-- --> 3) with private;<!-- -->
<!-- -->private<!-- -->
<!-- -->    type T2 is new T1(Discrim =<!-- -->&gt;<!-- --> 999) -- Illegal!<!-- -->
<!-- -->        with record ...;<!-- -->
<!-- -->end P;<!-- -->
<div class="wrapper_ab13"><a id="p13.d" href="#p13.d" class="text_WcJ3">13.d</a></div></code></pre><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The constraints in this example do not statically match.<br></div></div></div><div class="wrapper_ab13"><a id="p13.e" href="#p13.e" class="text_WcJ3">13.e</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">If the constraint on the parent subtype of the full view depends on discriminants of the full view, then the ancestor subtype has to be unconstrained: <br></div></div></div><div class="wrapper_ab13"><a id="p13.f" href="#p13.f" class="text_WcJ3">13.f</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">type One_Discrim(A: Integer) is tagged ...;<!-- -->
<!-- -->...<!-- -->
<!-- -->package P is<!-- -->
<!-- -->    type Two_Discrims(B: Boolean; C: Integer) is new One_Discrim with private;<!-- -->
<!-- -->private<!-- -->
<!-- -->    type Two_Discrims(B: Boolean; C: Integer) is new One_Discrim(A =<!-- -->&gt;<!-- --> C) with<!-- -->
<!-- -->        record<!-- -->
<!-- -->            ...<!-- -->
<!-- -->        end record;<!-- -->
<!-- -->end P;<!-- -->
<div class="wrapper_ab13"><a id="p13.g" href="#p13.g" class="text_WcJ3">13.g</a></div></code></pre><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The above example would be illegal if the private extension said &quot;is new One_Discrim(A =<!-- -->&gt;<!-- --> C);&quot;, because then the constraints would not statically match. (Constraints that depend on discriminants are not static.)<br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="static-semantics">Static Semantics<a class="hash-link" href="#static-semantics" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p14" href="#p14" class="text_WcJ3">14</a></div><p>A <code><a href="/docs/arm/AA-7/AA-7.3#S0232">private_type_declaration</a></code> declares a private type and its first subtype. Similarly, a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code> declares a private extension and its first subtype. <br></p><div class="wrapper_ab13"><a id="p14.a" href="#p14.a" class="text_WcJ3">14.a</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>A <em>package-private type</em> is one declared by a <code><a href="/docs/arm/AA-7/AA-7.3#S0232">private_type_declaration</a></code>; that is, a private type other than a generic formal private type. Similarly, a <em>package-private extension</em> is one declared by a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code>. These terms are not used in the RM95 version of this document. <br></div></div></div><div class="wrapper_ab13"><a id="p15" href="#p15" class="text_WcJ3">15/3</a></div><p>{<em>AI05-0269-1</em>}<!-- --> <br>A declaration of a partial view and the corresponding <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code> define two views of a single type. The declaration of a partial view together with the visible part define the operations that are available to outside program units; the declaration of the full view together with the private part define other operations whose direct use is possible only within the declarative region of the package itself. Moreover, within the scope of the declaration of the full view, the characteristics (see <a href="/docs/arm/AA-3/AA-3.4">3.4</a>) of the type are determined by the full view; in particular, within its scope, the full view determines the classes that include the type, which components, entries, and protected subprograms are visible, what attributes and other predefined operations are allowed, and whether the first subtype is static. See <a href="/docs/arm/AA-7/AA-7.3#Subclause_7.3.1">7.3.1</a>.<br></p><div class="wrapper_ab13"><a id="p16" href="#p16" class="text_WcJ3">16/3</a></div><p>{<em>AI95-00401-01</em>}<!-- --> <!-- -->{<em>AI05-0110-1</em>}<!-- --> <br>For a private extension, the characteristics (including components, but excluding discriminants if there is a new <code><a href="/docs/arm/AA-3/AA-3.7#S0059">discriminant_part</a></code> specified), predefined operators, and inherited user-defined primitive subprograms are determined by its ancestor type and its progenitor types (if any), in the same way that those of a record extension are determined by those of its parent type and its progenitor types (see <a href="/docs/arm/AA-3/AA-3.4">3.4</a> and <a href="/docs/arm/AA-7/AA-7.3#Subclause_7.3.1">7.3.1</a>). <br></p><div class="wrapper_ab13"><a id="p16.a" href="#p16.a" class="text_WcJ3">16.a/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>To be honest: </strong>{<em>AI05-0110-1</em>}<!-- --> <br>If an operation of the ancestor or parent type is abstract, then the abstractness of the inherited operation is different for nonabstract record extensions than for nonabstract private extensions (see <a href="/docs/arm/AA-3/AA-3.9#Subclause_3.9.3">3.9.3</a>). <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="dynamic-semantics">Dynamic Semantics<a class="hash-link" href="#dynamic-semantics" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p17" href="#p17" class="text_WcJ3">17</a></div><p>The elaboration of a <code><a href="/docs/arm/AA-7/AA-7.3#S0232">private_type_declaration</a></code> creates a partial view of a type. The elaboration of a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code> elaborates the <em>ancestor_</em><code><a href="/docs/arm/AA-3/AA-3.2#S0027">subtype_indication</a></code>, and creates a partial view of a type. <br></p><div class="wrapper_ab13"><a id="p18" href="#p18" class="text_WcJ3">18/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 1   <!-- -->{<em>AI12-0442-1</em>}<!-- --> <br>The partial view of a type as declared by a <code><a href="/docs/arm/AA-7/AA-7.3#S0232">private_type_declaration</a></code> is defined to be a composite view (in <a href="/docs/arm/AA-3/AA-3.2">3.2</a>). The full view of the type can be elementary or composite. A private extension is also composite, as is its full view.<br></div></div></div><div class="wrapper_ab13"><a id="p19" href="#p19" class="text_WcJ3">19/2</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 2   <!-- -->{<em>AI95-00318-02</em>}<!-- --> <br>Declaring a private type with an <code><a href="/docs/arm/AA-3/AA-3.7#S0060">unknown_discriminant_part</a></code> is a way of preventing clients from creating uninitialized objects of the type; they are then forced to initialize each object by calling some operation declared in the visible part of the package. <br></div></div></div><div class="wrapper_ab13"><a id="p19.a" href="#p19.a" class="text_WcJ3">19.a</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>Packages with private types are analogous to generic packages with formal private types, as follows: The declaration of a package-private type is like the declaration of a formal private type. The visible part of the package is like the generic formal part; these both specify a contract (that is, a set of operations and other things available for the private type). The private part of the package is like an instantiation of the generic; they both give a <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code> that specifies implementation details of the private type. The clients of the package are like the body of the generic; usage of the private type in these places is restricted to the operations defined by the contract.<br></div></div></div><div class="wrapper_ab13"><a id="p19.b" href="#p19.b" class="text_WcJ3">19.b</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">In other words, being inside the package is like being outside the generic, and being outside the package is like being inside the generic; a generic is like an &quot;inside-out&quot; package.<br></div></div></div><div class="wrapper_ab13"><a id="p19.c" href="#p19.c" class="text_WcJ3">19.c</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">This analogy also works for private extensions in the same inside-out way.<br></div></div></div><div class="wrapper_ab13"><a id="p19.d" href="#p19.d" class="text_WcJ3">19.d</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">Many of the legality rules are defined with this analogy in mind. See, for example, the rules relating to operations of [formal] derived types.<br></div></div></div><div class="wrapper_ab13"><a id="p19.e" href="#p19.e" class="text_WcJ3">19.e</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The completion rules for a private type are intentionally quite similar to the matching rules for a generic formal private type.<br></div></div></div><div class="wrapper_ab13"><a id="p19.f" href="#p19.f" class="text_WcJ3">19.f</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">This analogy breaks down in one respect: a generic actual subtype is a subtype, whereas the full view for a private type is always a new type. (We considered allowing the completion of a <code><a href="/docs/arm/AA-7/AA-7.3#S0232">private_type_declaration</a></code> to be a <code><a href="/docs/arm/AA-3/AA-3.2#S0026">subtype_declaration</a></code>, but the semantics just won&#x27;t work.) This difference is behind the fact that a generic actual type can be class-wide, whereas the completion of a private type always declares a specific type. <br></div></div></div><div class="wrapper_ab13"><a id="p20" href="#p20" class="text_WcJ3">20/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 3   <!-- -->{<em>AI95-00401</em>}<!-- --> <!-- -->{<em>AI12-0442-1</em>}<!-- --> <br>The ancestor type specified in a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code> and the parent type specified in the corresponding declaration of a record extension given in the private part can be different. If the ancestor type is not an interface type, the parent type of the full view can be any descendant of the ancestor type. In this case, for a primitive subprogram that is inherited from the ancestor type and not overridden, the formal parameter names and default expressions (if any) come from the corresponding primitive subprogram of the specified ancestor type, while the body comes from the corresponding primitive subprogram of the parent type of the full view. See <a href="/docs/arm/AA-3/AA-3.9#Subclause_3.9.2">3.9.2</a>.<br></div></div></div><div class="wrapper_ab13"><a id="p21" href="#p21" class="text_WcJ3">21/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 4   <!-- -->{<em>AI95-00401</em>}<!-- --> <!-- -->{<em>AI12-0442-1</em>}<!-- --> <br>If the ancestor type specified in a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code> is an interface type, the parent type can be any type so long as the full view is a descendant of the ancestor type. The progenitor types specified in a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code> and the progenitor types specified in the corresponding declaration of a record extension given in the private part are not necessarily the same - it is only necessary that the private extension and the record extension be descended from the same set of interfaces. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="examples">Examples<a class="hash-link" href="#examples" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p22" href="#p22" class="text_WcJ3">22</a></div><p><em>Examples of private type declarations:</em> <br></p><div class="wrapper_ab13"><a id="p23" href="#p23" class="text_WcJ3">23</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">type Key is private;<!-- -->
<!-- -->type File_Name is limited private;<!-- -->
<div class="wrapper_ab13"><a id="p24" href="#p24" class="text_WcJ3">24</a></div></code></pre><p><em>Example of a private extension declaration:</em> <br></p><div class="wrapper_ab13"><a id="p25" href="#p25" class="text_WcJ3">25</a></div><div class="language-ada codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_Okxd"><pre tabindex="0" class="prism-code language-ada codeBlock_UMHK thin-scrollbar"><code class="codeBlockLines_njep"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">List</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">Ada</span><span class="token punctuation" style="color:#393A34">.</span><span class="token variable" style="color:#36acaa">Finalization</span><span class="token punctuation" style="color:#393A34">.</span><span class="token variable" style="color:#36acaa">Controlled</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">private</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_L83P"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eOAr" aria-hidden="true"><svg class="copyButtonIcon_uNeV" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_dQTy" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-83">Extensions to Ada 83<a class="hash-link" href="#extensions-to-ada-83" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p25.a" href="#p25.a" class="text_WcJ3">25.a</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The syntax for a <code><a href="/docs/arm/AA-7/AA-7.3#S0232">private_type_declaration</a></code> is augmented to allow the reserved word <strong>tagged</strong>.<br></div></div></div><div class="wrapper_ab13"><a id="p25.b" href="#p25.b" class="text_WcJ3">25.b</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">In Ada 83, a private type without discriminants cannot be completed with a type with discriminants. Ada 95 allows the full view to have discriminants, so long as they have defaults (that is, so long as the first subtype is definite). This change is made for uniformity with generics, and because the rule as stated is simpler and easier to remember than the Ada 83 rule. In the original version of Ada 83, the same restriction applied to generic formal private types. However, the restriction was removed by the ARG for generics. In order to maintain the &quot;generic contract/private type contract analogy&quot; discussed above, we have to apply the same rule to package-private types. Note that a private untagged type without discriminants can be completed with a tagged type with discriminants only if the full view is constrained, because discriminants of tagged types cannot have defaults. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-83">Wording Changes from Ada 83<a class="hash-link" href="#wording-changes-from-ada-83" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p25.c" href="#p25.c" class="text_WcJ3">25.c</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">RM83-7.4.1(4), &quot;Within the specification of the package that declares a private type and before the end of the corresponding full type declaration, a restriction applies....&quot;, is subsumed (and corrected) by the rule that a type shall be completely defined before it is frozen, and the rule that the parent type of a derived type declaration shall be completely defined, unless the derived type is a private extension. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-95">Extensions to Ada 95<a class="hash-link" href="#extensions-to-ada-95" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p25.d" href="#p25.d" class="text_WcJ3">25.d/2</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI95-00251-01</em>}<!-- --> <!-- -->{<em>AI95-00396-01</em>}<!-- --> <!-- -->{<em>AI95-00401-01</em>}<!-- --> <br>Added <code><a href="/docs/arm/AA-3/AA-3.9#S0078">interface_list</a></code> to private extensions to support interfaces and multiple inheritance (see <a href="/docs/arm/AA-3/AA-3.9#Subclause_3.9.4">3.9.4</a>).<br></div></div></div><div class="wrapper_ab13"><a id="p25.e" href="#p25.e" class="text_WcJ3">25.e/2</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI95-00419-01</em>}<!-- --> <br>A private extension may specify that it is a limited type. This is required for interface ancestors (from which limitedness is not inherited), but it is generally useful as documentation of limitedness.<br></div></div></div><div class="wrapper_ab13"><a id="p25.f" href="#p25.f" class="text_WcJ3">25.f/2</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI95-00443-01</em>}<!-- --> <br>A private extension may specify that it is a synchronized type. This is required in order so that a regular limited interface can be used as the ancestor of a synchronized type (we do not allow hiding of synchronization). <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-2005">Extensions to Ada 2005<a class="hash-link" href="#extensions-to-ada-2005" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p25.g" href="#p25.g" class="text_WcJ3">25.g/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI05-0183-1</em>}<!-- --> <br>An optional <code><a href="/docs/arm/AA-13/AA-13.1#S0346">aspect_specification</a></code> can be used in a <code><a href="/docs/arm/AA-7/AA-7.3#S0232">private_type_declaration</a></code> and a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code>. This is described in <a href="/docs/arm/AA-13/AA-13.1#Subclause_13.1.1">13.1.1</a>. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-2005">Wording Changes from Ada 2005<a class="hash-link" href="#wording-changes-from-ada-2005" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p25.h" href="#p25.h" class="text_WcJ3">25.h/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI05-0110-1</em>}<!-- --> <strong><br></strong> The description of how a private extension inherits characteristics was made consistent with the way formal derived types inherit characteristics (see <a href="/docs/arm/AA-12/AA-12.5#Subclause_12.5.1">12.5.1</a>). <br></div></div></div><a id="Subclause_7.3.1"></a><h2 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="731--private-operations">7.3.1  Private Operations<a class="hash-link" href="#731--private-operations" title="Direct link to heading">â€‹</a></h2><div class="wrapper_ab13"><a id="p1" href="#p1" class="text_WcJ3">1</a></div><p>[For a type declared in the visible part of a package or generic package, certain operations on the type do not become visible until later in the package - either in the private part or the body. Such <em>private operations</em> are available only inside the declarative region of the package or generic package.] <br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="static-semantics-1">Static Semantics<a class="hash-link" href="#static-semantics-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p2" href="#p2" class="text_WcJ3">2</a></div><p>The predefined operators that exist for a given type are determined by the classes to which the type belongs. For example, an integer type has a predefined &quot;+&quot; operator. In most cases, the predefined operators of a type are declared immediately after the definition of the type; the exceptions are explained below. Inherited subprograms are also implicitly declared immediately after the definition of the type, except as stated below.<br></p><div class="wrapper_ab13"><a id="p3" href="#p3" class="text_WcJ3">3/3</a></div><p>{<em>8652/0019</em>}<!-- --> <!-- -->{<em>AI95-00033-01</em>}<!-- --> <!-- -->{<em>AI05-0029-1</em>}<!-- --> <br>For a composite type, the characteristics (see <a href="/docs/arm/AA-7/AA-7.3">7.3</a>) of the type are determined in part by the characteristics of its component types. At the place where the composite type is declared, the only characteristics of component types used are those characteristics visible at that place. If later immediately within the declarative region in which the composite type is declared additional characteristics become visible for a component type, then any corresponding characteristics become visible for the composite type. Any additional predefined operators are implicitly declared at that place. If there is no such place, then additional predefined operators are not declared at all, but they still exist.<br></p><div class="wrapper_ab13"><a id="p3.a" href="#p3.a" class="text_WcJ3">3.a/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI05-0029-1</em>}<!-- --> <br>We say that the predefined operators exist because they can emerge in some unusual generic instantiations. See <a href="/docs/arm/AA-12/AA-12.5">12.5</a>. <br></div></div></div><div class="wrapper_ab13"><a id="p3.b" href="#p3.b" class="text_WcJ3">3.b/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI05-0029-1</em>}<!-- --> <br>The predefined operators for the underlying class of a type always exist, even if there is no visibility on that underlying class. This rule is simply about where (if ever) those operators are declared (and thus become usable). The &quot;additional predefined operators&quot; defined by this rule are any that are not declared at the point of the original type declaration. For instance, a type derived from a private type whose full type is type String always will have a &quot;<!-- -->&gt;<!-- -->&quot; operator, but where that operator is declared (and thus whether it is visible) will depend on the visibility of the full type of the parent type. <br></div></div></div><div class="wrapper_ab13"><a id="p4" href="#p4" class="text_WcJ3">4/1</a></div><p>{<em>8652/0019</em>}<!-- --> <!-- -->{<em>AI95-00033-01</em>}<!-- --> <br>The corresponding rule applies to a type defined by a <code><a href="/docs/arm/AA-3/AA-3.4#S0035">derived_type_definition</a></code>, if there is a place immediately within the declarative region in which the type is declared where additional characteristics of its parent type become visible.<br></p><div class="wrapper_ab13"><a id="p5" href="#p5" class="text_WcJ3">5/1</a></div><p>{<em>8652/0019</em>}<!-- --> <!-- -->{<em>AI95-00033-01</em>}<!-- --> <br>[For example, an array type whose component type is limited private becomes nonlimited if the full view of the component type is nonlimited and visible at some later place immediately within the declarative region in which the array type is declared. In such a case, the predefined &quot;=&quot; operator is implicitly declared at that place, and assignment is allowed after that place.]<br></p><div class="wrapper_ab13"><a id="p5.1" href="#p5.1" class="text_WcJ3">5.1/5</a></div><p>{<em>AI12-0140-1</em>}<!-- --> <br>The characteristics and constraints of the designated subtype of an access type follow a somewhat different rule. The view of the designated subtype of (a view of) an access type at a given place is determined by the view of the designated subtype that is visible at that place, rather than the view at the place where the access type is declared.<br></p><div class="wrapper_ab13"><a id="p5.a.1" href="#p5.a.1" class="text_WcJ3">5.a.1/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0140-1</em>}<!-- --> <br>Whether or not the designated subtype is considered incomplete is determined by rules in <a href="/docs/arm/AA-3/AA-3.10#Subclause_3.10.1">3.10.1</a>; this rule has no effect on that property. <br></div></div></div><div class="wrapper_ab13"><a id="p5.2" href="#p5.2" class="text_WcJ3">5.2/5</a></div><p>{<em>AI05-0115-1</em>}<!-- --> <!-- -->{<em>AI05-0269-1</em>}<!-- --> <!-- -->{<em>AI12-0140-1</em>}<!-- --> <br>A type is a <em>descendant</em> of the full view of some ancestor of its parent type only if the current view it has of its parent is a descendant of the full view of that ancestor. More generally, at any given place, a type is descended from the same view of an ancestor as that from which the current view of its parent is descended. This view determines what characteristics are inherited from the ancestor[, and, for example, whether the type is considered to be a descendant of a record type, or a descendant only through record extensions of a more distant ancestor].<br></p><div class="wrapper_ab13"><a id="p5.3" href="#p5.3" class="text_WcJ3">5.3/5</a></div><p>{<em>AI05-0115-1</em>}<!-- --> <!-- -->{<em>AI12-0065-1</em>}<!-- --> <!-- -->{<em>AI12-0140-1</em>}<!-- --> <br>[Furthermore, it is possible for there to be places where a derived type is known to be derived indirectly from an ancestor type, but is not a descendant of even a partial view of the ancestor type, because the parent of the derived type is not visibly a descendant of the ancestor.  In this case, the derived type inherits no characteristics from that ancestor, but nevertheless is within the derivation class of the ancestor for the purposes of type conversion, the &quot;covers&quot; relationship, and matching against a formal derived type. In this case the derived type is effectively a <em>descendant</em> of an incomplete view of the ancestor.]<br></p><div class="wrapper_ab13"><a id="p5.a" href="#p5.a" class="text_WcJ3">5.a/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>Here is an example of this situation: <br></div></div></div><div class="wrapper_ab13"><a id="p5.b" href="#p5.b" class="text_WcJ3">5.b/3</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">package P is<!-- -->
<!-- -->   type T is private;<!-- -->
<!-- -->   C : constant T;<!-- -->
<!-- -->private<!-- -->
<!-- -->   type T is new Integer;<!-- -->
<!-- -->   C : constant T := 42;<!-- -->
<!-- -->end P;<!-- -->
<div class="wrapper_ab13"><a id="p5.c" href="#p5.c" class="text_WcJ3">5.c/4</a></div>--  <!-- -->{<!-- -->AI12-0065-1<!-- -->}<!-- -->
<!-- --> with P;<!-- -->
<!-- -->package Q is<!-- -->
<!-- -->    type T2 is new P.T;  -- T2 is not a descendant of Integer<!-- -->
<!-- -->end Q;<!-- -->
<div class="wrapper_ab13"><a id="p5.d" href="#p5.d" class="text_WcJ3">5.d/4</a></div>--  <!-- -->{<!-- -->AI12-0065-1<!-- -->}<!-- -->
<!-- --> with Q;<!-- -->
<!-- -->package P.Child is<!-- -->
<!-- -->    type T3 is new Q.T2;<!-- -->
<!-- -->private<!-- -->
<!-- -->    -- Here T3 is known to be indirectly derived from Integer, but inherits<!-- -->
<!-- -->    -- no characteristics from Integer, since T2 inherits no characteristics<!-- -->
<!-- -->    -- from Integer.<!-- -->
<!-- -->    -- However, we allow an explicit conversion of T3 to/from Integer.<!-- -->
<!-- -->    -- Hence, T3 is effectively a descendant of an &quot;incomplete&quot; view of Integer.<!-- -->
<!-- -->    Int : Integer := 52;<!-- -->
<!-- -->    V : T3 := T3(P.C);  -- Legal: conversion allowed<!-- -->
<!-- -->    W : T3 := T3(Int);  -- Legal: conversion allowed<!-- -->
<!-- -->    X : T3 := T3(42);   -- Error: T3 is not a numeric type<!-- -->
<!-- -->    Y : T3 := X + 1;    -- Error: no visible &quot;+&quot; operator<!-- -->
<!-- -->    Z : T3 := T3(Integer(W) + 1);   -- Legal: convert to Integer first<!-- -->
<!-- -->end P.Child;<!-- -->
<div class="wrapper_ab13"><a id="p6" href="#p6" class="text_WcJ3">6/3</a></div></code></pre><p>{<em>8652/0019</em>}<!-- --> <!-- -->{<em>AI95-00033-01</em>}<!-- --> <!-- -->{<em>AI05-0029-1</em>}<!-- --> <br>Inherited primitive subprograms follow a different rule. For a <code><a href="/docs/arm/AA-3/AA-3.4#S0035">derived_type_definition</a></code>, each inherited primitive subprogram is implicitly declared at the earliest place, if any, immediately within the declarative region in which the <code><a href="/docs/arm/AA-3/AA-3.2#S0023">type_declaration</a></code> occurs, but after the <code><a href="/docs/arm/AA-3/AA-3.2#S0023">type_declaration</a></code>, where the corresponding declaration from the parent is visible. If there is no such place, then the inherited subprogram is not declared at all, but it still exists. [For a tagged type, it is possible to dispatch to an inherited subprogram that is not declared at all.]<br></p><div class="wrapper_ab13"><a id="p7" href="#p7" class="text_WcJ3">7/5</a></div><p>{<em>AI12-0439-1</em>}<!-- --> <br>For a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code>, each inherited subprogram is declared immediately after the <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code> if the corresponding declaration from the ancestor is visible at that place. Otherwise, the inherited subprogram is not declared for the private extension, [though it can be for the full type]. <br></p><div class="wrapper_ab13"><a id="p7.a" href="#p7.a" class="text_WcJ3">7.a/1</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>There is no need for the &quot;earliest place immediately within the declarative region&quot; business here, because a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code> will be completed with a <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code>, so we can hang the necessary private implicit declarations on the <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code>. <br></div></div></div><div class="wrapper_ab13"><a id="p7.b" href="#p7.b" class="text_WcJ3">7.b</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>The above rules matter only when the component type (or parent type) is declared in the visible part of a package, and the composite type (or derived type) is declared within the declarative region of that package (possibly in a nested package or a child package).<br></div></div></div><div class="wrapper_ab13"><a id="p7.c" href="#p7.c" class="text_WcJ3">7.c</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">Consider: <br></div></div></div><div class="wrapper_ab13"><a id="p7.d" href="#p7.d" class="text_WcJ3">7.d</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">package Parent is<!-- -->
<!-- -->    type Root is tagged null record;<!-- -->
<!-- -->    procedure Op1(X : Root);<!-- -->
<div class="wrapper_ab13"><a id="p7.e" href="#p7.e" class="text_WcJ3">7.e</a></div>type My_Int is range 1..10;<!-- -->
<!-- -->private<!-- -->
<!-- -->    procedure Op2(X : Root);<!-- -->
<div class="wrapper_ab13"><a id="p7.f" href="#p7.f" class="text_WcJ3">7.f</a></div>type Another_Int is new My_Int;<!-- -->
<!-- -->    procedure Int_Op(X : My_Int);<!-- -->
<!-- -->end Parent;<!-- -->
<div class="wrapper_ab13"><a id="p7.g" href="#p7.g" class="text_WcJ3">7.g</a></div>with Parent; use Parent;<!-- -->
<!-- -->package Unrelated is<!-- -->
<!-- -->    type T2 is new Root with null record;<!-- -->
<!-- -->    procedure Op2(X : T2);<!-- -->
<!-- -->end Unrelated;<!-- -->
<div class="wrapper_ab13"><a id="p7.h" href="#p7.h" class="text_WcJ3">7.h</a></div>package Parent.Child is<!-- -->
<!-- -->    type T3 is new Root with null record;<!-- -->
<!-- -->    -- Op1(T3) implicitly declared here.<!-- -->
<div class="wrapper_ab13"><a id="p7.i" href="#p7.i" class="text_WcJ3">7.i</a></div>package Nested is<!-- -->
<!-- -->        type T4 is new Root with null record;<!-- -->
<!-- -->    private<!-- -->
<!-- -->        ...<!-- -->
<!-- -->    end Nested;<!-- -->
<!-- -->private<!-- -->
<!-- -->    -- Op2(T3) implicitly declared here.<!-- -->
<!-- -->    ...<!-- -->
<!-- -->end Parent.Child;<!-- -->
<div class="wrapper_ab13"><a id="p7.j" href="#p7.j" class="text_WcJ3">7.j</a></div>with Unrelated; use Unrelated;<!-- -->
<!-- -->package body Parent.Child is<!-- -->
<!-- -->    package body Nested is<!-- -->
<!-- -->        -- Op2(T4) implicitly declared here.<!-- -->
<!-- -->    end Nested;<!-- -->
<div class="wrapper_ab13"><a id="p7.k" href="#p7.k" class="text_WcJ3">7.k</a></div>type T5 is new T2 with null record;<!-- -->
<!-- -->end Parent.Child;<!-- -->
<div class="wrapper_ab13"><a id="p7.l" href="#p7.l" class="text_WcJ3">7.l</a></div></code></pre><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">Another_Int does not inherit Int_Op, because Int_Op does not &quot;exist&quot; at the place where Another_Int is declared.<br></div></div></div><div class="wrapper_ab13"><a id="p7.m" href="#p7.m" class="text_WcJ3">7.m/1</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">Type T2 inherits Op1 and Op2 from Root. However, the inherited Op2 is never declared, because Parent.Op2 is never visible immediately within the declarative region of T2. T2 explicitly declares its own Op2, but this is unrelated to the inherited one - it does not override the inherited one, and occupies a different slot in the type descriptor.<br></div></div></div><div class="wrapper_ab13"><a id="p7.n" href="#p7.n" class="text_WcJ3">7.n</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">T3 inherits both Op1 and Op2. Op1 is implicitly declared immediately after the type declaration, whereas Op2 is declared at the beginning of the private part. Note that if Child were a private child of Parent, then Op1 and Op2 would both be implicitly declared immediately after the type declaration.<br></div></div></div><div class="wrapper_ab13"><a id="p7.o" href="#p7.o" class="text_WcJ3">7.o/1</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">T4 is similar to T3, except that the earliest place immediately within the declarative region containing T4 where Root&#x27;s Op2 is visible is in the body of Nested.<br></div></div></div><div class="wrapper_ab13"><a id="p7.p" href="#p7.p" class="text_WcJ3">7.p</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">If T3 or T4 were to declare a type-conformant Op2, this would override the one inherited from Root. This is different from the situation with T2.<br></div></div></div><div class="wrapper_ab13"><a id="p7.q" href="#p7.q" class="text_WcJ3">7.q</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">T5 inherits Op1 and two Op2&#x27;s from T2. Op1 is implicitly declared immediately after the declaration of T5, as is the Op2 that came from Unrelated.Op2. However, the Op2 that originally came from Parent.Op2 is never implicitly declared for T5, since T2&#x27;s version of that Op2 is never visible (anywhere - it never got declared either).<br></div></div></div><div class="wrapper_ab13"><a id="p7.r" href="#p7.r" class="text_WcJ3">7.r</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">For all of these rules, implicit private parts and bodies are assumed as needed.<br></div></div></div><div class="wrapper_ab13"><a id="p7.s" href="#p7.s" class="text_WcJ3">7.s</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">It is possible for characteristics of a type to be revealed in more than one place:<br></div></div></div><div class="wrapper_ab13"><a id="p7.t" href="#p7.t" class="text_WcJ3">7.t</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">package P is<!-- -->
<!-- -->    type Comp1 is private;<!-- -->
<!-- -->private<!-- -->
<!-- -->    type Comp1 is new Boolean;<!-- -->
<!-- -->end P;<!-- -->
<div class="wrapper_ab13"><a id="p7.u" href="#p7.u" class="text_WcJ3">7.u</a></div>package P.Q is<!-- -->
<!-- -->    package R is<!-- -->
<!-- -->        type Comp2 is limited private;<!-- -->
<!-- -->        type A is array(Integer range <!-- -->&lt;<!-- -->&gt;<!-- -->) of Comp2;<!-- -->
<!-- -->    private<!-- -->
<!-- -->        type Comp2 is new Comp1;<!-- -->
<!-- -->        -- A becomes nonlimited here.<!-- -->
<!-- -->        -- &quot;=&quot;(A, A) return Boolean is implicitly declared here.<!-- -->
<!-- -->        ...<!-- -->
<!-- -->    end R;<!-- -->
<!-- -->private<!-- -->
<!-- -->    -- Now we find out what Comp1 really is, which reveals<!-- -->
<!-- -->    -- more information about Comp2, but we&#x27;re not within<!-- -->
<!-- -->    -- the immediate scope of Comp2, so we don&#x27;t do anything<!-- -->
<!-- -->    -- about it yet.<!-- -->
<!-- -->end P.Q;<!-- -->
<div class="wrapper_ab13"><a id="p7.v" href="#p7.v" class="text_WcJ3">7.v</a></div>package body P.Q is<!-- -->
<!-- -->    package body R is<!-- -->
<!-- -->        -- Things like &quot;xor&quot;(A,A) return A are implicitly<!-- -->
<!-- -->        -- declared here.<!-- -->
<!-- -->    end R;<!-- -->
<!-- -->end P.Q;<!-- -->
<div class="wrapper_ab13"><a id="p7.v.1" href="#p7.v.1" class="text_WcJ3">7.v.1/1</a></div></code></pre><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>8652/0019</em>}<!-- --> <!-- -->{<em>AI95-00033-01</em>}<!-- --> <br>We say <em>immediately</em> within the declarative region in order that types do not gain operations within a nested scope. Consider: <br></div></div></div><div class="wrapper_ab13"><a id="p7.v.2" href="#p7.v.2" class="text_WcJ3">7.v.2/1</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">package Outer is<!-- -->
<!-- -->    package Inner is<!-- -->
<!-- -->        type Inner_Type is private;<!-- -->
<!-- -->    private<!-- -->
<!-- -->        type Inner_Type is new Boolean;<!-- -->
<!-- -->    end Inner;<!-- -->
<!-- -->    type Outer_Type is array(Natural range <!-- -->&lt;<!-- -->&gt;<!-- -->) of Inner.Inner_Type;<!-- -->
<!-- -->end Outer;<!-- -->
<div class="wrapper_ab13"><a id="p7.v.3" href="#p7.v.3" class="text_WcJ3">7.v.3/1</a></div>package body Outer is<!-- -->
<!-- -->    package body Inner is<!-- -->
<!-- -->        -- At this point, we can see that Inner_Type is a Boolean type.<!-- -->
<!-- -->        -- But we don&#x27;t want Outer_Type to gain an &quot;and&quot; operator here.<!-- -->
<!-- -->    end Inner;<!-- -->
<!-- -->end Outer;<!-- -->
<div class="wrapper_ab13"><a id="p8" href="#p8" class="text_WcJ3">8</a></div></code></pre><p>[The Class attribute is defined for tagged subtypes in <a href="/docs/arm/AA-3/AA-3.9">3.9</a>. In addition,] for every subtype S of an untagged private type whose full view is tagged, the following attribute is defined: <br></p><div class="wrapper_ab13"><a id="p9" href="#p9" class="text_WcJ3">9</a></div><dt><br>S&#x27;Class</dt><dl><dd>Denotes the class-wide subtype corresponding to the full view of S. This attribute is allowed only from the beginning of the private part in which the full view is declared, until the declaration of the full view. [After the full view, the Class attribute of the full view can be used.] <br></dd><div class="wrapper_ab13"><a id="p10" href="#p10" class="text_WcJ3">10</a></div></dl><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 1   Because a partial view and a full view are two different views of one and the same type, outside of the defining package the characteristics of the type are those defined by the visible part. Within these outside program units the type is just a private type or private extension, and any language rule that applies only to another class of types does not apply. The fact that the full declaration can implement a private type with a type of a particular class (for example, as an array type) is relevant only within the declarative region of the package itself including any child units.<br></div></div></div><div class="wrapper_ab13"><a id="p11" href="#p11" class="text_WcJ3">11</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The consequences of this actual implementation are, however, valid everywhere. For example: any default initialization of components takes place; the attribute Size provides the size of the full view; finalization is still done for controlled components of the full view; task dependence rules still apply to components that are task objects.<br></div></div></div><div class="wrapper_ab13"><a id="p12" href="#p12" class="text_WcJ3">12/2</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 2   <!-- -->{<em>AI95-00287-01</em>}<!-- --> <br>Partial views provide initialization, membership tests, selected components for the selection of discriminants and inherited components, qualification, and explicit conversion. Nonlimited partial views also allow use of <code><a href="/docs/arm/AA-5/AA-5.2#S0173">assignment_statement</a></code>s.<br></div></div></div><div class="wrapper_ab13"><a id="p13" href="#p13" class="text_WcJ3">13</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 3   For a subtype S of a partial view, S&#x27;Size is defined (see <a href="/docs/arm/AA-13/AA-13.3">13.3</a>). For an object A of a partial view, the attributes A&#x27;Size and A&#x27;Address are defined (see <a href="/docs/arm/AA-13/AA-13.3">13.3</a>). The Position, First_Bit, and Last_Bit attributes are also defined for discriminants and inherited components. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="examples-1">Examples<a class="hash-link" href="#examples-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p14" href="#p14" class="text_WcJ3">14</a></div><p><em>Example of a type with private operations:</em> <br></p><div class="wrapper_ab13"><a id="p15" href="#p15" class="text_WcJ3">15</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">package Key_Manager is<!-- -->
<!-- -->   type Key is private;<!-- -->
<!-- -->   Null_Key : constant Key; -- a deferred constant declaration (see <a href="/docs/arm/AA-7/AA-7.4">7.4</a>)<!-- -->
<!-- -->   procedure Get_Key(K : out Key);<!-- -->
<!-- -->   function &quot;<!-- -->&lt;<!-- -->&quot; (X, Y : Key) return Boolean;<!-- -->
<!-- -->private<!-- -->
<!-- -->   type Key is new Natural;<!-- -->
<!-- -->   Null_Key : constant Key := Key&#x27;First;<!-- -->
<!-- -->end Key_Manager;<!-- -->
<div class="wrapper_ab13"><a id="p16" href="#p16" class="text_WcJ3">16</a></div>package body Key_Manager is<!-- -->
<!-- -->   Last_Key : Key := Null_Key;<!-- -->
<!-- -->   procedure Get_Key(K : out Key) is<!-- -->
<!-- -->   begin<!-- -->
<!-- -->      Last_Key := Last_Key + 1;<!-- -->
<!-- -->      K := Last_Key;<!-- -->
<!-- -->   end Get_Key;<!-- -->
<div class="wrapper_ab13"><a id="p17" href="#p17" class="text_WcJ3">17</a></div>function &quot;<!-- -->&lt;<!-- -->&quot; (X, Y : Key) return Boolean is<!-- -->
<!-- -->   begin<!-- -->
<!-- -->      return Natural(X) <!-- -->&lt;<!-- --> Natural(Y);<!-- -->
<!-- -->   end &quot;<!-- -->&lt;<!-- -->&quot;;<!-- -->
<!-- -->end Key_Manager;<!-- -->
<div class="wrapper_ab13"><a id="p18" href="#p18" class="text_WcJ3">18</a></div></code></pre><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 4   <em>Notes on the example:</em> Outside of the package Key_Manager, the operations available for objects of type Key include assignment, the comparison for equality or inequality, the procedure Get_Key and the operator &quot;<!-- -->&lt;<!-- -->&quot;; they do not include other relational operators such as &quot;<!-- -->&gt;<!-- -->=&quot;, or arithmetic operators.<br></div></div></div><div class="wrapper_ab13"><a id="p19" href="#p19" class="text_WcJ3">19</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The explicitly declared operator &quot;<!-- -->&lt;<!-- -->&quot; hides the predefined operator &quot;<!-- -->&lt;<!-- -->&quot; implicitly declared by the <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code>. Within the body of the function, an explicit conversion of X and Y to the subtype Natural is necessary to invoke the &quot;<!-- -->&lt;<!-- -->&quot; operator of the parent type. Alternatively, the result of the function can be written as <strong>not</strong> (X <!-- -->&gt;<!-- -->= Y), since the operator &quot;<!-- -->&gt;<!-- -->=&quot; is not redefined.<br></div></div></div><div class="wrapper_ab13"><a id="p20" href="#p20" class="text_WcJ3">20</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The value of the variable Last_Key, declared in the package body, remains unchanged between calls of the procedure Get_Key. (See also the NOTES of <a href="/docs/arm/AA-7/AA-7.2">7.2</a>.) <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-83-1">Wording Changes from Ada 83<a class="hash-link" href="#wording-changes-from-ada-83-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p20.a" href="#p20.a" class="text_WcJ3">20.a</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The phrase in RM83-7.4.2(7), &quot;...after the full type declaration&quot;, doesn&#x27;t work in the presence of child units, so we define that rule in terms of visibility.<br></div></div></div><div class="wrapper_ab13"><a id="p20.b" href="#p20.b" class="text_WcJ3">20.b</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The definition of the Constrained attribute for private types has been moved to &quot;Obsolescent Features&quot;. (The Constrained attribute of an object has not been moved there.) <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-95">Wording Changes from Ada 95<a class="hash-link" href="#wording-changes-from-ada-95" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p20.c" href="#p20.c" class="text_WcJ3">20.c/2</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>8652/0018</em>}<!-- --> <!-- -->{<em>AI95-00033-01</em>}<!-- --> <strong><br>Corrigendum:</strong> Clarified when additional operations are declared.<br></div></div></div><div class="wrapper_ab13"><a id="p20.d" href="#p20.d" class="text_WcJ3">20.d/2</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI95-00287-01</em>}<!-- --> <br>Revised the note on operations of partial views to reflect that limited types do have an assignment operation, but not <code><a href="/docs/arm/AA-5/AA-5.2#S0173">assignment_statement</a></code>s. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-2005-1">Wording Changes from Ada 2005<a class="hash-link" href="#wording-changes-from-ada-2005-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p20.e" href="#p20.e" class="text_WcJ3">20.e/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI05-0029-1</em>}<!-- --> <strong><br></strong> Revised the wording to say that predefined operations still exist even if they are never declared, because it is possible to reference them in a generic unit.<br></div></div></div><div class="wrapper_ab13"><a id="p20.f" href="#p20.f" class="text_WcJ3">20.f/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI05-0115-1</em>}<!-- --> <strong><br></strong> Clarified that the characteristics of a descendant of a private type depend on the visibility of the full view of the direct ancestor. This has to be the case (so that privacy is not violated), but it wasn&#x27;t spelled out in earlier versions of Ada. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-2012">Wording Changes from Ada 2012<a class="hash-link" href="#wording-changes-from-ada-2012" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p20.g" href="#p20.g" class="text_WcJ3">20.g/4</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0065-1</em>}<!-- --> <strong><br>Corrigendum:</strong> Clarified the clarification added by AI05-0115-1, as it turned out to not be that clear. Hopefully this version is better.<br></div></div></div><div class="wrapper_ab13"><a id="p20.h" href="#p20.h" class="text_WcJ3">20.h/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI12-0140-1</em>}<!-- --> <strong><br></strong> Clarified the constraints and properties that apply to a designated subtype. This additional wording does not mean to change existing practice. <br></div></div></div><a id="Subclause_7.3.2"></a><h2 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="732--type-invariants">7.3.2  Type Invariants<a class="hash-link" href="#732--type-invariants" title="Direct link to heading">â€‹</a></h2><div class="wrapper_ab13"><a id="p1" href="#p1" class="text_WcJ3">1/5</a></div><p>{<em>AI05-0146-1</em>}<!-- --> <!-- -->{<em>AI12-0041-1</em>}<!-- --> <!-- -->{<em>AI12-0396-1</em>}<!-- --> <br>For a private type, private extension, or interface, the following language-defined assertion aspects may be specified with an <code><a href="/docs/arm/AA-13/AA-13.1#S0346">aspect_specification</a></code> (see <a href="/docs/arm/AA-13/AA-13.1#Subclause_13.1.1">13.1.1</a>):<br></p><div class="wrapper_ab13"><a id="p2" href="#p2" class="text_WcJ3">2/3</a></div><dt><br>{<em>AI05-0146-1</em>}<!-- --> <!-- -->{<em>AI05-0250-1</em>}<!-- --> <br>Type_Invariant</dt><dl><dd>This aspect shall be specified by an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, called an <em>invariant expression</em>. Type_Invariant may be specified on a <code><a href="/docs/arm/AA-7/AA-7.3#S0232">private_type_declaration</a></code>, on a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code>, or on a <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code> that declares the completion of a private type or private extension.<br></dd><div class="wrapper_ab13"><a id="p2.a" href="#p2.a" class="text_WcJ3">2.a/3</a></div></dl><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>Aspect Description for </strong><strong>Type_Invariant: </strong>A condition that will hold true for all objects of a type.<br></div></div></div><div class="wrapper_ab13"><a id="p3" href="#p3" class="text_WcJ3">3/5</a></div><dt><br>{<em>AI05-0146-1</em>}<!-- --> <!-- -->{<em>AI12-0041-1</em>}<!-- --> <!-- -->{<em>AI12-0150-1</em>}<!-- --> <!-- -->{<em>AI12-0419-1</em>}<!-- --> <br>Type_Invariant&#x27;Class</dt><dl><dd>This aspect shall be specified by an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, called an <em>invariant expression</em>. Type_Invariant&#x27;Class may be specified on a <code><a href="/docs/arm/AA-7/AA-7.3#S0232">private_type_declaration</a></code>, a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code>, or a <code><a href="/docs/arm/AA-3/AA-3.2#S0024">full_type_declaration</a></code> for an interface type. Type_Invariant&#x27;Class determines a <em>class-wide type invariant</em> for a tagged type. [The Type_Invariant&#x27;Class aspect is not inherited, but its effects are additive, as defined below.]<br></dd><div class="wrapper_ab13"><a id="p3.a" href="#p3.a" class="text_WcJ3">3.a/3</a></div></dl><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI05-0254-1</em>}<!-- --> <br>A class-wide type invariant cannot be hidden in the private part, as the creator of an extension needs to know about it in order to conform to it in any new or overriding operations. On the other hand, a specific type invariant is not inherited, so that no operation outside of the original package needs to conform to it; thus there is no need for it to be visible. <br></div></div></div><div class="wrapper_ab13"><a id="p3.b" href="#p3.b" class="text_WcJ3">3.b/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>Aspect Description for </strong><strong>Type_Invariant&#x27;Class: </strong>A condition that will hold true for all objects in a class of types.<br></div></div></div><div class="wrapper_ab13"><a id="p4" href="#p4" class="text_WcJ3">4</a></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="name-resolution-rules">Name Resolution Rules<a class="hash-link" href="#name-resolution-rules" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p5" href="#p5" class="text_WcJ3">5/3</a></div><p>{<em>AI05-0146-1</em>}<!-- --> <br>The expected type for an invariant expression is any boolean type.<br></p><div class="wrapper_ab13"><a id="p6" href="#p6" class="text_WcJ3">6/5</a></div><p>{<em>AI05-0146-1</em>}<!-- --> <!-- -->{<em>AI12-0150-1</em>}<!-- --> <!-- -->{<em>AI12-0159-1</em>}<!-- --> <!-- -->{<em>AI12-0199-1</em>}<!-- --> <br>[Within an invariant expression, the identifier of the first subtype of the associated type denotes the current instance of the type.] Within an invariant expression for the Type_Invariant aspect of a type <em>T</em>, the type of this current instance is <em>T</em>. Within an invariant expression for the Type_Invariant&#x27;Class aspect of a type <em>T</em>, the type of this current instance is interpreted as though it had a (notional) nonabstract type <em>NT</em> that is a visible formal derived type whose ancestor type is <em>T</em>.[ The effect of this interpretation is that the only operations that can be applied to this current instance are those defined for such a formal derived type.]<br></p><div class="wrapper_ab13"><a id="p6.a" href="#p6.a" class="text_WcJ3">6.a/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>proof</div><div class="admonitionContent_a8rJ"><strong></strong>The first sentence is given formally in <a href="/docs/arm/AA-13/AA-13.1#Subclause_13.1.1">13.1.1</a>. <br></div></div></div><div class="wrapper_ab13"><a id="p6.b" href="#p6.b" class="text_WcJ3">6.b/4</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0159-1</em>}<!-- --> <br>The rules for Type_Invariant&#x27;Class ensure that the invariant expression is well-defined for any type descended from <em>T</em>. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="legality-rules-1">Legality Rules<a class="hash-link" href="#legality-rules-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p7" href="#p7" class="text_WcJ3">7/3</a></div><p>{<em>AI05-0146-1</em>}<!-- --> <br>[The Type_Invariant&#x27;Class aspect shall not be specified for an untagged type.] The Type_Invariant aspect shall not be specified for an abstract type.<br></p><div class="wrapper_ab13"><a id="p7.a" href="#p7.a" class="text_WcJ3">7.a/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>proof</div><div class="admonitionContent_a8rJ"><strong></strong>The first sentence is given formally in <a href="/docs/arm/AA-13/AA-13.1#Subclause_13.1.1">13.1.1</a>. <br></div></div></div><div class="wrapper_ab13"><a id="p7.1" href="#p7.1" class="text_WcJ3">7.1/5</a></div><p>{<em>AI12-0042-1</em>}<!-- --> <!-- -->{<em>AI12-0382-1</em>}<!-- --> <br>If a type extension occurs immediately within the visible part of a package specification, at a point where a private operation of some ancestor is visible and inherited, and a Type_Invariant&#x27;Class expression applies to that ancestor, then the inherited operation shall be abstract or shall be overridden. <br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="static-semantics-2">Static Semantics<a class="hash-link" href="#static-semantics-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p8" href="#p8" class="text_WcJ3">8/3</a></div><p>{<em>AI05-0250-1</em>}<!-- --> <br>[If the Type_Invariant aspect is specified for a type <em>T</em>, then the invariant expression applies to <em>T</em>.]<br></p><div class="wrapper_ab13"><a id="p9" href="#p9" class="text_WcJ3">9/5</a></div><p>{<em>AI05-0146-1</em>}<!-- --> <!-- -->{<em>AI12-0199-1</em>}<!-- --> <br>If the Type_Invariant&#x27;Class aspect is specified for a tagged type <em>T</em>, then a <em>corresponding expression</em> also applies to each nonabstract descendant <em>T1</em> of <em>T</em> [(including <em>T</em> itself if it is nonabstract)]. The corresponding expression is constructed from the associated expression as follows:<br></p><div class="wrapper_ab13"><a id="p9.1" href="#p9.1" class="text_WcJ3">9.1/5</a></div><ul><li>{<em>AI12-0199-1</em>}<!-- --> <br>References to nondiscriminant components of <em>T</em> (or to <em>T</em> itself) are replaced with references to the corresponding components of <em>T1</em> (or to <em>T1</em> as a whole).<br></li><div class="wrapper_ab13"><a id="p9.a.1" href="#p9.a.1" class="text_WcJ3">9.a.1/5</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0199-1</em>}<!-- --> <br>The only nondiscriminant components visible at the point of such an aspect specification are necessarily inherited from some nonprivate ancestor. <br></div></div></div><div class="wrapper_ab13"><a id="p9.2" href="#p9.2" class="text_WcJ3">9.2/5</a></div><ul><li>{<em>AI12-0199-1</em>}<!-- --> <br>References to discriminants of <em>T</em> are replaced with references to the corresponding discriminant of <em>T1</em>, or to the specified value for the discriminant, if the discriminant is specified by the <code><a href="/docs/arm/AA-3/AA-3.4#S0035">derived_type_definition</a></code> for some type that is an ancestor of <em>T1</em> and a descendant of <em>T</em> (see <a href="/docs/arm/AA-3/AA-3.7">3.7</a>). <br></li><div class="wrapper_ab13"><a id="p9.a" href="#p9.a" class="text_WcJ3">9.a/5</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><em>This paragraph was deleted.</em><br></div></div></div><div class="wrapper_ab13"><a id="p9.b" href="#p9.b" class="text_WcJ3">9.b/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>The associated expression from which the corresponding expression is constructed is the one that applies to the descendant type; &quot;applies&quot; is formally defined in <a href="/docs/arm/AA-13/AA-13.1#Subclause_13.1.1">13.1.1</a>. <br></div></div></div><div class="wrapper_ab13"><a id="p9.3" href="#p9.3" class="text_WcJ3">9.3/5</a></div><p>{<em>AI12-0075-1</em>}<!-- --> <!-- -->{<em>AI12-0191-1</em>}<!-- --> <br>For a nonabstract type <em>T</em>, a callable entity is said to be a <em>boundary entity</em> for <em>T</em> if it is declared within the immediate scope of <em>T</em> (or by an instance of a generic unit, and the generic is declared within the immediate scope of type <em>T</em>), or is the Read or Input stream-oriented attribute of type <em>T</em>, and either:<br></p><div class="wrapper_ab13"><a id="p9.4" href="#p9.4" class="text_WcJ3">9.4/5</a></div><ul><li><em>T</em> is a private type or a private extension and the callable entity is visible outside the immediate scope of type T or overrides an inherited operation that is visible outside the immediate scope of <em>T</em>; or<br></li><div class="wrapper_ab13"><a id="p9.5" href="#p9.5" class="text_WcJ3">9.5/5</a></div><li><em>T</em> is a record extension, and the callable entity is a primitive operation visible outside the immediate scope of type <em>T</em> or overrides an inherited operation that is visible outside the immediate scope of <em>T</em>.<br></li><div class="wrapper_ab13"><a id="p9.c" href="#p9.c" class="text_WcJ3">9.c/5</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0191-1</em>}<!-- --> <br>A boundary entity for type <em>T</em> is one that might require an invariant check for <em>T</em>. It includes subprograms that don&#x27;t (visibly) involve T; since we don&#x27;t want to break privacy, we can&#x27;t statically know if some private type has some part of <em>T</em>. We&#x27;ll reduce the set when we describe the actual checks. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="dynamic-semantics-1">Dynamic Semantics<a class="hash-link" href="#dynamic-semantics-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p10" href="#p10" class="text_WcJ3">10/4</a></div><p>{<em>AI05-0146-1</em>}<!-- --> <!-- -->{<em>AI05-0247-1</em>}<!-- --> <!-- -->{<em>AI05-0290-1</em>}<!-- --> <!-- -->{<em>AI12-0150-1</em>}<!-- --> <br>If one or more invariant expressions apply to a nonabstract type <em>T</em>, then an invariant check is performed at the following places, on the specified object(s):<br></p><div class="wrapper_ab13"><a id="p11" href="#p11" class="text_WcJ3">11/4</a></div><ul><li>{<em>AI12-0133-1</em>}<!-- --> <br>After successful initialization of an object of type <em>T</em> by default (see <a href="/docs/arm/AA-3/AA-3.3#Subclause_3.3.1">3.3.1</a>), the check is performed on the new object unless the partial view of <em>T</em> has unknown discriminants;<br></li><div class="wrapper_ab13"><a id="p11.a" href="#p11.a" class="text_WcJ3">11.a/4</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0133-1</em>}<!-- --> <br>The check applies everywhere, even in the package body, because default initialization has to work the same for clients as it does within the package. As such, checks within the package are either harmless or will uncover a bug that could also happen to a client. However, if the partial view of the type has unknown discriminants, no client of the package can declare a default-initialized object. Therefore, no invariant check is needed, as all default initialized objects are necessarily inside the package. <br></div></div></div><div class="wrapper_ab13"><a id="p11.1" href="#p11.1" class="text_WcJ3">11.1/5</a></div><ul><li>{<em>AI12-0049-1</em>}<!-- --> <!-- -->{<em>AI12-0191-1</em>}<!-- --> <br>After successful explicit initialization of the completion of a deferred constant whose nominal type has a part of type <em>T</em>, if the completion is inside the immediate scope of the full view of <em>T</em>, and the deferred constant is visible outside the immediate scope of <em>T</em>, the check is performed on the part(s) of type <em>T</em>;<br></li><div class="wrapper_ab13"><a id="p12" href="#p12" class="text_WcJ3">12/3</a></div><li>After successful conversion to type <em>T</em>, the check is performed on the result of the conversion;<br></li><div class="wrapper_ab13"><a id="p13" href="#p13" class="text_WcJ3">13/3</a></div><li>{<em>AI05-0146-1</em>}<!-- --> <!-- -->{<em>AI05-0269-1</em>}<!-- --> <br>For a view conversion, outside the immediate scope of <em>T</em>, that converts from a descendant of <em>T</em> (including <em>T</em> itself) to an ancestor of type <em>T</em> (other than <em>T</em> itself), a check is performed on the part of the object that is of type <em>T</em>:<br></li><div class="wrapper_ab13"><a id="p14" href="#p14" class="text_WcJ3">14/3</a></div></ul><ul><li>after assigning to the view conversion; and<br></li><div class="wrapper_ab13"><a id="p15" href="#p15" class="text_WcJ3">15/3</a></div><li>after successful return from a call that passes the view conversion as an <strong>in out</strong> or <strong>out</strong> parameter. <br></li><div class="wrapper_ab13"><a id="p15.a" href="#p15.a" class="text_WcJ3">15.a/3</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>For a single view conversion that converts between distantly related types, this rule could be triggered for multiple types and thus multiple invariant checks may be needed. <br></div></div></div><div class="wrapper_ab13"><a id="p15.b" href="#p15.b" class="text_WcJ3">15.b/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>implementation note</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI05-0299-1</em>}<!-- --> <br>For calls to inherited subprograms (including dispatching calls), the implied view conversions mean that a wrapper is probably needed. (See the Note at the bottom of this subclause for more on the model of checks for inherited subprograms.)<br></div></div></div><div class="wrapper_ab13"><a id="p15.c" href="#p15.c" class="text_WcJ3">15.c/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">For view conversions involving class-wide types, the exact checks needed may not be known at compile-time. One way to deal with this is to have an implicit dispatching operation that is given the object to check and the tag of the target of the conversion, and which first checks if the passed tag is not for itself, and if not, checks the its invariant on the object and then calls the operation of its parent type. If the tag is for itself, the operation is complete. <br></div></div></div><div class="wrapper_ab13"><a id="p16" href="#p16" class="text_WcJ3">16/5</a></div><ul><li>{<em>AI12-0146-1</em>}<!-- --> <!-- -->{<em>AI12-0075-1</em>}<!-- --> <!-- -->{<em>AI12-0191-1</em>}<!-- --> <!-- -->{<em>AI12-0193-1</em>}<!-- --> <br>Upon successful return from a call on any callable entity which is a boundary entity for <em>T</em>, an invariant check is performed on each object which is subject to an invariant check for <em>T</em>. In the case of a call to a protected operation, the check is performed before the end of the protected action. In the case of a call to a task entry, the check is performed before the end of the rendezvous. The following objects of a callable entity are subject to an invariant check for <em>T</em>:<br></li><div class="wrapper_ab13"></div><li><em>Paragraph 16 was merged above.</em> <br></li><div class="wrapper_ab13"><a id="p18" href="#p18" class="text_WcJ3">18/5</a></div><li>{<em>AI05-0146-1</em>}<!-- --> <!-- -->{<em>AI05-0269-1</em>}<!-- --> <!-- -->{<em>AI12-0042-1</em>}<!-- --> <!-- -->{<em>AI12-0075-1</em>}<!-- --> <!-- -->{<em>AI12-0191-1</em>}<!-- --> <br>a result with a nominal type that has a part of type <em>T</em>;<br></li><div class="wrapper_ab13"><a id="p19" href="#p19" class="text_WcJ3">19/5</a></div><li>{<em>AI12-0042-1</em>}<!-- --> <!-- -->{<em>AI12-0191-1</em>}<!-- --> <br>an <strong>out</strong> or <strong>in out</strong> parameter whose nominal type has a part of type <em>T</em>;<br></li><div class="wrapper_ab13"><a id="p19.1" href="#p19.1" class="text_WcJ3">19.1/5</a></div><li>{<em>AI12-0075-1</em>}<!-- --> <!-- -->{<em>AI12-0191-1</em>}<!-- --> <br>an access-to-object parameter or result whose designated nominal type has a part of type <em>T</em>; or<br></li><div class="wrapper_ab13"><a id="p20" href="#p20" class="text_WcJ3">20/5</a></div><li>{<em>AI05-0289-1</em>}<!-- --> <!-- -->{<em>AI12-0042-1</em>}<!-- --> <!-- -->{<em>AI12-0044-1</em>}<!-- --> <!-- -->{<em>AI12-0075-1</em>}<!-- --> <!-- -->{<em>AI12-0191-1</em>}<!-- --> <br>for a procedure or entry, an <strong>in</strong> parameter whose nominal type has a part of type <em>T</em>.<br></li><div class="wrapper_ab13"><a id="p20.a" href="#p20.a" class="text_WcJ3">20.a/5</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0167-1</em>}<!-- --> <!-- -->{<em>AI12-0191-1</em>}<!-- --> <br>This is a Dynamic Semantics rule, so we ignore privacy when determining if a check is needed. We do, however, use the nominal type of objects to determine if a part of type <em>T</em> is present; therefore, parts that aren&#x27;t known at compile-time (after ignoring privacy) are never subject to an invariant check. This is preferable, as we don&#x27;t want overhead associated with the possibility that there <em>might</em> exist an extension of a tagged type that has a part of type <em>T</em>. (See the &quot;leaks&quot; note below for avoidance advice.) <br></div></div></div><div class="wrapper_ab13"><a id="p20.b" href="#p20.b" class="text_WcJ3">20.b/4</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>We don&#x27;t check <strong>in</strong> parameters for functions to avoid infinite recursion for calls to public functions appearing in invariant expressions. Such function calls are unavoidable for class-wide invariants and likely for other invariants. This is the simplest rule that avoids trouble, and functions are much more likely to be queries that don&#x27;t modify their parameters than other callable entities. <br></div></div></div><div class="wrapper_ab13"><a id="p21" href="#p21" class="text_WcJ3">21/5</a></div><ul><li>{<em>AI05-0146-1</em>}<!-- --> <!-- -->{<em>AI05-0269-1</em>}<!-- --> <!-- -->{<em>AI12-0075-1</em>}<!-- --> <!-- -->{<em>AI12-0338-1</em>}<!-- --> <br>If the nominal type of a formal parameter (or the designated nominal type of an access-to-object parameter or result) is incomplete at the point of the declaration of the callable entity, and if the completion of that incomplete type does not occur in the same declaration list as the incomplete declaration, then  for purposes of the preceding rules the nominal type is considered to have no parts of type <em>T</em>.<br></li><div class="wrapper_ab13"><a id="p21.1" href="#p21.1" class="text_WcJ3">21.1/4</a></div><li>{<em>AI12-0042-1</em>}<!-- --> <br>For a view conversion to a class-wide type occurring within the immediate scope of <em>T</em>, from a specific type that is a descendant of <em>T</em> (including <em>T</em> itself), a check is performed on the part of the object that is of type <em>T</em>.<br></li><div class="wrapper_ab13"><a id="p21.a" href="#p21.a" class="text_WcJ3">21.a/4</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>Class-wide objects are treated as though they exist outside the scope of every type, and may be passed across package &quot;boundaries&quot; freely without further invariant checks.<br></div></div></div><div class="wrapper_ab13"><a id="p21.b" href="#p21.b" class="text_WcJ3">21.b/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0167-1</em>}<!-- --> <br>Despite this model, if an object of type <em>T</em> that is a component of a class-wide object is modified within the scope of the full view of type <em>T</em>, then there is no invariant check for <em>T</em> at that point. <br></div></div></div><div class="wrapper_ab13"><a id="p22" href="#p22" class="text_WcJ3">22/4</a></div><p>{<em>AI05-0290-1</em>}<!-- --> <!-- -->{<em>AI12-0080-1</em>}<!-- --> <!-- -->{<em>AI12-0159-1</em>}<!-- --> <br>If performing checks is required by the Type_Invariant or Type_Invariant&#x27;Class assertion policies (see <a href="/docs/arm/AA-11/AA-11.4#Subclause_11.4.2">11.4.2</a>) in effect at the point of the corresponding aspect specification applicable to a given type, then the respective invariant expression is considered <em>enabled</em>.<br></p><div class="wrapper_ab13"><a id="p22.a" href="#p22.a" class="text_WcJ3">22.a/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>If a class-wide invariant expression is enabled for a type, it remains enabled when inherited by descendants of that type, even if the policy in effect is Ignore for the inheriting type. <br></div></div></div><div class="wrapper_ab13"><a id="p23" href="#p23" class="text_WcJ3">23/3</a></div><p>{<em>AI05-0146-1</em>}<!-- --> <!-- -->{<em>AI05-0250-1</em>}<!-- --> <!-- -->{<em>AI05-0289-1</em>}<!-- --> <!-- -->{<em>AI05-0290-1</em>}<!-- --> <br>The invariant check consists of the evaluation of each enabled invariant expression that applies to <em>T</em>, on each of the objects specified above. If any of these evaluate to False, Assertions.Assertion_Error is raised at the point of the object initialization, conversion, or call. If a given call requires more than one evaluation of an invariant expression, either for multiple objects of a single type or for multiple types with invariants, the evaluations are performed in an arbitrary order, and if one of them evaluates to False, it is not specified whether the others are evaluated. Any invariant check is performed prior to copying back any by-copy <strong>in out</strong> or <strong>out</strong> parameters. Invariant checks, any postcondition check, and any constraint or predicate checks associated with <strong>in out</strong> or <strong>out</strong> parameters are performed in an arbitrary order.<br></p><div class="wrapper_ab13"><a id="p23.1" href="#p23.1" class="text_WcJ3">23.1/4</a></div><p>{<em>AI12-0150-1</em>}<!-- --> <!-- -->{<em>AI12-0159-1</em>}<!-- --> <br>For an invariant check on a value of type <em>T1</em> based on a class-wide invariant expression inherited from an ancestor type <em>T</em>, any operations within the invariant expression that were resolved as primitive operations of the (notional) formal derived type <em>NT</em> are bound to the corresponding operations of type <em>T1</em> in the evaluation of the invariant expression for the check on <em>T1</em>.<br></p><div class="wrapper_ab13"><a id="p24" href="#p24" class="text_WcJ3">24/3</a></div><p>{<em>AI05-0146-1</em>}<!-- --> <!-- -->{<em>AI05-0247-1</em>}<!-- --> <!-- -->{<em>AI05-0250-1</em>}<!-- --> <br>The invariant checks performed on a call are determined by the subprogram or entry actually invoked, whether directly, as part of a dispatching call, or as part of a call through an access-to-subprogram value.<br></p><div class="wrapper_ab13"><a id="p24.a" href="#p24.a" class="text_WcJ3">24.a/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0149-1</em>}<!-- --> <!-- -->{<em>AI12-0167-1</em>}<!-- --> <!-- -->{<em>AI12-0210-1</em>}<!-- --> <br>Type invariant checks are intended to prevent invariant-violating values from inadvertently &quot;leaking out&quot;; that is, code which cannot see the completion of the private type should not be able to reference invariant-violating values of the type (assuming the type invariant condition itself is well behaved - for example, no uses of global variables during evaluation of the invariant expression). This goal is not completely achieved; such leaking is possible but, importantly, it requires assistance (deliberate or not) of some form from the package that declares the invariant-bearing private type (or a child unit thereof); a client of a well-crafted package cannot use these holes to obtain an invariant-violating value without help.<br></div></div></div><div class="wrapper_ab13"><a id="p24.b" href="#p24.b" class="text_WcJ3">24.b/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0210-1</em>}<!-- --> <br>The list of known techniques whereby this kind of leak can occur (ignoring things like erroneous execution and the various forms of unchecked type conversion) consists of:<br></div></div></div><div class="wrapper_ab13"><a id="p24.c" href="#p24.c" class="text_WcJ3">24.c/5</a></div><ul><li>A boundary entity might assign an invariant-violating value to a global variable that is visible to client code.<br></li><div class="wrapper_ab13"><a id="p24.d" href="#p24.d" class="text_WcJ3">24.d/5</a></div><li>{<em>AI12-0149-1</em>}<!-- --> <br>Invariant checks on subprogram return are not performed on objects that are accessible only through access-valued components of other objects. This can only cause a leak if there is a type with access-valued components that is used as a parameter or result type of a boundary entity. For a type <em>T</em> that has a type invariant, avoiding the declaration of types with access-valued components designating objects with parts of <em>T</em> in the package that contains <em>T</em> is sufficient to prevent this leak.<br></li><div class="wrapper_ab13"><a id="p24.e" href="#p24.e" class="text_WcJ3">24.e/5</a></div><li>A client could call through an access-to-subprogram value and reach a subprogram body that has visibility on the full declaration of a type; no invariant checks will be performed if the designated subprogram is not itself a boundary subprogram. This leak can only happen if an access-to-subprogram value of a subprogram that is not visible to clients is passed out to clients.<br></li><div class="wrapper_ab13"><a id="p24.f" href="#p24.f" class="text_WcJ3">24.f/5</a></div><li>{<em>AI12-0167-1</em>}<!-- --> <!-- -->{<em>AI12-0191-1</em>}<!-- --> <br>Invariant checks are only performed for parts of the nominal type for tagged parameters and function results. This means that components of extensions are not checked (these would be very expensive to check as any tagged type <em>might</em> have such an extension in the future, even though that would be very unlikely). For this leak to occur for a type <em>T</em> that has a type invariant, the body of a boundary entity of <em>T</em> needs to have visibility on a type extension that has components of <em>T</em> or access-to-<em>T</em> and also has an ancestor type (or class) as a parameter or result of the subprogram.<br></li><div class="wrapper_ab13"><a id="p24.g" href="#p24.g" class="text_WcJ3">24.g/5</a></div><li>{<em>AI12-0338-1</em>}<!-- --> <br>Invariant checks are not performed for parts of incomplete types when the completion is not available. For this leak to occur for a type <em>T</em> that has a type invariant and is declared in a package <em>P</em>, one has to use a <strong>limited with</strong> on a package that has <em>P</em> in its semantic closure, and then use a type from that package as a parameter or result of a boundary subprogram for <em>T</em> (or as the designated type of a parameter or result of such a subprogram).<br></li><div class="wrapper_ab13"><a id="p24.h" href="#p24.h" class="text_WcJ3">24.h/5</a></div><li>{<em>AI12-0210-1</em>}<!-- --> <br>Consider a package <em>P</em> which declares an invariant-bearing private type <em>T</em> and a generic package <em>P.G1</em>, which in turn declares another generic package <em>P.G1.G2</em>. Outside of package <em>P</em>, there are declarations of an instantiation <em>I1</em> of <em>P.G1</em> and an instantiation <em>I2</em> of <em>I1.G2</em>. <em>I2</em> can declare visible subprograms whose bodies see the full view of <em>T</em> and yet these subprograms are not boundary subprograms (because the generic <em>I1.G2</em> is not declared within the immediate scope of <em>T</em> - <em>G1.G2</em> is, but that&#x27;s irrelevant). So a call to one of these subprograms from outside of <em>P</em> could yield an invariant-violating value. So long as a nested generic of a nested generic unit of <em>P</em> is not declared, no such leaks are possible.<br></li><div class="wrapper_ab13"><a id="p24.i" href="#p24.i" class="text_WcJ3">24.i/5</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0210-1</em>}<!-- --> <br>All of these leaks require cooperation of some form (as detailed above) from within the immediate scope of the invariant-bearing type.<br></div></div></div><div class="wrapper_ab13"><a id="p24.j" href="#p24.j" class="text_WcJ3">24.j/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>implementation note</div><div class="admonitionContent_a8rJ"><strong></strong>The implementation might want to produce a warning if a private extension has an ancestor type that is a visible extension, and an invariant expression depends on the value of one of the components from a visible extension part. <br></div></div></div><div class="wrapper_ab13"><a id="p25" href="#p25" class="text_WcJ3">25/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE   <!-- -->{<em>AI05-0250-1</em>}<!-- --> <!-- -->{<em>AI05-0269-1</em>}<!-- --> <br>For a call of a primitive subprogram of type <em>NT</em> that is inherited from type <em>T</em>, the specified checks of the specific invariants of both the types <em>NT</em> and <em>T</em> are performed. For a call of a primitive subprogram of type <em>NT</em> that is overridden for type <em>NT</em>, the specified checks of the specific invariants of only type <em>NT</em> are performed.<br></div></div></div><div class="wrapper_ab13"><a id="p25.a" href="#p25.a" class="text_WcJ3">25.a/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>proof</div><div class="admonitionContent_a8rJ"><strong></strong>This follows from the definition of a call on an inherited subprogram as view conversions of the parameters of the type and a call to the original subprogram (see <a href="/docs/arm/AA-3/AA-3.4">3.4</a>), along with the normal invariant checking rules. In particular, the call to the original subprogram takes care of any checks needed on type <em>T</em>, and the checks required on view conversions take care of any checks needed on type <em>NT</em>, specifically on <strong>in out</strong> and <strong>out</strong> parameters. We require this in order that the semantics of an explicitly defined wrapper that does nothing but call the original subprogram is the same as that of an inherited subprogram. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="examples-2">Examples<a class="hash-link" href="#examples-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p26" href="#p26" class="text_WcJ3">26/5</a></div><p>{<em>AI12-0312-1</em>}<!-- --> <!-- -->{<em>AI12-0429-1</em>}<!-- --> <em><br>Example of a work scheduler where only urgent work can be scheduled for weekends:</em><br></p><div class="wrapper_ab13"><a id="p27" href="#p27" class="text_WcJ3">27/5</a></div><pre tabindex="0" class="codeBlockStandalone_vgfk thin-scrollbar codeBlockContainer_GLAp theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_njep">package Work_Orders is<!-- -->
<div class="wrapper_ab13"><a id="p28" href="#p28" class="text_WcJ3">28/5</a></div>-- See 3.5.1 for type declarations of Level, Day, and Weekday<!-- -->
<div class="wrapper_ab13"><a id="p29" href="#p29" class="text_WcJ3">29/5</a></div>type Work_Order is private with<!-- -->
<!-- -->     Type_Invariant =<!-- -->&gt;<!-- --> Day_Scheduled (Work_Order) in Weekday<!-- -->
<!-- -->                       or else Priority (Work_Order) = Urgent;<!-- -->
<div class="wrapper_ab13"><a id="p30" href="#p30" class="text_WcJ3">30/5</a></div>function Schedule_Work (Urgency  : in Level;<!-- -->
<!-- -->                           To_Occur : in Day) return Work_Order<!-- -->
<!-- -->     with Pre =<!-- -->&gt;<!-- --> Urgency = Urgent or else To_Occur in Weekday;<!-- -->
<div class="wrapper_ab13"><a id="p31" href="#p31" class="text_WcJ3">31/5</a></div>function Day_Scheduled (Order : in Work_Order) return Day;<!-- -->
<div class="wrapper_ab13"><a id="p32" href="#p32" class="text_WcJ3">32/5</a></div>function Priority (Order : in Work_Order) return Level;<!-- -->
<div class="wrapper_ab13"><a id="p33" href="#p33" class="text_WcJ3">33/5</a></div>procedure Change_Priority (Order        : in out Work_Order;<!-- -->
<!-- -->                              New_Priority : in     Level;<!-- -->
<!-- -->                              Changed      : out    Boolean)<!-- -->
<!-- -->      with Post =<!-- -->&gt;<!-- --> Changed = (Day_Scheduled(Order) in Weekday<!-- -->
<!-- -->                              or else Priority(Order) = Urgent);<!-- -->
<div class="wrapper_ab13"><a id="p34" href="#p34" class="text_WcJ3">34/5</a></div>private<!-- -->
<div class="wrapper_ab13"><a id="p35" href="#p35" class="text_WcJ3">35/5</a></div>type Work_Order is record<!-- -->
<!-- -->      Scheduled : Day;<!-- -->
<!-- -->      Urgency   : Level;<!-- -->
<!-- -->   end record;<!-- -->
<div class="wrapper_ab13"><a id="p36" href="#p36" class="text_WcJ3">36/5</a></div>end Work_Orders;<!-- -->
<div class="wrapper_ab13"><a id="p37" href="#p37" class="text_WcJ3">37/5</a></div>package body Work_Orders is<!-- -->
<div class="wrapper_ab13"><a id="p38" href="#p38" class="text_WcJ3">38/5</a></div>function Schedule_Work (Urgency  : in Level;<!-- -->
<!-- -->                           To_Occur : in Day) return Work_Order is<!-- -->
<!-- -->     (Scheduled =<!-- -->&gt;<!-- --> To_Occur, Urgency =<!-- -->&gt;<!-- --> Urgency);<!-- -->
<div class="wrapper_ab13"><a id="p39" href="#p39" class="text_WcJ3">39/5</a></div>function Day_Scheduled (Order : in Work_Order) return Day is<!-- -->
<!-- -->     (Order.Scheduled);<!-- -->
<div class="wrapper_ab13"><a id="p40" href="#p40" class="text_WcJ3">40/5</a></div>function Priority (Order : in Work_Order) return Level is<!-- -->
<!-- -->     (Order.Urgency);<!-- -->
<div class="wrapper_ab13"><a id="p41" href="#p41" class="text_WcJ3">41/5</a></div>procedure Change_Priority (Order        : in out Work_Order;<!-- -->
<!-- -->                              New_Priority : in     Level;<!-- -->
<!-- -->                              Changed      : out    Boolean) is<!-- -->
<!-- -->   begin<!-- -->
<!-- -->      -- Ensure type invariant is not violated<!-- -->
<!-- -->      if Order.Urgency = Urgent or else (Order.Scheduled in Weekday) then<!-- -->
<!-- -->         Changed := True;<!-- -->
<!-- -->         Order.Urgency := New_Priority;<!-- -->
<!-- -->      else<!-- -->
<!-- -->         Changed := False;<!-- -->
<!-- -->      end if;<!-- -->
<!-- -->   end Change_Priority;<!-- -->
<div class="wrapper_ab13"><a id="p42" href="#p42" class="text_WcJ3">42/5</a></div>end Work_Orders;<!-- -->
</code></pre><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-2005-1">Extensions to Ada 2005<a class="hash-link" href="#extensions-to-ada-2005-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p42.a" href="#p42.a" class="text_WcJ3">42.a/3</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI05-0146-1</em>}<!-- --> <!-- -->{<em>AI05-0247-1</em>}<!-- --> <!-- -->{<em>AI05-0250-1</em>}<!-- --> <!-- -->{<em>AI05-0289-1</em>}<!-- --> <br>Type_Invariant aspects are new. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="inconsistencies-with-ada-2012">Inconsistencies With Ada 2012<a class="hash-link" href="#inconsistencies-with-ada-2012" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p42.b" href="#p42.b" class="text_WcJ3">42.b/4</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0042-1</em>}<!-- --> <strong><br>Corrigendum:</strong> Clarified the definition of when invariant checks occur for inherited subprograms. This might cause checks to be added or removed in some cases. These are all rare cases involving class-wide type invariants and either record extensions or multiple levels of derivation. Additionally, implementations probably make the checks as the intent seems clear, even though the formal language did not include them. So we do not expect this to be a problem in practice.<br></div></div></div><div class="wrapper_ab13"><a id="p42.c" href="#p42.c" class="text_WcJ3">42.c/4</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0042-1</em>}<!-- --> <strong><br>Corrigendum:</strong> Added invariant checks for conversions to class-wide types. This might cause an invariant check to fail in some cases where they would not be made in the original definition of Ada 2012. Such cases represent a hole where a value that fails an invariant could &quot;leak out&quot; of a package, and as such will detect far more bugs than it causes.<br></div></div></div><div class="wrapper_ab13"><a id="p42.d" href="#p42.d" class="text_WcJ3">42.d/4</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0044-1</em>}<!-- --> <strong><br>Corrigendum:</strong> Removed the invariant check for <strong>in</strong> parameters of functions, so that typical invariants don&#x27;t cause infinite recursion. This is strictly inconsistent, as the Ada 2012 definition has this check; therefore, programs could depend on Assertion_Error being raised upon the return from some call on a public function. However, as the intent of assertion checking is to uncover bugs, a program that depends on a bug occurring seems very unlikely.<br></div></div></div><div class="wrapper_ab13"><a id="p42.e" href="#p42.e" class="text_WcJ3">42.e/4</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0049-1</em>}<!-- --> <!-- -->{<em>AI12-0149-1</em>}<!-- --> <strong><br>Corrigendum:</strong> Added an invariant check for deferred constants and for access values returned from functions, so they cannot be used to &quot;leak&quot; values that violate the invariant from a package. This is strictly inconsistent, as the Ada 2012 definition is missing these checks; therefore, programs could depend on using values that violate an invariant outside of the package of definition. These will not raise Assertion_Error in Ada 2012 as defined in the Ada 2012 Reference Manual, but ought to do so (as noted by this change). As these are a violation of the intent of invariants, we think that this change will mainly reveal bugs rather than cause them.<br></div></div></div><div class="wrapper_ab13"><a id="p42.f" href="#p42.f" class="text_WcJ3">42.f/4</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0150-1</em>}<!-- --> <!-- -->{<em>AI12-0159-1</em>}<!-- --> <strong><br>Corrigendum:</strong> Eliminated unintentional redispatching from class-wide type invariants. This means that a different body might be evaluated for a type invariant check where the value has a different tag than that of the type. The change means that the behavior of Type_Invariant and Type_Invariant&#x27;Class will be the same for a particular subprogram, and that the known behavior of the operations can be assumed. We expect that this change will primarily fix bugs, as it will make class-wide type invariants work more like expected. In the case where redispatching is desired, an explicit conversion to a class-wide type can be used.<br></div></div></div><div class="wrapper_ab13"><a id="p42.g" href="#p42.g" class="text_WcJ3">42.g/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI12-0199-1</em>}<!-- --> <strong><br></strong> Class-wide type invariants are no longer checked for abstract types. Thus, a program that previously raised Assertion_Error because of a call to a concrete subprogram of an abstract type will no longer do so. However, programs that depend on assertion failure are likely to be very rare, some explicit conversion to the abstract type is needed to get static binding, and additionally many such checks would call abstract functions (likely causing some compiler failure). As such, this incompatibility most likely will never be seen in practice. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="incompatibilities-with-ada-2012">Incompatibilities With Ada 2012<a class="hash-link" href="#incompatibilities-with-ada-2012" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p42.h" href="#p42.h" class="text_WcJ3">42.h/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0042-1</em>}<!-- --> <!-- -->{<em>AI12-0382-1</em>}<!-- --> <strong><br>Corrigendum:</strong> A private operation that is inherited in the visible part of a package to which a class-wide invariant applies now requires overriding. This is a very unlikely situation, and will prevent problems with invariant checks being added to routines that assume that they don&#x27;t have them. Note: The original wording was missing the restriction to the visible part of the package, this was added later for Ada 2022. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-2012">Extensions to Ada 2012<a class="hash-link" href="#extensions-to-ada-2012" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p42.i" href="#p42.i" class="text_WcJ3">42.i/4</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0041-1</em>}<!-- --> <strong><br>Corrigendum:</strong> Class-wide type invariants can now be specified on interfaces as well as private types. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="wording-changes-from-ada-2012-1">Wording Changes from Ada 2012<a class="hash-link" href="#wording-changes-from-ada-2012-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p42.j" href="#p42.j" class="text_WcJ3">42.j/4</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0133-1</em>}<!-- --> <strong><br>Corrigendum:</strong> Clarified that all objects that are initialized by default should have an invariant check, and added an exception for types with unknown discriminants, as in that case the client cannot declare a default-initialized object. This exception to the check is formally inconsistent, but since it is only removing an assertion failure that occurs where no assertion should be checked anyway (meaning it&#x27;s more likely to fix a bug than cause one), and programs depending on assertion failure should be very rare outside of test cases, we don&#x27;t document this as inconsistent.<br></div></div></div><div class="wrapper_ab13"><a id="p42.k" href="#p42.k" class="text_WcJ3">42.k/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0075-1</em>}<!-- --> <!-- -->{<em>AI12-0191-1</em>}<!-- --> <br>Defined the term &quot;boundary entity&quot; to separate the static rules from the dynamic rules, and allow rules in other subclauses to reference these rules. No semantic change is intended.<br></div></div></div><div class="wrapper_ab13"><a id="p42.l" href="#p42.l" class="text_WcJ3">42.l/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0191-1</em>}<!-- --> <br>Clarified that invariant checks only apply to parts of the nominal type of objects.<br></div></div></div><div class="wrapper_ab13"><a id="p42.m" href="#p42.m" class="text_WcJ3">42.m/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI12-0193-1</em>}<!-- --> <strong><br></strong> Clarified when type invariant checks happen for protected actions and entry calls.<br></div></div></div><div class="wrapper_ab13"><a id="p42.n" href="#p42.n" class="text_WcJ3">42.n/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>correction</div><div class="admonitionContent_a8rJ">{<em>AI12-0338-1</em>}<!-- --> <strong><br></strong> Clarified that type invariant checks do not occur for parts of incomplete types unless the completion is available. <br></div></div></div><a id="Subclause_7.3.3"></a><h2 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="733--default-initial-conditions">7.3.3  Default Initial Conditions<a class="hash-link" href="#733--default-initial-conditions" title="Direct link to heading">â€‹</a></h2><div class="wrapper_ab13"><a id="p1" href="#p1" class="text_WcJ3">1/5</a></div><p>{<em>AI12-0265-1</em>}<!-- --> <!-- -->{<em>AI12-0272-1</em>}<!-- --> <!-- -->{<em>AI12-0396-1</em>}<!-- --> <br>For a private type or private extension (including a generic formal type), the following language-defined assertion aspect may be specified with an <code><a href="/docs/arm/AA-13/AA-13.1#S0346">aspect_specification</a></code> (see <a href="/docs/arm/AA-13/AA-13.1#Subclause_13.1.1">13.1.1</a>):<br></p><div class="wrapper_ab13"><a id="p2" href="#p2" class="text_WcJ3">2/5</a></div><dt><br>{<em>AI12-0265-1</em>}<!-- --> <!-- -->{<em>AI12-0419-1</em>}<!-- --> <br>Default_Initial_Condition</dt><dl><dd>This aspect shall be specified by an <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code>, called a <em>default initial condition expression</em>. Default_Initial_Condition may be specified on a <code><a href="/docs/arm/AA-7/AA-7.3#S0232">private_type_declaration</a></code>, a <code><a href="/docs/arm/AA-7/AA-7.3#S0233">private_extension_declaration</a></code>, a <code><a href="/docs/arm/AA-12/AA-12.5#S0324">formal_private_type_definition</a></code>, or a <code><a href="/docs/arm/AA-12/AA-12.5#S0325">formal_derived_type_definition</a></code>. [The Default_Initial_Condition aspect is not inherited, but its effects are additive, as defined below.]<br></dd><div class="wrapper_ab13"><a id="p2.a" href="#p2.a" class="text_WcJ3">2.a/5</a></div></dl><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>Aspect Description for </strong><strong>Default_Initial_Condition: </strong>A condition that will hold true after the default initialization of an object.<br></div></div></div><div class="wrapper_ab13"><a id="p2.a.1" href="#p2.a.1" class="text_WcJ3">2.a.1/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-tip alert alert--success admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>glossary entry</div><div class="admonitionContent_a8rJ"><strong></strong>A default initial condition is a property that holds for every default-initialized object of a given type.<br></div></div></div><div class="wrapper_ab13"><a id="p3" href="#p3" class="text_WcJ3">3</a></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="name-resolution-rules-1">Name Resolution Rules<a class="hash-link" href="#name-resolution-rules-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p4" href="#p4" class="text_WcJ3">4/5</a></div><p>{<em>AI12-0265-1</em>}<!-- --> <br>The expected type for a default initial condition expression is any boolean type.<br></p><div class="wrapper_ab13"><a id="p5" href="#p5" class="text_WcJ3">5/5</a></div><p>{<em>AI12-0397-1</em>}<!-- --> <br>Within a default initial condition expression associated with a declaration for a type T, a name that denotes the declaration is interpreted as a current instance of a notional (nonabstract) formal derived type NT with ancestor T, that has directly visible primitive operations.<br></p><div class="wrapper_ab13"><a id="p5.a" href="#p5.a" class="text_WcJ3">5.a/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>This is analogous to the rule for Post&#x27;Class (see <a href="/docs/arm/AA-6/AA-6.1#Subclause_6.1.1">6.1.1</a>) and ensures that the expression is well-defined for any descendant of type T. <br></div></div></div><div class="wrapper_ab13"><a id="p5.b" href="#p5.b" class="text_WcJ3">5.b/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>The operations of NT are also nonabstract, so the rule against a call of an abstract subprogram does not trigger for a default initial condition for an abstract type. Note that, presuming T is tagged, it is possible to call class-wide operations of the type T given an object of type NT. Similarly it is possible to explicitly convert an object of type NT to a subtype of T, and pass it to a nonprimitive operation expecting a parameter of type T. [Note that one cannot directly convert to (the first subtype of) T since it represents the current instance of the type within the aspect expression, but one can convert to a subtype of T (including a subtype that matches the first subtype).] <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="legality-rules-2">Legality Rules<a class="hash-link" href="#legality-rules-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p6" href="#p6" class="text_WcJ3">6/5</a></div><p>{<em>AI12-0265-1</em>}<!-- --> <br>The Default_Initial_Condition aspect shall not be specified for a type whose partial view has unknown discriminants[, whether explicitly declared or inherited].<br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="static-semantics-3">Static Semantics<a class="hash-link" href="#static-semantics-3" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p7" href="#p7" class="text_WcJ3">7/5</a></div><p>{<em>AI12-0265-1</em>}<!-- --> <br>If the Default_Initial_Condition aspect is specified for a type T, then the default initial condition expression applies to T and to all descendants of T.<br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="dynamic-semantics-2">Dynamic Semantics<a class="hash-link" href="#dynamic-semantics-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p8" href="#p8" class="text_WcJ3">8/5</a></div><p>{<em>AI12-0265-1</em>}<!-- --> <!-- -->{<em>AI12-0397-1</em>}<!-- --> <br>If one or more default initial condition expressions apply to a [(nonabstract)] type T, then a default initial condition check is performed after successful initialization of an object of type T by default (see <a href="/docs/arm/AA-3/AA-3.3#Subclause_3.3.1">3.3.1</a>). In the case of a controlled type, the check is performed after the call to the type&#x27;s Initialize procedure (see <a href="/docs/arm/AA-7/AA-7.6">7.6</a>).<br></p><div class="wrapper_ab13"><a id="p8.a" href="#p8.a" class="text_WcJ3">8.a/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>proof</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0397-1</em>}<!-- --> <br>If T is an abstract type, then there will never be an initialization of an object of the type. <br></div></div></div><div class="wrapper_ab13"><a id="p9" href="#p9" class="text_WcJ3">9/5</a></div><p>{<em>AI12-0265-1</em>}<!-- --> <br>If performing checks is required by the Default_Initial_Condition assertion policy (see <a href="/docs/arm/AA-11/AA-11.4#Subclause_11.4.2">11.4.2</a>) in effect at the point of the corresponding <code><a href="/docs/arm/AA-13/AA-13.1#S0346">aspect_specification</a></code> applicable to a given type, then the respective default initial condition expression is considered enabled.<br></p><div class="wrapper_ab13"><a id="p10" href="#p10" class="text_WcJ3">10/5</a></div><p>{<em>AI12-0265-1</em>}<!-- --> <!-- -->{<em>AI12-0397-1</em>}<!-- --> <br>The default initial condition check consists of the evaluation of each enabled default initial condition expression that applies to T. Any operations within such an expression that were resolved as primitive operations of the (notional) formal derived type NT, are in the evaluation of the expression resolved as for a formal derived type in an instance with T as the actual type for NT (see <a href="/docs/arm/AA-12/AA-12.5#Subclause_12.5.1">12.5.1</a>). These evaluations, if there are more than one, are performed in an arbitrary order. If any of these evaluate to False, Assertions.Assertion_Error is raised at the point of the object initialization.<br></p><div class="wrapper_ab13"><a id="p10.a" href="#p10.a" class="text_WcJ3">10.a/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>{<em>AI12-0397-1</em>}<!-- --> <br>Just as is true for a formal derived type (see <a href="/docs/arm/AA-12/AA-12.5#Subclause_12.5.1">12.5.1</a>), for a tagged type T, the controlling tag of a call on a primitive of NT will cause the body of the corresponding primitive of T to be executed. For an untagged type T, invoking a primitive of NT will cause the body of the operation of the type where the aspect originated to be executed, with conversions performed as for an inherited subprogram. <br></div></div></div><div class="wrapper_ab13"><a id="p11" href="#p11" class="text_WcJ3">11/5</a></div><p>{<em>AI12-0272-1</em>}<!-- --> <br>[For a generic formal type T, default initial condition checks performed are as determined by the actual type, along with any default initial condition of the formal type itself.]<br></p><div class="wrapper_ab13"><a id="p11.a" href="#p11.a" class="text_WcJ3">11.a/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>proof</div><div class="admonitionContent_a8rJ"><strong></strong>This follows from the general dynamic semantics rules given above, but we mention it explicitly so that there can be no doubt that it is intended. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="implementation-permissions">Implementation Permissions<a class="hash-link" href="#implementation-permissions" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p12" href="#p12" class="text_WcJ3">12/5</a></div><p>{<em>AI12-0332-1</em>}<!-- --> <br>Implementations may extend the syntax or semantics of the Default_Initial_Condition aspect in an implementation-defined manner.<br></p><div class="wrapper_ab13"><a id="p12.a" href="#p12.a" class="text_WcJ3">12.a/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>implementation defined</div><div class="admonitionContent_a8rJ"><strong></strong>Any extensions of the Default_Initial_Condition aspect.<br></div></div></div><div class="wrapper_ab13"><a id="p12.b" href="#p12.b" class="text_WcJ3">12.b/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>This is intended to allow preexisting usages from SPARK 2014 to remain acceptable in conforming implementations, as well as to provide future flexibility. Note the word &quot;extend&quot; in this permission; we expect that any aspect usage that conforms with the (other) rules of this clause will be accepted by any Ada implementation, regardless of any implementation-defined extensions. <br></div></div></div><div class="wrapper_ab13"><a id="p13" href="#p13" class="text_WcJ3">13/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 1   <!-- -->{<em>AI12-0312-1</em>}<!-- --> <br>For an example of the use of this aspect, see the Vector container definition in <a href="/docs/arm/AA-A/AA-A.18#Subclause_A.18.2">A.18.2</a>. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-2012-1">Extensions to Ada 2012<a class="hash-link" href="#extensions-to-ada-2012-1" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p13.a" href="#p13.a" class="text_WcJ3">13.a/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0265-1</em>}<!-- --> <!-- -->{<em>AI12-0272-1</em>}<!-- --> <!-- -->{<em>AI12-0397-1</em>}<!-- --> <br>Aspect Default_Initial_Condition is new. <br></div></div></div><a id="Subclause_7.3.4"></a><h2 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="734--stable-properties-of-a-type">7.3.4  Stable Properties of a Type<a class="hash-link" href="#734--stable-properties-of-a-type" title="Direct link to heading">â€‹</a></h2><div class="wrapper_ab13"><a id="p1" href="#p1" class="text_WcJ3">1/5</a></div><p>{<em>AI12-0187-1</em>}<!-- --> <!-- -->{<em>AI12-0324-1</em>}<!-- --> <br>Certain characteristics of an object of a given type are unchanged by most of the primitive operations of the type. Such characteristics are called <em>stable properties</em> of the type.<br></p><div class="wrapper_ab13"><a id="p1.a.1" href="#p1.a.1" class="text_WcJ3">1.a.1/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-tip alert alert--success admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>glossary entry</div><div class="admonitionContent_a8rJ"><strong></strong>A stable property is a characteristic associated with objects of a given type that is preserved by many of the primitive operations of the type.<br></div></div></div><div class="wrapper_ab13"><a id="p2" href="#p2" class="text_WcJ3">2</a></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="static-semantics-4">Static Semantics<a class="hash-link" href="#static-semantics-4" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p3" href="#p3" class="text_WcJ3">3/5</a></div><p>{<em>AI12-0187-1</em>}<!-- --> <br>A <em>property function</em> of type <em>T</em> is a function with a single parameter of type <em>T</em> or of a class-wide type that covers <em>T</em>.<br></p><div class="wrapper_ab13"><a id="p3.a" href="#p3.a" class="text_WcJ3">3.a/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>This provides restrictions on name resolution so overloaded functions can be used as a stable property function. <br></div></div></div><div class="wrapper_ab13"><a id="p4" href="#p4" class="text_WcJ3">4/5</a></div><p>{<em>AI12-0285-1</em>}<!-- --> <!-- -->{<em>AI12-0324-1</em>}<!-- --> <!-- -->{<em>AI12-0388-1</em>}<!-- --> <br>A <em>type property aspect definition</em> is a list of <code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code>s written in the syntax of a <code><a href="/docs/arm/AA-4/AA-4.3#S0114">positional_array_aggregate</a></code>. A <em>subprogram property aspect definition</em> is a list of <code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code>s, each optionally preceded by reserved word <strong>not</strong>, also written in the syntax of a <code><a href="/docs/arm/AA-4/AA-4.3#S0114">positional_array_aggregate</a></code>.<br></p><div class="wrapper_ab13"><a id="p4.a" href="#p4.a" class="text_WcJ3">4.a/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>To be honest: </strong>A single <code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code> would technically be a parenthesized <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> rather than an <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>; we mean to include that here. We say &quot;syntax of a <code><a href="/docs/arm/AA-4/AA-4.3#S0114">positional_array_aggregate</a></code>&quot; to hopefully clarify that the specification is in no other way an actual <code><a href="/docs/arm/AA-4/AA-4.3#S0106">aggregate</a></code>. <br></div></div></div><div class="wrapper_ab13"><a id="p5" href="#p5" class="text_WcJ3">5/5</a></div><p>{<em>AI12-0187-1</em>}<!-- --> <!-- -->{<em>AI12-0272-1</em>}<!-- --> <br>For a nonformal private type, nonformal private extension, or full type that does not have a partial view, the following language-defined aspects may be specified with an <code><a href="/docs/arm/AA-13/AA-13.1#S0346">aspect_specification</a></code> (see <a href="/docs/arm/AA-13/AA-13.1#Subclause_13.1.1">13.1.1</a>):<br></p><div class="wrapper_ab13"><a id="p6" href="#p6" class="text_WcJ3">6/5</a></div><dt><br>{<em>AI12-0187-1</em>}<!-- --> <!-- -->{<em>AI12-0285-1</em>}<!-- --> <!-- -->{<em>AI12-0405-1</em>}<!-- --> <br>Stable_Properties</dt><dl><dd>This aspect shall be specified by a type property aspect definition; each <code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code> shall statically denote a single property function of the type. This aspect defines the <em>specific stable property functions</em> of the associated type.<br></dd><div class="wrapper_ab13"><a id="p6.a" href="#p6.a" class="text_WcJ3">6.a/5</a></div></dl><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>We do not allow this aspect on generic formal types, as it is only meaningful for primitive subprograms and generic formal types have no such subprograms. <br></div></div></div><div class="wrapper_ab13"><a id="p6.b" href="#p6.b" class="text_WcJ3">6.b/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>Class-wide aspects are only allowed on tagged types (see <a href="/docs/arm/AA-13/AA-13.1#Subclause_13.1.1">13.1.1</a>), so we don&#x27;t say that here. <br></div></div></div><div class="wrapper_ab13"><a id="p6.c" href="#p6.c" class="text_WcJ3">6.c/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>Aspect Description for </strong><strong>Stable_Properties: </strong>A list of functions describing characteristics that usually are unchanged by primitive operations of the type or an individual primitive subprogram.<br></div></div></div><div class="wrapper_ab13"><a id="p7" href="#p7" class="text_WcJ3">7/5</a></div><dt><br>{<em>AI12-0187-1</em>}<!-- --> <!-- -->{<em>AI12-0285-1</em>}<!-- --> <br>Stable_Properties&#x27;Class</dt><dl><dd>This aspect shall be specified by a type property aspect definition; each <code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code> shall statically denote a single property function of the type. This aspect defines the <em>class-wide stable property functions</em> of the associated type. [Unlike most class-wide aspects, Stable_Properties&#x27;Class is not inherited by descendant types and subprograms, but the enhanced class-wide postconditions are inherited in the normal manner.]<br></dd><div class="wrapper_ab13"><a id="p7.a" href="#p7.a" class="text_WcJ3">7.a/5</a></div></dl><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>proof</div><div class="admonitionContent_a8rJ"><strong></strong>Class-wide inheritance has to be explicitly defined. Here we are not making such a definition, so there is no inheritance. <a href="/docs/arm/AA-6/AA-6.1#Subclause_6.1.1">6.1.1</a> defines the inheritance of class-wide postconditions. <br></div></div></div><div class="wrapper_ab13"><a id="p7.b" href="#p7.b" class="text_WcJ3">7.b/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>Since class-wide postconditions are inherited by descendants, we don&#x27;t need the stable property functions to be inherited; if they were inherited, we&#x27;d be duplicating the checks, which we don&#x27;t want. <br></div></div></div><div class="wrapper_ab13"><a id="p7.c" href="#p7.c" class="text_WcJ3">7.c/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>Class-wide aspects are only allowed on primitive subprograms of tagged types (see <a href="/docs/arm/AA-13/AA-13.1#Subclause_13.1.1">13.1.1</a>), so we don&#x27;t say that here. <br></div></div></div><div class="wrapper_ab13"><a id="p7.d" href="#p7.d" class="text_WcJ3">7.d/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ"><strong>Aspect Description for </strong><strong>Stable_Properties&#x27;Class: </strong>A list of functions describing characteristics that usually are unchanged by primitive operations of a class of types or a primitive subprogram for such a class.<br></div></div></div><div class="wrapper_ab13"><a id="p8" href="#p8" class="text_WcJ3">8/5</a></div><p>{<em>AI12-0405-1</em>}<!-- --> <br>The specific and class-wide stable properties of a type together comprise the stable properties of the type. <br></p><div class="wrapper_ab13"><a id="p9" href="#p9" class="text_WcJ3">9/5</a></div><p>{<em>AI12-0187-1</em>}<!-- --> <br>For a primitive subprogram, the following language-defined aspects may be specified with an <code><a href="/docs/arm/AA-13/AA-13.1#S0346">aspect_specification</a></code> (see <a href="/docs/arm/AA-13/AA-13.1#Subclause_13.1.1">13.1.1</a>):<br></p><div class="wrapper_ab13"><a id="p10" href="#p10" class="text_WcJ3">10/5</a></div><dt><br>{<em>AI12-0187-1</em>}<!-- --> <!-- -->{<em>AI12-0285-1</em>}<!-- --> <br>Stable_Properties</dt><dl><dd>This aspect shall be specified by a subprogram property aspect definition; each <code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code> shall statically denote a single property function of a type for which the associated subprogram is primitive.<br></dd><div class="wrapper_ab13"><a id="p11" href="#p11" class="text_WcJ3">11/5</a></div><dt><br>{<em>AI12-0187-1</em>}<!-- --> <!-- -->{<em>AI12-0285-1</em>}<!-- --> <br>Stable_Properties&#x27;Class</dt><dd>This aspect shall be specified by a subprogram property aspect definition; each <code><a href="/docs/arm/AA-4/AA-4.1#S0091">name</a></code> shall statically denote a single property function of a tagged type for which the associated subprogram is primitive. [Unlike most class-wide aspects, Stable_Properties&#x27;Class is not inherited by descendant subprograms, but the enhanced class-wide postconditions are inherited in the normal manner.]<br></dd><div class="wrapper_ab13"><a id="p11.a" href="#p11.a" class="text_WcJ3">11.a/5</a></div></dl><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>The subprogram versions of Stable_Properties are provided to allow overriding the stable properties of a type for an individual primitive subprogram. While they can be used even if the type has no stable properties, that is not an intended use (as simply modifying the postcondition directly makes more sense for something that only happens in one place). <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="legality-rules-3">Legality Rules<a class="hash-link" href="#legality-rules-3" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p12" href="#p12" class="text_WcJ3">12/5</a></div><p>{<em>AI12-0187-1</em>}<!-- --> <br>A stable property function of a type <em>T</em> shall have a nonlimited return type and shall be:<br></p><div class="wrapper_ab13"><a id="p13" href="#p13" class="text_WcJ3">13/5</a></div><ul><li>a primitive function with a single parameter of mode <strong>in</strong> of type <em>T</em>; or<br></li><div class="wrapper_ab13"><a id="p14" href="#p14" class="text_WcJ3">14/5</a></div><li>a function that is declared immediately within the declarative region in which an ancestor type of <em>T</em> is declared and has a single parameter of mode <strong>in</strong> of a class-wide type that covers <em>T</em>. <br></li><div class="wrapper_ab13"><a id="p15" href="#p15" class="text_WcJ3">15/5</a></div></ul><p>{<em>AI12-0187-1</em>}<!-- --> <!-- -->{<em>AI12-0285-1</em>}<!-- --> <br>In a subprogram property aspect definition for a subprogram <em>S</em>:<br></p><div class="wrapper_ab13"><a id="p16" href="#p16" class="text_WcJ3">16/5</a></div><ul><li>all or none of the items shall be preceded by <strong>not</strong>;<br></li><div class="wrapper_ab13"><a id="p16.a" href="#p16.a" class="text_WcJ3">16.a/5</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>Mixing <strong>not</strong> functions with regular functions is not allowed. <br></div></div></div><div class="wrapper_ab13"><a id="p17" href="#p17" class="text_WcJ3">17/5</a></div><ul><li>any property functions mentioned after <strong>not</strong> shall be a stable property function of a type for which <em>S</em> is primitive. <br></li><div class="wrapper_ab13"><a id="p18" href="#p18" class="text_WcJ3">18/5</a></div></ul><p>{<em>AI12-0405-1</em>}<!-- --> <br>If a <code><a href="/docs/arm/AA-8/AA-8.5#S0242">subprogram_renaming_declaration</a></code> declares a primitive subprogram of a type <em>T</em>, then the renamed callable entity shall also be a primitive subprogram of type <em>T</em> and the two primitive subprograms shall have the same specific stable property functions and the same class-wide stable property functions (see below).<br></p><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="static-semantics-5">Static Semantics<a class="hash-link" href="#static-semantics-5" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p19" href="#p19" class="text_WcJ3">19/5</a></div><p>{<em>AI12-0187-1</em>}<!-- --> <br>For a primitive subprogram <em>S</em> of a type <em>T</em>, the specific stable property functions of <em>S</em> for type <em>T</em> are:<br></p><div class="wrapper_ab13"><a id="p20" href="#p20" class="text_WcJ3">20/5</a></div><ul><li>if <em>S</em> has an aspect Stable_Properties specified that does not include <strong>not</strong>, those functions denoted in the aspect Stable_Properties for <em>S</em> that have a parameter of <em>T</em> or <em>T</em>&#x27;Class;<br></li><div class="wrapper_ab13"><a id="p21" href="#p21" class="text_WcJ3">21/5</a></div><li>if <em>S</em> has an aspect Stable_Properties specified that includes <strong>not</strong>, those functions denoted in the aspect Stable_Properties for <em>T</em>, excluding those denoted in the aspect Stable_Properties for <em>S</em>;<br></li><div class="wrapper_ab13"><a id="p22" href="#p22" class="text_WcJ3">22/5</a></div><li>if <em>S</em> does not have an aspect Stable_Properties, those functions denoted in the aspect Stable_Properties for <em>T</em>, if any.<br></li><div class="wrapper_ab13"><a id="p22.a" href="#p22.a" class="text_WcJ3">22.a/5</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>discussion</div><div class="admonitionContent_a8rJ"><strong></strong>A primitive subprogram can be primitive for more than one type, and thus there can be more than one such set of specific stable properties for a subprogram. Thus we say &quot;specific stable property functions for subprogram <em>S</em> for type <em>T</em>&quot;. <br></div></div></div><div class="wrapper_ab13"><a id="p23" href="#p23" class="text_WcJ3">23/5</a></div><p>{<em>AI12-0187-1</em>}<!-- --> <br>A similar definition applies for class-wide stable property functions by replacing aspect Stable_Properties with aspect Stable_Properties&#x27;Class in the above definition.<br></p><div class="wrapper_ab13"><a id="p24" href="#p24" class="text_WcJ3">24/5</a></div><p>{<em>AI12-0187-1</em>}<!-- --> <br>The <em>explicit</em> specific postcondition expression for a subprogram <em>S</em> is the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> directly specified for <em>S</em> with the Post aspect. Similarly, the <em>explicit</em> class-wide postcondition expression for a subprogram <em>S</em> is the <code><a href="/docs/arm/AA-4/AA-4.4#S0132">expression</a></code> directly specified for <em>S</em> with the Post&#x27;Class aspect.<br></p><div class="wrapper_ab13"><a id="p25" href="#p25" class="text_WcJ3">25/5</a></div><p>{<em>AI12-0187-1</em>}<!-- --> <br>For a primitive subprogram <em>S</em> of a type <em>T</em> that has a parameter <em>P</em> of type <em>T</em>, the parameter is <em>excluded from stable property checks</em> if:<br></p><div class="wrapper_ab13"><a id="p26" href="#p26" class="text_WcJ3">26/5</a></div><ul><li><em>S</em> is a stable property function of <em>T</em>;<br></li><div class="wrapper_ab13"><a id="p26.a" href="#p26.a" class="text_WcJ3">26.a/5</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>This prevents possible infinite recursion, where the postcondition calls the function itself (directly or indirectly). <br></div></div></div><div class="wrapper_ab13"><a id="p27" href="#p27" class="text_WcJ3">27/5</a></div><ul><li><em>P</em> has mode <strong>out</strong>;<br></li><div class="wrapper_ab13"><a id="p27.a" href="#p27.a" class="text_WcJ3">27.a/5</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>A parameter of mode <strong>out</strong> doesn&#x27;t necessarily have a defined input value, so there is no old value to compare with. Ideally, the postcondition will include expressions defining the values of the stable properties after the call, but we do not try to ensure this. <br></div></div></div><div class="wrapper_ab13"><a id="p28" href="#p28" class="text_WcJ3">28/5</a></div><ul><li>the Global aspect of <em>S</em> is <strong>null</strong>, and <em>P</em> has mode <strong>in</strong> and the mode is not overridden by a global aspect.<br></li><div class="wrapper_ab13"><a id="p28.a" href="#p28.a" class="text_WcJ3">28.a/5</a></div></ul><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>An <strong>in</strong> parameter of a Global =<!-- -->&gt;<!-- --> <strong>null</strong> subprogram cannot be modified, even if it has indirect parts, without violating the Global aspect. Thus, there is no need to assert that the properties don&#x27;t change. <br></div></div></div><div class="wrapper_ab13"><a id="p29" href="#p29" class="text_WcJ3">29/5</a></div><p>{<em>AI12-0187-1</em>}<!-- --> <!-- -->{<em>AI12-0324-1</em>}<!-- --> <!-- -->{<em>AI12-0405-1</em>}<!-- --> <br>For every primitive subprogram <em>S</em> of a type <em>T</em> that is not an abstract subprogram or null procedure, the specific postcondition expression of <em>S</em> is modified to include expressions of the form <em>F</em>(<em>P</em>) = <em>F</em>(<em>P</em>)&#x27;Old, all <strong>and</strong>ed with each other and any explicit specific postcondition expression, with one such equality included for each specific stable property function <em>F</em> of <em>S</em> for type <em>T</em> that does not occur in the explicit specific postcondition expression of <em>S</em>, and <em>P</em> is each parameter of <em>S</em> that has type <em>T</em> and is not excluded from stable property checks. The resulting specific postcondition expression of <em>S</em> is used in place of the explicit specific postcondition expression of <em>S</em> [when interpreting the meaning of the postcondition as defined in <a href="/docs/arm/AA-6/AA-6.1#Subclause_6.1.1">6.1.1</a>].<br></p><div class="wrapper_ab13"><a id="p29.a" href="#p29.a" class="text_WcJ3">29.a/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>There is one F(P) = F(P)&#x27;Old subexpression for every combination of a specific stable property function of type <em>T</em> and a parameter of type <em>T</em>. For instance, if there are three specific stable property functions for type <em>T</em> and two parameters of type <em>T</em>, then there are six such subexpressions appended to the postcondition.<br></div></div></div><div class="wrapper_ab13"><a id="p29.b" href="#p29.b" class="text_WcJ3">29.b/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">The resulting specific postcondition is evaluated as described in <a href="/docs/arm/AA-6/AA-6.1#Subclause_6.1.1">6.1.1</a>. One hopes that compilers can be smart enough to prove that many of these added postcondition subexpressions cannot fail, but that is not required here. <br></div></div></div><div class="wrapper_ab13"><a id="p29.c" href="#p29.c" class="text_WcJ3">29.c/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>Null procedures and abstract subprograms are excluded as they do not allow specific postconditions. Moreover, for null procedures, static analysis tools can be certain that their parameters aren&#x27;t modified so there is no need to assert that the properties don&#x27;t change. Abstract subprograms cannot be directly called. <br></div></div></div><div class="wrapper_ab13"><a id="p30" href="#p30" class="text_WcJ3">30/5</a></div><p>{<em>AI12-0187-1</em>}<!-- --> <!-- -->{<em>AI12-0324-1</em>}<!-- --> <!-- -->{<em>AI12-0405-1</em>}<!-- --> <br>For every primitive subprogram <em>S</em> of a type <em>T</em>, the class-wide postcondition expression of <em>S</em> is modified to include expressions of the form <em>F</em>(<em>P</em>) = <em>F</em>(<em>P</em>)&#x27;Old, all <strong>and</strong>ed with each other and any explicit class-wide postcondition expression, with one such equality included for each class-wide stable property function <em>F</em> of <em>S</em> for type <em>T</em> that does not occur in any class-wide postcondition expression that applies to <em>S</em>, and <em>P</em> is each parameter of <em>S</em> that has type <em>T</em> and is not excluded from stable property checks. The resulting class-wide postcondition expression of <em>S</em> is used in place of the explicit class-wide postcondition expression of <em>S</em> [when interpreting the meaning of the postcondition as defined in <a href="/docs/arm/AA-6/AA-6.1#Subclause_6.1.1">6.1.1</a>].<br></p><div class="wrapper_ab13"><a id="p30.a" href="#p30.a" class="text_WcJ3">30.a/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-info alert alert--info admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>reason</div><div class="admonitionContent_a8rJ"><strong></strong>We suppress stable property expressions if the property function appears in the explicit class-wide postcondition, or in any inherited class-wide postconditions. If we didn&#x27;t do that, we could have conflicting requirements in an inherited postcondition and the current one. We also avoid redundant property checks. <br></div></div></div><div class="wrapper_ab13"><a id="p30.b" href="#p30.b" class="text_WcJ3">30.b/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ramification</div><div class="admonitionContent_a8rJ"><strong></strong>The resulting class-wide postcondition is evaluated as described in <a href="/docs/arm/AA-6/AA-6.1#Subclause_6.1.1">6.1.1</a>. In particular, the enhanced class-wide postcondition <em>is</em> the class-wide postcondition for <em>S</em>, and therefore inherited postconditions include any stable property expressions for <em>S</em>.<br></div></div></div><div class="wrapper_ab13"><a id="p30.c" href="#p30.c" class="text_WcJ3">30.c/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0405-1</em>}<!-- --> <br>In the case of a derived type <em>T</em>, when the preceding rules refer to &quot;every primitive subprogram <em>S</em> of a type <em>T</em>&quot;, the referenced set of subprograms includes any inherited subprograms. <br></div></div></div><div class="wrapper_ab13"><a id="p31" href="#p31" class="text_WcJ3">31/5</a></div><p>{<em>AI12-0405-1</em>}<!-- --> <br>The equality operation that is used in the aforementioned equality expressions is as described in the case of an individual membership test whose <code><a href="/docs/arm/AA-4/AA-4.4#S0137">membership_choice</a></code> is a <em>choice_</em><code><a href="/docs/arm/AA-4/AA-4.4#S0138">simple_expression</a></code> (see <a href="/docs/arm/AA-4/AA-4.5#Subclause_4.5.2">4.5.2</a>).<br></p><div class="wrapper_ab13"><a id="p32" href="#p32" class="text_WcJ3">32/5</a></div><p>{<em>AI12-0405-1</em>}<!-- --> <br>The Post expression additions described above are enabled or disabled depending on the Post assertion policy that is in effect at the point of declaration of the subprogram <em>S</em>. A similar rule applies to the Post&#x27;Class expression additions. <br></p><div class="wrapper_ab13"><a id="p33" href="#p33" class="text_WcJ3">33/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">NOTE 1   <!-- -->{<em>AI12-0112-1</em>}<!-- --> <br>For an example of the use of these aspects, see the Vector container definition in <a href="/docs/arm/AA-A/AA-A.18#Subclause_A.18.2">A.18.2</a>. <br></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_cdYT" id="extensions-to-ada-2012-2">Extensions to Ada 2012<a class="hash-link" href="#extensions-to-ada-2012-2" title="Direct link to heading">â€‹</a></h4><div class="wrapper_ab13"><a id="p33.a" href="#p33.a" class="text_WcJ3">33.a/5</a></div><div class="aarm_zLop"><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_IlAW"><div class="admonitionHeading_bNbO"><span class="admonitionIcon_H453"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note: </div><div class="admonitionContent_a8rJ">{<em>AI12-0187-1</em>}<!-- --> <!-- -->{<em>AI12-0285-1</em>}<!-- --> <!-- -->{<em>AI12-0405-1</em>}<!-- --> <br>These aspects are new. <br></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/arm/AA-7/AA-7.2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">7.2 Package Bodies</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/arm/AA-7/AA-7.4"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">7.4 Deferred Constants</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_xYee thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#731--private-operations" class="table-of-contents__link toc-highlight">7.3.1  Private Operations</a></li><li><a href="#732--type-invariants" class="table-of-contents__link toc-highlight">7.3.2  Type Invariants</a></li><li><a href="#733--default-initial-conditions" class="table-of-contents__link toc-highlight">7.3.3  Default Initial Conditions</a></li><li><a href="#734--stable-properties-of-a-type" class="table-of-contents__link toc-highlight">7.3.4  Stable Properties of a Type</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learning</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/why-ada">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/books">Books</a></li><li class="footer__item"><a href="https://learn.adacore.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn Ada (by AdaCore)</a></li><li class="footer__item"><a href="https://learn.adacore.com/courses/intro-to-spark/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn SPARK (by AdaCore)</a></li></ul></div><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/arm/AA-Title">Reference Manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/style-guide/Ada_Style_Guide">Style Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gitter.im/ada-lang/Lobby" target="_blank" rel="noopener noreferrer" class="fa-icon footer__image footer-gitter-link">Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.reddit.com/r/ada/" target="_blank" rel="noopener noreferrer" class="fa-icon footer__image footer-reddit-link">Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/ada_lang" target="_blank" rel="noopener noreferrer" class="fa-icon footer__image footer-telegram-link">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/ada" target="_blank" rel="noopener noreferrer" class="fa-icon footer__image footer-stackoverflow-link">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://arg.adaic.org/community-input" target="_blank" rel="noopener noreferrer" class="footer__link-item">ARG Community Input<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Ecosystem</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://alire.ada.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Alire (Ada package manager)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/ohenley/awesome-ada" target="_blank" rel="noopener noreferrer" class="footer__link-item">Awesome Ada<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.laeran.pl/adaplanet/i/" target="_blank" rel="noopener noreferrer" class="footer__link-item">News, by Ada Planet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://arg.adaic.org/home" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ada Rapporteur Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/ada-lang-io/ada-lang-io" target="_blank" rel="noopener noreferrer" class="fa-icon footer__image footer-github-link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_HOjV"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/ada_saw_coin.svg" alt="Alt" class="themedImage_ppNZ themedImage--light_fir_ footer__logo" width="128" height="128"><img src="/img/ada_saw_coin.svg" alt="Alt" class="themedImage_ppNZ themedImage--dark_Yb8R footer__logo" width="128" height="128"></div><div class="footer__copyright">Copyright Â© 2022 and licensed under Apache 2.0 unless otherwise noted, by the ada-lang-io developers. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.32c5035b.js"></script>
<script src="/assets/js/main.e3b285d5.js"></script>
</body>
</html>